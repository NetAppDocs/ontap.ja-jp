---
permalink: antivirus/file-protection-virus-scanning-concept.html 
sidebar: sidebar 
keywords: anti virus, understand, netapp, virus, scan 
summary: Vscanは、NetAppが開発したウイルス対策スキャン ソリューションで、ウイルスやその他の悪意のあるコードからデータを守れます。パートナーが提供するウイルス対策ソフトウェアとONTAPの機能を組み合わせて、柔軟にファイル スキャンを管理できます。 
---
= NetApp ONTAP Vscanによるウイルススキャンについて学ぶ
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
Vscanは、NetAppが開発したウイルス対策スキャン ソリューションで、ウイルスやその他の悪意のあるコードからデータを守れます。パートナーが提供するウイルス対策ソフトウェアとONTAPの機能を組み合わせて、柔軟にファイル スキャンを管理できます。



== ウイルススキャンの仕組み

スキャン処理は、サードパーティ ベンダーのウイルス対策ソフトウェアをホストする外部サーバで実行されます。

アクティブ スキャン モードに基づいて、ONTAPは、クライアントがSMB経由でファイルにアクセスするとき（オンアクセス）、または特定の場所にあるファイルにアクセスするとき、スケジュールに従って、または即時（オンデマンド）にスキャン要求を送信します。

* _オンアクセススキャン_を使用すると、クライアントがSMB経由でファイルを開く、読み込む、名前を変更する、または閉じる際にウイルスチェックを行うことができます。外部サーバからファイルのスキャンステータスが報告されるまで、ファイル操作は一時停止されます。ファイルがすでにスキャンされている場合、ONTAPはファイル操作を許可します。そうでない場合は、サーバにスキャンを要求します。
+
オンアクセス スキャンは、NFSではサポートされません。

* _オンデマンドスキャン_を使用すると、ファイルのウイルスチェックを即時またはスケジュールに従って実行できます。既存のAVインフラストラクチャは通常、オンアクセススキャン用にサイズ調整されているため、オンデマンドスキャンはオフピーク時にのみ実行することをお勧めします。外部サーバーは、チェックされたファイルのスキャンステータスを更新することで、SMB経由のファイルアクセスの遅延を削減します。ファイルの変更やソフトウェアバージョンの更新があった場合は、外部サーバーに新しいファイルスキャンを要求します。
+
オンデマンド スキャンは、NFS経由でのみエクスポートされたボリュームも含め、SVMネームスペース内のすべてのパスに対して使用できます。



通常、SVMに対してオンアクセス スキャン モードとオンデマンド スキャン モードの両方を有効にします。どちらのモードでも、感染したファイルにはウイルス対策ソフトウェアで設定した処理が実行されます。

NetAppが提供し、外部サーバにインストールされるONTAP Antivirus Connectorが、ストレージ システムとウイルス対策ソフトウェア間の通信を処理します。

image:how-virus-scanning-works-new.gif["ウイルススキャンのワークフロー。コネクタがストレージシステムとウイルス対策ソフトウェア間の通信をどのように処理するかを説明します。"]
