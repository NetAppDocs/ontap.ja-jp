---
sidebar: sidebar 
permalink: authentication/oauth2-external-roles.html 
keywords: oauth 2.0, oauth2, external roles, external role mapping 
summary: 外部ロールは、ONTAPで使用するように設定されたIDプロバイダで定義されます。ONTAP CLIを使用して、これらの外部ロールとONTAPロール間のマッピング関係を作成および管理できます。 
---
= ONTAP での OAuth 2.0 外部ロールマッピング
:hardbreaks:
:allow-uri-read: 
:nofooter: 
:icons: font
:linkattrs: 
:imagesdir: ../media/


[role="lead"]
外部ロールは、ONTAPで使用するように設定されたアイデンティティ プロバイダで定義されます。ONTAP CLIを使用して、これらの外部ロールとONTAPロールのマッピング関係を作成および管理できます。


NOTE: ONTAP REST APIを使用して外部ロールマッピング機能を設定することもできます。詳細については、 https://docs.netapp.com/us-en/ontap-automation/["ONTAP自動化ドキュメント"^]をご覧ください。



== アクセス トークン内の外部ロール

以下は、2つの外部ロールを含むJSONアクセス トークンの一部です。

[listing]
----
  ...
  "appidacr": "1",
  "family_name": "User",
  "name": "Test User 1",
  "oid": "4c2215c7-6d52-40a7-ce71-096fa41379ba",
  "roles": [
    "Global Administrator",
    "Application Administrator"
  ],
  "ver": "1.0",
  ...
----


== 構成

外部ロール マッピング機能は、ONTAPコマンドライン インターフェイスを使用して管理できます。



=== 作成

 `security login external-role-mapping create`コマンドを使用して、ロールマッピング設定を定義できます。このコマンドおよび関連オプションを実行するには、ONTAPの*admin*権限レベルが必要です。

.パラメータ
グループ マッピングの作成に使用するパラメータを以下に示します。

[cols="30,70"]
|===
| パラメータ | 概要 


| `external-role` | 外部のアイデンティティ プロバイダで定義されているロールの名前。 


| `provider` | アイデンティティ プロバイダの名前。これはシステムの識別子である必要があります。 


| `ontap-role` | 外部ロールがマッピングされている既存のONTAPロールを示します。 
|===
.例
[listing]
----
security login external-role-mapping create -external-role "Global Administrator" -provider entra -ontap-role admin
----
 `security login external-role-mapping create`の詳細については、link:https://docs.netapp.com/us-en/ontap-cli/security-login-external-role-mapping-create.html["ONTAPコマンド リファレンス"^]をご覧ください。



=== その他のCLI処理

このコマンドでは、次のような追加の処理がサポートされます。

* 表示
* 変更
* 削除


.関連情報
* link:https://docs.netapp.com/us-en/ontap-cli/["ONTAPコマンド リファレンス"^]

