---
permalink: concepts/high-availability-pairs-concept.html 
sidebar: sidebar 
keywords: high-availability pairs 
summary: クラスタノードは、フォールトトレランスとノンストップオペレーションを実現するためにハイアベイラビリティ（HA）ペアで構成されます。ノードに障害が発生した場合や定期的なメンテナンスのためにノードを停止する必要がある場合は、パートナーがストレージをテイクオーバーしてデータの提供を継続できます。ノードがオンラインに戻ったら、パートナーはストレージをギブバックします。 
---
= ハイアベイラビリティペア
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
クラスタノードは、フォールトトレランスとノンストップオペレーションを実現するために、 _high-availability （ HA ）ペア _ で構成されます。ノードに障害が発生した場合や定期的なメンテナンスのためにノードを停止する必要がある場合、パートナーはそのストレージをテイクオーバーしてデータの提供を継続できます。ノードがオンラインに戻ったときに、 partner_ギ ブバック _storage を提供します。

HAペアは、必ず同じようなコントローラモデルで構成されます。通常、コントローラは冗長電源装置を備えた同じシャーシに配置されます。

HAペアはフォールトトレラントなノードであり、さまざまな方法で相互に通信できます。各ノードでは、パートナーの動作を継続的に確認したり、パートナーの不揮発性メモリのログデータをミラーリングしたりできます。あるノードへの書き込み要求が行われると、両方のノードでNVRAMにログインしてから、クライアントまたはホストに応答が返されます。フェイルオーバー時には、障害が発生したノードのコミットされていない書き込み要求が稼働しているパートナーによってディスクにコミットされ、データの整合性が確保されます。

もう一方のコントローラのストレージメディアへの接続により、テイクオーバー時に各ノードがもう一方のストレージにアクセスできるようになります。ネットワークパスのフェイルオーバーメカニズムにより、クライアントとホストは稼働しているノードと引き続き通信できます。

可用性を確保するには、フェイルオーバー時の追加のワークロードに対応できるように、どちらかのノードのパフォーマンス容量利用率を50%に抑える必要があります。同じ理由で、1つのノードに設定できるNAS仮想ネットワークインターフェイスの最大数の50%を超えないようにすることもできます。

image:high-availability.gif["ハイアベイラビリティペア"]

|===


 a| 
*_ 仮想 ONTAP 実装でのテイクオーバーとギブバック _ *

ONTAP Select for AWS や Cloud Volumes ONTAP のような仮想化された「不要な」 ONTAP 環境では、ノード間でストレージが共有されません。ノードが停止した場合、そのノードのデータの同期ミラーリングされたコピーからパートナーがデータの提供を継続します。ノードのストレージはテイクオーバーされず、データ提供機能のみがテイクオーバーされます。

|===