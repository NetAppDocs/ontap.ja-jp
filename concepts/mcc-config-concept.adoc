---
permalink: concepts/mcc-config-concept.html 
sidebar: sidebar 
keywords: metrocluster continuous availability 
summary: MetroCluster 構成は、物理的に分離された 2 つのミラークラスタを実装することでデータを保護します。各クラスタが、もう一方のクラスタのデータおよび SVM 設定を同期的にレプリケートします。一方のサイトで災害が発生したときは、ミラーリングされた SVM をアクティブ化し、ミラーリングされたデータをセカンダリサイトから提供できます。 
---
= MetroCluster の継続的可用性
:hardbreaks:
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
MetroCluster 構成は、物理的に分離された 2 つのミラークラスタを実装することでデータを保護します。各クラスタが、もう一方のクラスタのデータおよび SVM 設定を同期的にレプリケートします。一方のサイトで災害が発生したときは、ミラーリングされた SVM をアクティブ化し、ミラーリングされたデータをセカンダリサイトから提供できます。

* _ ファブリック接続 MetroCluster 設定は、メトロポリタン規模のクラスタをサポートします。
* _Stretch MetroCluster _configurations は、キャンパス全体のクラスタをサポートします。


いずれの場合も、クラスタ間でピア関係を設定する必要があります

MetroCluster では、 _ SyncMirror _ という ONTAP 機能を使用して、もう一方のクラスタのストレージでコピーまたは _フレ ツクス _ の形式で各クラスタのアグリゲートデータを同期的にミラーリングします。スイッチオーバーでは、サバイバークラスタ上のリモートプレックスがオンラインになり、セカンダリ SVM がデータの提供を開始します。

image::../media/metrocluster.gif[サイトBからデータを提供するMetroCluster を示す図]

|===


 a| 
*_MetroCluster以外の実装でのSyncMirrorの使用_*
必要に応じて、MetroCluster以外の実装でSyncMirrorを使用すると、RAIDタイプで保護されるディスク数よりも多くのディスクで障害が発生した場合や、RAIDグループのディスクへの接続が失われた場合にデータ損失を防ぐことができます。この機能は HA ペアに対してのみ使用できます。

アグリゲートデータは、別々のディスクシェルフに格納されたプレックス間でミラーリングされます。一方のシェルフが使用できなくなった場合、影響を受けていないプレックスが障害原因の修正中も引き続きデータを提供します。

SyncMirror を使用してミラーリングされたアグリゲートは、ミラーリングされていないアグリゲートの 2 倍のストレージを必要とすることに注意してください。各プレックスに、ミラーリングするプレックスと同じ数のディスクが必要です。たとえば、 1 、 440GB のアグリゲートをミラーリングするには、プレックス 1 つにつき 1 、 440GB 、合計で 2 、 880GB のディスクスペースが必要です。

[NOTE]
====
SyncMirror は、 FlexArray 仮想化の実装にも使用できます。

====
|===