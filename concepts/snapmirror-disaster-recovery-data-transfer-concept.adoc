---
permalink: concepts/snapmirror-disaster-recovery-data-transfer-concept.html 
sidebar: sidebar 
keywords: snapmirror disaster recovery, data transfer 
summary: SnapMirrorは、地理的に離れたサイトのプライマリストレージからセカンダリストレージへのフェイルオーバー用に設計されたディザスタリカバリテクノロジです。名前が示すように、SnapMirrorは作業データのレプリカ（ミラー）をセカンダリストレージに作成し、プライマリサイトで災害が発生した場合でも、セカンダリストレージから引き続きデータを提供できます。 
---
= SnapMirrorディザスタリカバリとデータ転送
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
_ SnapMirror _は、地理的に離れたサイトのプライマリストレージからセカンダリストレージへのフェイルオーバー用に設計されたディザスタリカバリテクノロジです。名前が示すように、 SnapMirror はセカンダリストレージに作業データのレプリカ（ _mirror ）を作成します。このデータから、プライマリサイトで災害が発生した場合にもデータの提供を継続できます。

データはボリュームレベルでミラーリングされます。プライマリストレージのソースボリュームとセカンダリストレージのデスティネーションボリュームの関係は、 _data 保護関係と呼ばれます。 _ ボリュームが存在するクラスタと、ボリュームからデータを提供する SVM は _peered になります。 _a ピア関係を設定することで、クラスタと SVM の交換が可能になります データをセキュアに保護

[TIP]
====
SVM間にデータ保護関係を作成することもできます。このタイプの関係では、SVMのすべてまたは一部の設定がNFSエクスポートおよびSMB共有からRBACにレプリケートされます。また、SVMが所有するボリューム内のデータもレプリケートされます。

====
ONTAP 9 .10.1以降では、SnapMirror S3を使用してS3バケット間のデータ保護関係を作成できます。デスティネーションバケットは、ローカルまたはリモートのONTAPシステムに配置することも、ONTAP以外のシステム（StorageGRIDやAWSなど）に配置することもできます。

SnapMirror を初めて起動すると、ソース・ボリュームからデスティネーション・ボリュームへの _ ベースライン転送 _ が実行されます。ベースライン転送の一般的な手順は次のとおりです。

* ソースボリュームのSnapshotコピーを作成します。
* Snapshotコピーおよびコピーが参照するすべてのデータブロックをデスティネーションボリュームに転送します。
* 「アクティブ」ミラーが破損した場合に備えて、ソースボリューム上の最新ではない残りの Snapshot コピーをデスティネーションボリュームに転送します。


ベースライン転送が完了すると、SnapMirrorは新しいSnapshotコピーだけをミラーに転送します。更新は、設定したスケジュールに従って非同期に行われます。保持では、ソース上のSnapshotポリシーがミラーリングされます。プライマリサイトで災害が発生した場合は最小限のシステム停止でデスティネーションボリュームをアクティブ化し、サービスの復旧後にソースボリュームを再アクティブ化できます。

ベースラインの作成後はSnapMirrorでSnapshotコピーだけが転送されるため、無停止で高速なレプリケーションが可能です。フェイルオーバーのユースケースが示すように、ミラーリングされたストレージからデータを効率的に提供するには、セカンダリシステムのコントローラがプライマリシステムのコントローラと同等またはほぼ同等である必要があります。

image:snapmirror.gif["ソースボリュームとデスティネーションボリュームのSnapMirror関係"]

|===


 a| 
* _ SnapMirror を使用したデータ転送 _ *

SnapMirrorを使用して、NetAppデータファブリック内のエンドポイント間でデータをレプリケートすることもできます。SnapMirrorポリシーの作成時に、1回限りのレプリケーションと定期的なレプリケーションのどちらかを選択できます。

|===