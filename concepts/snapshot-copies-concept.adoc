---
permalink: concepts/snapshot-copies-concept.html 
sidebar: sidebar 
keywords: snapshot copies 
summary: Snapshot コピーは、ボリュームの読み取り専用のポイントインタイムイメージです。イメージにはSnapshotコピーが最後に作成されてからのファイルへの変更のみが記録されるため、ストレージスペースは最小限しか消費されず、パフォーマンスのオーバーヘッドもわずかです。 
---
= Snapshotコピー
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
従来、ONTAPレプリケーションテクノロジはディザスタリカバリ（DR）とデータアーカイブのニーズに対応してきました。クラウドサービスの登場に伴い、ONTAPレプリケーションは、NetAppデータファブリック内のエンドポイント間のデータ転送に適用されるようになりました。これらすべての用途の基盤となるのが、ONTAPのSnapshotテクノロジです。

Snapshot コピー _ は、ボリュームの読み取り専用のポイントインタイムイメージです。Snapshotコピーが作成されると、アクティブファイルシステムとSnapshotコピーは同じディスクブロックを参照するため、追加のディスクスペースは使用されません。イメージにはSnapshotコピーが最後に作成されてからのファイルへの変更のみが記録されるため、時間の経過とともに消費されるストレージスペースは最小限で済み、パフォーマンスのオーバーヘッドもわずかです。

Snapshot コピーの効率性は、 ONTAP の中核的なストレージ仮想化テクノロジである ITS Write Anywhere File Layout （ WAFL ）によって実現します。 _ WAFL は、データベースと同様に、メタデータを使用してディスク上の実際のデータブロックを参照します。ただし、データベースとは異なり、WAFLは既存のブロックを上書きしません。更新されたデータは新しいブロックに書き込まれ、メタデータが変更されます。

Snapshotコピーは、データ ブロックをコピーするのではなく、Snapshotコピーの作成時にONTAPがメタデータを参照する仕組みになっているので、効率的です。他のシステムと違ってコピーするブロックを探す「シーク時間」も、コピー自体を作成するコストも発生しません。

Snapshotコピーを使用して、個々のファイルまたはLUNをリカバリしたり、ボリュームの内容全体をリストアしたりできます。Snapshotコピーのポインタ情報をディスク上のデータと比較することで、ダウンタイムや多大なパフォーマンス コストなしで損失オブジェクトや破損オブジェクトが再構築されます。

Snapshot ポリシー _ は、ボリュームの Snapshot コピーの作成方法を定義します。このポリシーは、Snapshotコピーを作成するタイミング、保持するコピーの数、Snapshotコピーに名前を付ける方法、およびSnapshotコピーにレプリケーション用のラベルを付ける方法を指定します。たとえば、毎日午前12時10分に1つのSnapshotコピーを作成し、最新の2つのコピーを保持して「daily」（タイムスタンプを付加）という名前を付け、レプリケーション用に「daily」というラベルを付けることができます。

image:snapshot-copy.gif["Snapshotでの前回のSnapshotコピー以降のアクティブファイルシステムに対する変更の記録方法"]
