---
permalink: data-protection/make-svm-destination-volumes-writeable-task.html 
sidebar: sidebar 
keywords: make, svm, storage vm, , snapmirror, destination, volume, writable 
summary: クライアントにデータを提供する前に、SVMデスティネーション ボリュームを書き込み可能にする必要があります。 
---
= ONTAP SnapMirror SVMのデスティネーション ボリュームを書き込み可能に設定する
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
クライアントにデータを提供する前に、SVMデスティネーション ボリュームを書き込み可能にする必要があります。

手順はボリュームレプリケーションの手順とほぼ同じですが、1つだけ例外があります。SVMレプリケーション関係の作成時に `-identity-preserve true`を設定した場合は、デスティネーションSVMをアクティブ化する前にソースSVMを停止する必要があります。

.タスク概要
この手順で説明されているコマンドの詳細については、link:https://docs.netapp.com/us-en/ontap-cli/["ONTAPコマンド リファレンス"^]を参照してください。

[NOTE]
====
ディザスタ リカバリのシナリオでは、ソースSVMとそのデータにアクセスできなくなること、および最後の再同期以降の更新が無効または破損している可能性があることから、ソースSVMからディザスタ リカバリ デスティネーションSVMにSnapMirror更新を実行することはできません。

====
ONTAP 9.8以降では、System Managerを使用して、災害発生後にデスティネーションStorage VMをアクティブ化できます。デスティネーションStorage VMをアクティブ化すると、SVMデスティネーション ボリュームが書き込み可能になり、クライアントにデータを提供できるようになります。

.手順
このタスクは、System ManagerまたはONTAP CLIから実行できます。

[role="tabbed-block"]
====
.System Manager
--
. ソース クラスタにアクセスできる場合は、SVMが停止していることを確認します。*Storage > Storage VMs*に移動し、SVMの*State*列を確認します。
. ソース SVM の状態が「実行中」の場合は、停止します。image:icon_kabob.gif["メニューオプションアイコン"]を選択して、*停止*を選択します。
. デスティネーション クラスタで、必要な保護関係を見つけます：*[保護] > [関係]*に移動します。
. 目的のソース ストレージ VM 名にマウスを移動し、image:icon_kabob.gif["メニューオプションアイコン"]をクリックして、*宛先ストレージ VM のアクティブ化*を選択します。
. *デスティネーション ストレージ VM をアクティブ化* ウィンドウで、*デスティネーション ストレージ VM をアクティブ化して関係を解除* を選択します。
. *Activate*をクリックします。


--
.CLI
--
. デスティネーション SVM またはデスティネーション クラスタから、SVM を休止して、デスティネーションへのスケジュールされた転送を停止します：
+
[source, cli]
----
snapmirror quiesce -source-path <SVM>: -destination-path <SVM>:
----
+

NOTE:  `-source-path`および `-destination-path`オプションでは、SVM名の後にコロン（：）を入力する必要があります。以下の例をご覧ください。

+
次の例では、ソース SVM `svm1`とデスティネーション SVM `svm_backup`間のスケジュールされた転送を停止します：

+
[listing]
----
cluster_dst::> snapmirror quiesce -source-path svm1: -destination-path svm_backup:
----
+
 `snapmirror quiesce`の詳細については、link:https://docs.netapp.com/us-en/ontap-cli/snapmirror-quiesce.html["ONTAPコマンド リファレンス"^]を参照してください。

. デスティネーションSVMまたはデスティネーション クラスタから、デスティネーションへの実行中の転送を停止します。
+
[source, cli]
----
snapmirror abort -source-path <SVM>: -destination-path <SVM>:
----
+

NOTE:  `-source-path`および `-destination-path`オプションでは、SVM名の後にコロン（：）を入力する必要があります。以下の例をご覧ください。

+
次の例では、ソース SVM `svm1`とデスティネーション SVM `svm_backup`間の進行中の転送を停止します：

+
[listing]
----
cluster_dst::> snapmirror abort -source-path svm1: -destination-path svm_backup:
----
+
 `snapmirror abort`の詳細については、link:https://docs.netapp.com/us-en/ontap-cli/snapmirror-abort.html["ONTAPコマンド リファレンス"^]をご覧ください。

. デスティネーションSVMまたはデスティネーション クラスタから、レプリケーション関係を解除します。
+
[source, cli]
----
snapmirror break -source-path <SVM>: -destination-path <SVM>:
----
+

NOTE:  `-source-path`および `-destination-path`オプションでは、SVM名の後にコロン（：）を入力する必要があります。以下の例をご覧ください。

+
次の例では、ソース SVM `svm1`とデスティネーション SVM `svm_backup`間の関係を解除します：

+
[listing]
----
cluster_dst::> snapmirror break -source-path svm1: -destination-path svm_backup:
----
+
 `snapmirror break`の詳細については、link:https://docs.netapp.com/us-en/ontap-cli/snapmirror-break.html["ONTAPコマンド リファレンス"^]を参照してください。

. SVM レプリケーション関係の作成時に `-identity-preserve true`を設定した場合は、ソース SVM を停止します。
+
[source, cli]
----
vserver stop -vserver <SVM>
----
+
次の例では、ソース SVM を停止します `svm1`：

+
[listing]
----
cluster_src::> vserver stop svm1
----
. デスティネーションSVMを起動します。
+
[source, cli]
----
vserver start -vserver <SVM>
----
+
次の例では、デスティネーション SVM を起動します `svm_backup`：

+
[listing]
----
cluster_dst::> vserver start svm_backup
----


.終了後の操作
link:configure-destination-volume-data-access-concept.html["データ アクセスのためのデスティネーション ボリュームの設定"]の説明に従って、データ アクセス用に SVM デスティネーション ボリュームを設定します。

--
====