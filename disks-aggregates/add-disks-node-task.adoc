---
permalink: disks-aggregates/add-disks-node-task.html 
sidebar: sidebar 
keywords: add, drives, node, shelf, local tier, aggregate 
summary: ホットスペアの数を増やしたり、ローカル階層にスペースを追加したりするには、ノードまたはシェルフにドライブを追加します。 
---
= ONTAPノードまたはシェルフにドライブを追加する
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
ホットスペアの数を増やしたり、ローカル階層にスペースを追加したりするには、ノードまたはシェルフにドライブを追加します。


NOTE: ONTAP 9.7より前のバージョンでは、ローカル階層を表すために_aggregate_という用語が使用されていました。ONTAPのバージョンに関係なく、ONTAP CLIでは_aggregate_という用語が使用されます。ローカル階層の詳細については、を参照してくださいlink:../disks-aggregates/index.html["ディスクとローカル階層"]。

.開始する前に
追加するドライブがプラットフォームでサポートされている必要があります。を使用して確認できますlink:https://hwu.netapp.com/["NetApp Hardware Universe"^]。

1回の手順で少なくとも6本のドライブを追加する必要があります。ドライブを1本追加するとパフォーマンスが低下する可能性があります。

.NetApp Hardware Universeの手順
. [** Products*]ドロップダウンメニューで、ハードウェア構成を選択します。
. プラットフォームを選択します。
. 実行しているONTAPのバージョンを選択し、**Show Results**を選択します。
. 図の下で、[**別のビューを表示するにはここをクリック*]を選択します。設定に一致するビューを選択します。


image:hardware-universe-more-info-graphic.png["Hardware Universeのスクリーンショット[ここをクリック]の画像"]

.ドライブの取り付け手順
. で、新しいドライブファームウェア、シェルフファームウェア、Disk Qualification Packageファイルを確認しますlink:https://mysupport.netapp.com/site/["NetAppサポートサイト"^]。
+
ノードまたはシェルフに最新バージョンがインストールされていない場合は、新しいドライブを取り付ける前に更新してください。

+
新しいドライブのファームウェアが最新バージョンでない場合は、自動的に更新されます（システムは停止されません）。

. 自分自身を適切にアースします。
. プラットフォームの前面からベゼルをそっと取り外します。
. 新しいドライブ用のスロットを特定します。
+

NOTE: ドライブを追加するスロットは、プラットフォームのモデルとONTAPのバージョンによって異なります。場合によっては、特定のスロットに順番にドライブを追加する必要があります。たとえば、AFF A800では、特定の間隔で空きスロットを残してドライブを追加します。一方、AFF A220では、シェルフの外側から順番に空きスロットに新しいドライブを追加していきます。

+
の構成に適したスロットを特定するには、「**Before You Begin **」の手順を参照してlink:https://hwu.netapp.com/["NetApp Hardware Universe"^]ください。

. 新しいドライブを挿入します。
+
.. カムハンドルが開いた状態で、両手で新しいドライブを挿入します。
.. ドライブが止まるまで押します。
.. ドライブがミッドプレーンに完全に収まり、カチッという音がして固定されるまで、カムハンドルを閉じます。カムハンドルは、ドライブの前面に揃うようにゆっくりと閉じてください。


. ドライブのアクティビティLED（緑）が点灯していることを確認します。
+
ドライブのアクティビティLEDが点灯している場合は、ドライブに電力が供給されています。ドライブのアクティビティLEDが点滅しているときは、ドライブに電力が供給されていて、I/Oが実行中です。ドライブファームウェアが自動的に更新されている場合は、LEDが点滅します。

. 別のドライブを追加するには、手順4~6を繰り返します。
+
ノードに割り当てるまで新しいドライブは認識されません。新しいドライブを手動で割り当てることができます。また、ドライブの自動割り当てルールを適用しているノードの場合は、ONTAPによって新しいドライブが自動的に割り当てられるまで待つこともできます。

. 新しいドライブがすべて認識されたら、ドライブが追加され、所有権が正しく指定されていることを確認します。


.インストールの確認手順
. ディスクのリストを表示します。
+
`storage aggregate show-spare-disks`

+
新しいドライブが正しいノードに所有されていることを確認してください。

. **必要に応じて（ONTAP 9.3以前の場合のみ）**新しく追加したドライブを初期化します。
+
`storage disk zerospares`

+
別のローカル階層に追加する前に、ONTAPローカル階層で使用されていたドライブを初期化する必要があります。ONTAP 9.3以前では、ノード内の初期化されていないドライブのサイズによっては、初期化が完了するまでに数時間かかることがあります。この時点でドライブを初期化しておくと、ローカル階層のサイズをすぐに拡張する必要がある場合に時間を短縮できます。これはONTAP 9.4以降の問題 ではありません。ドライブは高速初期化を使用して初期化されますが、これには数秒しかかかりません。



.結果
新しいドライブの準備が完了しました。ローカル階層に追加したり、ホットスペアのリストに追加したり、新しいローカル階層の作成時に追加したりできます。

.関連情報
* link:https://docs.netapp.com/us-en/ontap-cli/storage-aggregate-show-spare-disks.html["ストレージアグリゲートのスペアディスク表示"^]
* link:https://docs.netapp.com/us-en/ontap-cli/storage-disk-zerospares.html["storage disk zerospares"^]

