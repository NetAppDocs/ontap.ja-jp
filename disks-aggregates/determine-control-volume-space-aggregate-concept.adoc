---
permalink: disks-aggregates/determine-control-volume-space-aggregate-concept.html 
sidebar: sidebar 
keywords: determine, control, volume, space usage, aggregate, local tier 
summary: ローカル層で最も多くのスペースを使用しているFlexVolボリュームと、ボリューム内の具体的な機能を判別できます。 
---
= ONTAPローカル階層のボリュームのスペース使用量を決定および制御する
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
ローカル層で最も多くのスペースを使用しているFlexVolボリュームと、ボリューム内の具体的な機能を判別できます。

 `volume show-footprint`コマンドは、ボリュームのフットプリント、またはボリュームを含むローカル層内のスペース使用量に関する情報を提供します。


NOTE: ONTAP 9.7より前のバージョンでは、System Managerは_ローカル階層_を説明するために_aggregate_という用語を使用しています。ONTAPバージョンに関係なく、ONTAP CLIでは_aggregate_という用語が使用されます。ローカル階層の詳細については、link:../disks-aggregates/index.html["ディスクとローカル階層"]を参照してください。

 `volume show-footprint`コマンドは、オフライン ボリュームを含む、ローカル階層内の各ボリュームのスペース使用量の詳細を表示します。このコマンドは、 `volume show-space`コマンドと `aggregate show-space`コマンドの出力間のギャップを埋めるものです。すべてのパーセンテージは、ローカル階層のサイズに対する割合として計算されます。

次の例は、testvol というボリュームの `volume show-footprint`コマンド出力を示しています：

....
cluster1::> volume show-footprint testvol

      Vserver : thevs
      Volume  : testvol

      Feature                                   Used    Used%
      --------------------------------    ----------    -----
      Volume Data Footprint                  120.6MB       4%
      Volume Guarantee                        1.88GB      71%
      Flexible Volume Metadata               11.38MB       0%
      Delayed Frees                           1.36MB       0%
      Total Footprint                         2.01GB      76%
....
次の表では、 `volume show-footprint`コマンドの出力の主要な行の一部と、その機能によるスペース使用量を減らすために実行できる操作について説明します：

|===


| 行/機能名 | 行の概要/内容 | 減らす方法 


 a| 
`Volume Data Footprint`
 a| 
アクティブ ファイル システム内のボリュームのデータと、ボリュームのスナップショットによって使用されているスペースによって、包含するローカル層で使用されているスペースの合計量。この行にはリザーブ スペースは含まれません。
 a| 
* ボリュームからデータを削除します。
* ボリュームからSnapshotを削除しています。




 a| 
`Volume Guarantee`
 a| 
将来の書き込みのためにボリュームによってローカル層に予約されているスペースの量。予約されるスペースの量は、ボリュームの保証タイプによって異なります。
 a| 
ボリュームの保証タイプを `none`に変更します。



 a| 
`Flexible Volume Metadata`
 a| 
ボリュームのメタデータ ファイルによってローカル層で使用されるスペースの合計量。
 a| 
直接制御する方法はありません。



 a| 
`Delayed Frees`
 a| 
ONTAPがパフォーマンス向上のために使用したブロックで、すぐに解放できません。SnapMirrorデスティネーションの場合、この行の値は `0`となり、表示されません。
 a| 
直接制御する方法はありません。



 a| 
`File Operation Metadata`
 a| 
ファイル処理メタデータ用にリザーブされているスペースの合計。
 a| 
直接制御する方法はありません。



 a| 
`Total Footprint`
 a| 
ボリュームがローカル層で使用しているスペースの合計。すべての行の合計です。
 a| 
上記のいずれかの方法でボリュームによるスペース使用量を削減します。

|===
.関連情報
https://www.netapp.com/pdf.html?item=/media/19670-tr-3483.pdf["NetAppテクニカル レポート3483：『NetAppのSANまたはIP SAN構成のエンタープライズ環境におけるシン・プロビジョニング』"^]
