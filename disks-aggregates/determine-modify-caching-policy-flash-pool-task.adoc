---
permalink: disks-aggregates/determine-modify-caching-policy-flash-pool-task.html 
sidebar: sidebar 
keywords: modify, cache, policy, flash pool, aggregate, local tier 
summary: Flash Poolローカル階層のボリュームにキャッシュ保持ポリシーを割り当てることで、ボリュームのデータがFlash Poolキャッシュに保持される期間を決定できます。ただし、場合によっては、キャッシュ保持ポリシーを変更しても、ボリュームのデータがキャッシュに保持される期間に影響しないことがあります。 
---
= Flash Poolローカル階層のONTAPキャッシュ ポリシーを変更するかどうかを決定します
:allow-uri-read: 


[role="lead"]
Flash Poolローカル階層のボリュームにキャッシュ保持ポリシーを割り当てることで、ボリュームのデータがFlash Poolキャッシュに保持される期間を決定できます。ただし、場合によっては、キャッシュ保持ポリシーを変更しても、ボリュームのデータがキャッシュに保持される期間に影響しないことがあります。

.タスク概要
データが次のいずれかの条件に当てはまる場合は、キャッシュ保持ポリシーを変更しても影響がない可能性があります。

* ワークロードがシーケンシャルである。
* ソリッド ステート ドライブ（SSD）にキャッシュされたランダムなブロックがワークロードによって再度読み取られない。
* ボリュームのキャッシュ サイズが小さすぎる。


.手順
次の手順で、データに必要とされる条件を確認します。このタスクは、CLIを使用してadvanced権限モードで行う必要があります。

. CLIを使用してワークロードのボリュームを表示します。
+
`statistics start -object workload_volume`

. ボリュームのワークロードのパターンを確認します。
+
`statistics show -object workload_volume -instance _volume-workload_ -counter sequential_reads`

. ボリュームのヒット率を確認します。
+
`statistics show -object wafl_hya_vvol -instance _volume_ -counter read_ops_replaced_percent|wc_write_blks_overwritten_percent`

. ボリュームの `Cacheable Read`と `Project Cache Alloc`を決定します。
+
`system node run -node node_name wafl awa start _aggr_name_`

. AWAの概要を表示します。
+
`system node run -node node_name wafl awa print _aggr_name_`

. ボリュームのヒット率を `Cacheable Read`と比較します。
+
ボリュームのヒット率が `Cacheable Read`より大きい場合、ワークロードは SSD にキャッシュされたランダム ブロックを再読み取りしません。

. ボリュームの現在のキャッシュ サイズを `Project Cache Alloc`と比較します。
+
ボリュームの現在のキャッシュ サイズが `Project Cache Alloc`より大きい場合、ボリューム キャッシュのサイズが小さすぎます。



.関連情報
* link:https://docs.netapp.com/us-en/ontap-cli/statistics-show.html["statistics show"^]
* link:https://docs.netapp.com/us-en/ontap-cli/statistics-start.html["statistics start"^]

