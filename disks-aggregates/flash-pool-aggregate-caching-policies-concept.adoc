---
permalink: disks-aggregates/flash-pool-aggregate-caching-policies-concept.html 
sidebar: sidebar 
keywords: cache, flash pool, policy, local tier, aggregate 
summary: キャッシングポリシーは、Flash Poolのローカル階層（アグリゲート）にあるボリュームに適用されます。キャッシングポリシーを変更する前に、その機能を理解しておく必要があります。 
---
= Flash Poolのローカル階層（アグリゲート）キャッシングポリシー
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
Flash Poolローカル階層（アグリゲート）のボリュームに対するキャッシングポリシーで、作業データセットにはFlashを導入して高性能なキャッシュを利用しながら、アクセス頻度が低いデータには低コストのHDDを使用するように定義できます。複数のFlash Poolローカル階層にキャッシュを提供する場合は、Flash Pool SSDパーティショニングを使用して、Flash Pool内のローカル階層間でSSDを共有します。

キャッシングポリシーは、Flash Poolローカル階層内のボリュームに適用されます。キャッシングポリシーを変更する前に、その機能を理解しておく必要があります。

ほとんどの場合、デフォルトのキャッシングポリシーである「auto」が使用するのに最適なキャッシングポリシーです。キャッシングポリシーを変更する必要があるのは、別のポリシーを使用したほうがワークロードのパフォーマンスが向上する場合のみです。適切でないキャッシングポリシーを設定すると、ボリュームのパフォーマンスが大幅に低下しかねません。また、時間とともにパフォーマンスの低下が進むおそれがあります。

キャッシングポリシーは、読み取りキャッシングポリシーと書き込みキャッシングポリシーを組み合わせたものです。ポリシー名は、読み取りキャッシングポリシーと書き込みキャッシングポリシーの名前をハイフンでつないだものです。ポリシー名にハイフンが含まれていない場合、書き込みキャッシングポリシーは「none」になります（「auto」ポリシーを除く）。

読み取りキャッシングポリシーは、 HDD に格納されたデータに加えて、データのコピーをキャッシュに格納することで、以降の読み取りパフォーマンスを最適化します。書き込み処理用にキャッシュにデータを挿入する読み取りキャッシングポリシーの場合、キャッシュは _write-through キャッシュとして機能します。

書き込みキャッシングポリシーを使用してキャッシュに挿入されたデータはキャッシュにのみ存在し、 HDD にコピーが格納されることはありません。Flash Pool キャッシュは RAID で保護されています。書き込みキャッシュを有効にすると、書き込み処理されたデータをキャッシュから即座に読み取ることができます。 HDD へのデータの書き込みは、時間が経過してそのデータがキャッシュから削除されるまで先送りされます。

Flash Poolのローカル階層から単一層のローカル階層にボリュームを移動すると、ボリュームのキャッシングポリシーが失われます。あとでFlash Poolのローカル階層にボリュームを戻すと、デフォルトのキャッシングポリシー「auto」が割り当てられます。2つのFlash Poolローカル階層間でボリュームを移動した場合は、キャッシングポリシーが維持されます。



== キャッシングポリシーを変更します

CLIを使用すると'volume createコマンドで-caching-policyパラメータを使用することにより'Flash Poolローカル階層にあるボリュームのキャッシング・ポリシーを変更できます

Flash Poolのローカル階層にボリュームを作成すると、デフォルトで「auto」キャッシングポリシーがボリュームに割り当てられます。
