---
permalink: disks-aggregates/flash-pool-ssd-partitioning-aggregates-concept.html 
sidebar: sidebar 
keywords: flash pool, ssd partitioning, work, aggregate, storage pool, local tier 
summary: 複数のFlash Poolローカル階層（アグリゲート）にキャッシュを提供する場合は、Flash Poolソリッドステートドライブ（SSD）パーティショニングを使用します。Flash Pool SSDパーティショニングを使用すると、Flash Poolを使用するすべてのローカル階層でSSDを共有できます。これにより、パリティのコストを複数のローカル階層に分散させ、SSDキャッシュ割り当ての柔軟性を高めるとともに、SSDのパフォーマンスを最大限に高めることができます。 
---
= ストレージプールを使用するFlash Poolローカル階層（アグリゲート）用のFlash Pool SSDパーティショニング
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
複数のFlash Poolローカル階層（アグリゲート）にキャッシュを提供する場合は、Flash Poolソリッドステートドライブ（SSD）パーティショニングを使用します。Flash Pool SSDパーティショニングを使用すると、Flash Poolを使用するすべてのローカル階層でSSDを共有できます。これにより、パリティのコストを複数のローカル階層に分散させ、SSDキャッシュ割り当ての柔軟性を高めるとともに、SSDのパフォーマンスを最大限に高めることができます。

Flash Poolローカル階層で使用するSSDはストレージプールに配置する必要があります。ストレージプール内でルートデータのパーティショニング用にパーティショニングされた SSD は使用できません。ストレージプールに配置したSSDは、スタンドアロンのディスクとして管理できなくなります。また、Flash Poolに関連付けられているローカル階層を削除してストレージプールを削除しないかぎり、SSDをストレージプールから削除することもできません。

SSD ストレージプールは、同じ大きさの 4 つの割り当て単位に分割されます。ストレージプールに追加された SSD は 4 つのパーティションに分割され、 1 つのパーティションが 4 つの割り当て単位のそれぞれに割り当てられます。ストレージプール内の SSD は、同じ HA ペアによって所有されている必要があります。デフォルトでは、 HA ペアの各ノードに 2 つの割り当て単位が割り当てられます。割り当て単位は、対象のローカル階層を所有するノードによって所有されている必要があります。いずれかのノード上のローカル階層に追加のFlashキャッシュが必要な場合は、一方のノードの割り当て単位数を減らしてパートナーノードの割り当て単位数を増やすようにデフォルトの割り当て単位数を変更できます。

スペアSSDを使用してSSDストレージプールに追加します。HAペアの両方のノードが所有するFlash Poolローカル階層にストレージプールが割り当て単位を提供する場合は、どちらのノードでもスペアSSDを所有できます。ただし、HAペアの一方のノードが所有するFlash Poolローカル階層にのみストレージプールが割り当て単位を提供する場合は、その同じノードがSSDスペアを所有する必要があります。

次の図は、 Flash Pool SSD パーティショニングの例を示しています。SSDストレージプールは、2つのFlash Poolローカル階層にキャッシュを提供します。

image::../media/shared-ssds-overview.gif[Flash Pool SSDパーティショニングの図。]

ストレージプール SP1 は、 5 本の SSD と 1 本のホットスペア SSD で構成されます。ストレージプールの割り当て単位 2 つが Flash Pool FP1 に割り当てられ、 2 つが Flash Pool FP2 に割り当てられます。FP1 のキャッシュの RAID タイプは RAID 4 です。そのため、 FP1 に提供された割り当て単位には、そのパリティに指定されたパーティションが 1 つだけ含まれます。FP2 のキャッシュの RAID タイプは RAID-DP です。そのため、 FP2 に提供された割り当て単位には、パリティパーティションとダブルパリティパーティションが含まれます。

この例では、2つの割り当て単位が各Flash Poolローカル階層に割り当てられます。ただし、1つのFlash Poolローカル階層で大容量のキャッシュが必要な場合、そのFlash Poolローカル階層に3つの割り当て単位を割り当て、他の階層には1つだけ割り当てることができます。
