---
permalink: disks-aggregates/flash-pool-ssd-partitioning-aggregates-concept.html 
sidebar: sidebar 
keywords: flash pool, ssd partitioning, work, aggregates, storage pools 
summary: 複数の Flash Pool アグリゲートにキャッシュを提供する場合は、 Flash Pool ソリッドステートディスク（ SSD ）パーティショニングを使用します。Flash Pool SSD パーティショニングを使用すると、 Flash Pool を使用するすべてのアグリゲートで SSD を共有できます。これにより、パリティのコストを複数のアグリゲートに分散させ、 SSD キャッシュ割り当ての柔軟性を高めるとともに、 SSD のパフォーマンスを最大限に高めることができます。 
---
= ストレージプールを使用する Flash Pool アグリゲートに対する Flash Pool SSD パーティショニングの動作
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
複数の Flash Pool アグリゲートにキャッシュを提供する場合は、 Flash Pool ソリッドステートディスク（ SSD ）パーティショニングを使用します。Flash Pool SSD パーティショニングを使用すると、 Flash Pool を使用するすべてのアグリゲートで SSD を共有できます。これにより、パリティのコストを複数のアグリゲートに分散させ、 SSD キャッシュ割り当ての柔軟性を高めるとともに、 SSD のパフォーマンスを最大限に高めることができます。

Flash Pool アグリゲートで使用する SSD はストレージプールに配置する必要があります。ストレージプール内でルートデータのパーティショニング用にパーティショニングされた SSD は使用できません。ストレージプールに配置した SSD は、スタンドアロンのディスクとして管理できなくなります。また、 Flash Pool に関連付けられているアグリゲートを削除してストレージプールを削除しないかぎり、 SSD をストレージプールから削除することもできません。

SSD ストレージプールは、同じ大きさの 4 つの割り当て単位に分割されます。ストレージプールに追加された SSD は 4 つのパーティションに分割され、 1 つのパーティションが 4 つの割り当て単位のそれぞれに割り当てられます。ストレージプール内の SSD は、同じ HA ペアによって所有されている必要があります。デフォルトでは、 HA ペアの各ノードに 2 つの割り当て単位が割り当てられます。割り当て単位は、アグリゲートを所有するノードによって所有されている必要があります。いずれかのノード上のアグリゲートに追加の Flash キャッシュが必要な場合は、一方のノードの割り当て単位数を減らしてパートナーノードの割り当て単位数を増やすようにデフォルトの割り当て単位数を変更できます。

ストレージプールに使用できるスペア SSD は 1 本のみです。HA ペアの両方のノードが所有する Flash Pool アグリゲートにストレージプールが割り当て単位を提供する場合は、どちらのノードでもスペア SSD を所有できます。ただし、 HA ペアの一方のノードが所有する Flash Pool アグリゲートにのみストレージプールが割り当て単位を提供する場合は、その同じノードがスペア SSD を所有する必要があります。

次の図は、 Flash Pool SSD パーティショニングの例を示しています。SSD ストレージプールは、 2 つの Flash Pool アグリゲートにキャッシュを提供します。

image::../media/shared-ssds-overview.gif[この図には説明が付随しています。]

ストレージプール SP1 は、 5 本の SSD と 1 本のホットスペア SSD で構成されます。ストレージプールの割り当て単位 2 つが Flash Pool FP1 に割り当てられ、 2 つが Flash Pool FP2 に割り当てられます。FP1 のキャッシュの RAID タイプは RAID 4 です。そのため、 FP1 に提供された割り当て単位には、そのパリティに指定されたパーティションが 1 つだけ含まれます。FP2 のキャッシュの RAID タイプは RAID-DP です。そのため、 FP2 に提供された割り当て単位には、パリティパーティションとダブルパリティパーティションが含まれます。

この例では、 2 つの割り当て単位が各 Flash Pool アグリゲートに割り当てられます。ただし、 1 つの Flash Pool アグリゲートにより大きなキャッシュが必要な場合、その Flash Pool アグリゲートに 3 つの割り当て単位を割り当て、他のアグリゲートには 1 つだけ割り当てることができます。
