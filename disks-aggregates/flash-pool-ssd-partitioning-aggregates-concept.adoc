---
permalink: disks-aggregates/flash-pool-ssd-partitioning-aggregates-concept.html 
sidebar: sidebar 
keywords: flash pool, ssd partitioning, work, aggregate, storage pool, local tier 
summary: 複数のFlash Poolローカル階層にキャッシュを提供する場合は、Flash Poolソリッドステートドライブ（SSD）パーティショニングを使用します。Flash Pool SSDパーティショニングを使用すると、Flash Poolを使用するすべてのローカル階層でSSDを共有できます。これにより、パリティのコストを複数のローカル階層に分散させ、SSDキャッシュ割り当ての柔軟性を高めるとともに、SSDのパフォーマンスを最大限に高めることができます。 
---
= ONTAPのストレージプールを使用するFlash Poolローカル階層用のFlash Pool SSDパーティショニング
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
複数のFlash Poolローカル階層にキャッシュを提供する場合は、Flash Poolソリッドステートドライブ（SSD）パーティショニングを使用します。Flash Pool SSDパーティショニングを使用すると、Flash Poolを使用するすべてのローカル階層でSSDを共有できます。これにより、パリティのコストを複数のローカル階層に分散させ、SSDキャッシュ割り当ての柔軟性を高めるとともに、SSDのパフォーマンスを最大限に高めることができます。

Flash Poolローカル階層で使用するSSDは、ストレージプールに配置する必要があります。ストレージプールでは、ルート/データパーティショニング用にパーティショニングされたSSDは使用できません。ストレージプールに配置したSSDは、スタンドアロンディスクとして管理できなくなります。また、Flash Poolに関連付けられているローカル階層を削除してストレージプールを削除しないかぎり、ストレージプールから削除することはできません。

SSDストレージプールは4つの割り当て単位に均等に分割されます。ストレージプールに追加されるSSDは4つのパーティションに分割され、1つのパーティションが4つの割り当て単位のそれぞれに割り当てられます。ストレージプール内のSSDは同じHAペアに所有されている必要があります。デフォルトでは、HAペアの各ノードに2つの割り当て単位が割り当てられます。割り当て単位は、割り当て先のローカル階層を所有するノードが所有している必要があります。いずれかのノードのローカル階層でさらにFlash Cacheが必要な場合は、デフォルトの割り当て単位数を変更して、一方のノードの割り当て単位数を減らしてパートナーノードの割り当て単位数を増やすことができます。

スペアSSDを使用してSSDストレージプールに追加します。HAペアの両方のノードが所有するFlash Poolローカル階層にストレージプールが割り当て単位を提供する場合は、どちらのノードでもスペアSSDを所有できます。ただし、HAペアの一方のノードが所有するFlash Poolローカル階層にのみストレージプールが割り当て単位を提供する場合は、その同じノードがSSDスペアを所有する必要があります。

次の図は、Flash Pool SSDパーティショニングの例を示しています。SSDストレージプールは、2つのFlash Poolローカル階層にキャッシュを提供します。

image:shared-ssds-overview.gif["Flash Pool SSDパーティショニングの図。"]

ストレージプールSP1は、5本のSSDと1本のホットスペアSSDで構成されます。ストレージプールの割り当て単位のうち2つがFlash Pool FP1に割り当てられ、2つがFlash Pool FP2に割り当てられます。FP1のキャッシュRAIDタイプはRAID 4です。したがって、FP1に提供された割り当て単位には、パリティ用に指定されたパーティションが1つだけ含まれます。FP2のキャッシュのRAIDタイプはRAID-DPです。したがって、FP2に提供される割り当て単位には、パリティパーティションとダブルパリティパーティションが含まれます。

この例では、2つの割り当て単位が各Flash Poolローカル階層に割り当てられます。ただし、1つのFlash Poolローカル階層により大きなキャッシュが必要な場合、そのFlash Poolローカル階層に3つの割り当て単位を割り当て、他のローカル階層には1つだけ割り当てることができます。
