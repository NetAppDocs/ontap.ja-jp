---
permalink: disks-aggregates/flash-pool-ssd-partitioning-aggregates-concept.html 
sidebar: sidebar 
keywords: flash pool, ssd partitioning, work, aggregate, storage pool, local tier 
summary: 2つ以上のFlash Poolローカル層にキャッシュを提供する場合は、Flash Poolソリッドステートドライブ（SSD）パーティショニングを使用する必要があります。Flash Pool SSDパーティショニングにより、Flash Poolを使用するすべてのローカル層でSSDを共有できます。これにより、パリティコストが複数のローカル層に分散され、SSDキャッシュ割り当ての柔軟性が向上し、SSDパフォーマンスが最大限に発揮されます。 
---
= ストレージプールを使用した ONTAP Flash Pool ローカル層の Flash Pool SSD パーティショニング
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
2つ以上のFlash Poolローカル層にキャッシュを提供する場合は、Flash Poolソリッドステートドライブ（SSD）パーティショニングを使用する必要があります。Flash Pool SSDパーティショニングにより、Flash Poolを使用するすべてのローカル層でSSDを共有できます。これにより、パリティコストが複数のローカル層に分散され、SSDキャッシュ割り当ての柔軟性が向上し、SSDパフォーマンスが最大限に発揮されます。

Flash Poolローカル階層で使用されるSSDはストレージ プールに配置する必要があります。ストレージ プール内でルート / データ パーティショニング用にパーティショニングされたSSDは使用できません。ストレージ プールに配置したSSDは、スタンドアロンのディスクとして管理できなくなります。また、Flash Poolに関連付けられているローカル階層を削除してストレージ プールを削除しないかぎり、SSDをストレージ プールから削除することもできません。

SSDストレージ プールは、同じ大きさの4つの割り当て単位に分割されます。ストレージ プールに追加されたSSDは4つのパーティションに分割され、1つのパーティションが4つの割り当て単位のそれぞれに割り当てられます。ストレージ プール内のSSDは、同じHAペアによって所有されている必要があります。デフォルトでは、HAペアの各ノードに2つの割り当て単位が割り当てられます。割り当て単位は、ローカル階層を所有するノードによって所有されている必要があります。いずれかのノード上のローカル階層に追加のFlashキャッシュが必要な場合は、一方のノードの割り当て単位数を減らしてパートナー ノードの割り当て単位数を増やすようにデフォルトの割り当て単位数を変更できます。

スペアSSDを使用してSSDストレージ プールに追加します。HAペアの両方のノードが所有するFlash Poolローカル階層にストレージ プールが割り当て単位を提供する場合は、どちらのノードでもスペアSSDを所有できます。ただし、HAペアの一方のノードが所有するFlash Poolローカル階層にのみストレージ プールが割り当て単位を提供する場合は、その同じノードがスペアSSDを所有する必要があります。

次の図は、Flash Pool SSDパーティショニングの例を示しています。SSDストレージ プールは、2つのFlash Poolローカル階層にキャッシュを提供します。

image:shared-ssds-overview.gif["Flash Pool SSD パーティショニングの図。"]

ストレージ プールSP1は、5本のSSDと1本のホット スペアSSDで構成されます。ストレージ プールの割り当て単位2つがFlash Pool FP1に割り当てられ、2つがFlash Pool FP2に割り当てられます。FP1のキャッシュのRAIDタイプはRAID 4です。そのため、FP1に提供された割り当て単位には、そのパリティに指定されたパーティションが1つだけ含まれます。FP2のキャッシュのRAIDタイプはRAID-DPです。そのため、FP2に提供された割り当て単位には、パリティ パーティションとダブルパリティ パーティションが含まれます。

この例では、2つの割り当て単位が各Flash Poolローカル階層に割り当てられます。ただし、1つのFlash Poolローカル階層により大きなキャッシュが必要な場合、そのFlash Poolローカル階層に3つの割り当て単位を割り当て、他のローカル階層には1つだけ割り当てることができます。
