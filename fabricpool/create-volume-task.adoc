---
permalink: fabricpool/create-volume-task.html 
sidebar: sidebar 
keywords: creating, volume, fabricpool, tiering, policy, policies, create, snap shot, snapshot, aggregate, flexgroup, cloud retrieval 
summary: FabricPool 用のボリュームを作成するときに、階層化ポリシーを指定できます。階層化ポリシーを指定しない場合、作成されたボリュームではデフォルトの snapshot-only 階層化ポリシーが使用されます。階層化ポリシーが snapshot-only または auto のボリュームについては、階層化の最小クーリング期間も指定できます。 
---
= FabricPool 用のボリュームを作成します
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
FabricPool にボリュームを追加するには、 FabricPool 対応アグリゲートに直接ボリュームを新規作成するか、別のアグリゲートから FabricPool 対応アグリゲートに既存のボリュームを移動します。

FabricPool 用のボリュームを作成するときに、階層化ポリシーを指定できます。階層化ポリシーを指定しない場合、作成されたボリュームではデフォルトが使用されます `snapshot-only` 階層化ポリシー：を使用してアクセスします `snapshot-only` または `auto` 階層化ポリシーでは、階層化の最小クーリング期間も指定できます。

.必要なもの
* を使用するようにボリュームを設定する `auto` 階層化ポリシーや階層化の最小クーリング期間を指定するには、ONTAP 9.4以降が必要です。
* FlexGroup ボリュームを使用するには、 ONTAP 9.5 以降が必要です。
* を使用するようにボリュームを設定する `all` 階層化ポリシーにはONTAP 9.6以降が必要です。
* を使用するようにボリュームを設定する `-cloud-retrieval-policy` パラメータにはONTAP 9.8以降が必要です。


.手順
. を使用して、FabricPool 用の新しいボリュームを作成します `volume create` コマンドを実行します
+
** 。 `-tiering-policy` オプションのパラメータを使用すると、ボリュームの階層化ポリシーを指定できます。
+
次のいずれかの階層化ポリシーを指定できます。

+
*** `snapshot-only` （デフォルト）
*** `auto`
*** `all`
*** `backup` （廃止予定）
*** `none`
+
link:tiering-policies-concept.html#types-of-fabricpool-tiering-policies["FabricPool 階層化ポリシーのタイプ"]



** 。 `-cloud-retrieval-policy` オプションパラメータを指定すると、advanced権限レベルのクラスタ管理者が、階層化ポリシーで制御されるデフォルトのクラウドの移行または読み出し動作を上書きできます。
+
次のいずれかのクラウド読み出しポリシーを指定できます。

+
*** `default`
+
この階層化ポリシーによって戻されるデータが決定されるため、でクラウドデータの取得が変更されることはありません `default` cloud-retrieve-policy。つまり、 ONTAP 9.8 より前のリリースと同じです。

+
**** 階層化ポリシーのタイプがの場合 `none` または `snapshot-only`「デフォルト」とは、クライアントが読み取るデータがクラウド階層からパフォーマンス階層にプルされることを意味します。
**** 階層化ポリシーのタイプがの場合 `auto`を指定すると、クライアントからのランダムリードはプルされますが、シーケンシャルリードはプルされません。
**** 階層化ポリシーのタイプがの場合 `all` その後、クライアント中心のデータがクラウド階層から取得されることはありません。


*** `on-read`
+
クライアントからのデータ読み取りは、すべてクラウド階層からパフォーマンス階層に引き上げられます。

*** `never`
+
クライアント中心のデータは、クラウド階層からパフォーマンス階層に移動されません

*** `promote`
+
**** してください `none`を指定すると、すべてのクラウドデータがクラウド階層からパフォーマンス階層に移動されます
**** してください `snapshot-only`を指定すると、アクティブなファイルシステムのデータがすべてクラウド階層からパフォーマンス階層に移動します。




** 。 `-tiering-minimum-cooling-days` advanced権限レベルのオプションのパラメータを使用すると、を使用するボリュームに対して階層化の最小クーリング期間を指定できます `snapshot-only` または `auto` 階層化ポリシー：
+
ONTAP 9.8 以降では、階層化の最小クーリング日数に 2 ~ 183 の値を指定できます。9.8 より前のバージョンの ONTAP を使用している場合は、階層化の最小クーリング期間に 2~63 の値を指定できます。





.FabricPool 用のボリュームを作成する例
次の例は、「 FabricPool 」対応アグリゲートに「 `myvol1` 」という名前のボリュームを作成します。階層化ポリシーはに設定されます `auto` 階層化の最小クーリング期間は45日に設定されています。

[listing]
----
cluster1::*> volume create -vserver myVS -aggregate myFabricPool
-volume myvol1 -tiering-policy auto -tiering-minimum-cooling-days 45
----
.関連情報
link:../flexgroup/index.html["FlexGroup ボリューム管理"]
