---
permalink: fabricpool/create-volume-task.html 
sidebar: sidebar 
keywords: creating, volume, fabricpool, tiering, policy, policies, create, snap shot, snapshot, aggregate, flexgroup, cloud retrieval 
summary: FabricPool 用のボリュームを作成するときに、階層化ポリシーを指定できます。階層化ポリシーを指定しない場合、作成されたボリュームではデフォルトの snapshot-only 階層化ポリシーが使用されます。階層化ポリシーが snapshot-only または auto のボリュームについては、階層化の最小クーリング期間も指定できます。 
---
= FabricPool 用のボリュームを作成します
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
FabricPool にボリュームを追加するには、 FabricPool 対応アグリゲートに直接ボリュームを新規作成するか、別のアグリゲートから FabricPool 対応アグリゲートに既存のボリュームを移動します。

FabricPool 用のボリュームを作成するときに、階層化ポリシーを指定できます。階層化ポリシーが指定されていない場合、作成されるボリュームはデフォルトの「スナップショットのみ」階層化ポリシーを使用します。「スナップショットのみ」または「自動」階層化ポリシーを持つボリュームの場合は、階層化の最小クーリング期間も指定できます。

.必要なもの
* 「 auto 」階層化ポリシーを使用するようにボリュームを設定したり、階層化の最小クーリング期間を指定したりするには、 ONTAP 9.4 以降が必要です。
* FlexGroup ボリュームを使用するには、 ONTAP 9.5 以降が必要です。
* 「すべて」階層化ポリシーを使用するようにボリュームを設定するには、 ONTAP 9.6 以降が必要です。
* 「 -cloud-retrieve-policy 」パラメータを使用するようにボリュームを設定するには、 ONTAP 9.8 以降が必要です。


.手順
. volume create コマンドを使用して、 FabricPool 用の新しいボリュームを作成します。
+
** オプションの -tiering-policy パラメータを使用すると ' ボリュームの階層化ポリシーを指定できます
+
次のいずれかの階層化ポリシーを指定できます。

+
*** 'snapshot-only' （デフォルト）
*** 「 auto 」と入力します
*** 「すべて」
*** 'backup' （非推奨）
*** 「 NONE 」
+
link:tiering-policies-concept.html#types-of-fabricpool-tiering-policies["FabricPool 階層化ポリシーのタイプ"]



** オプションの -cloud-retrieve-policy パラメータを使用すると、 advanced 権限レベルのクラスタ管理者は、階層化ポリシーによって制御されるデフォルトのクラウド移行または取得動作を上書きできます。
+
次のいずれかのクラウド読み出しポリシーを指定できます。

+
*** 「デフォルト」
+
階層化ポリシーによって戻されるデータが決定されるため、クラウドデータの取得には「デフォルトのクラウド読み出しポリシー」が適用されることはありません。つまり、 ONTAP 9.8 より前のリリースと同じです。

+
**** 階層化ポリシーが「 none 」または「 Snapshot-only 」の場合、「デフォルト」とは、クライアントから読み取られたデータがクラウド階層からパフォーマンス階層にプルされることを意味します。
**** 階層化ポリシーが「 auto 」の場合、クライアント駆動のランダムリードはプルされますが、シーケンシャルリードはプルされません。
**** 階層化ポリシーが「すべて」の場合、クライアント主導のデータはクラウド階層からプルされません。


*** 「オン・リード」
+
クライアントからのデータ読み取りは、すべてクラウド階層からパフォーマンス階層に引き上げられます。

*** 「まったく」ではありません
+
クライアント中心のデータは、クラウド階層からパフォーマンス階層に移動されません

*** 「促進」
+
**** 階層化ポリシー「 none 」の場合、すべてのクラウドデータはクラウド階層からパフォーマンス階層にプルされます
**** 階層化ポリシーの Snapshot-only の場合、アクティブなすべてのファイルシステムデータがクラウド階層からパフォーマンス階層にプルされます。




** advanced 権限レベルのオプションの -tiering-minimum-cooling-days パラメータを使用すると、「 Snapshot-only 」または「 auto 」階層化ポリシーを使用するボリュームの階層化の最小クーリング期間を指定できます。
+
ONTAP 9.8 以降では、階層化の最小クーリング日数に 2 ~ 183 の値を指定できます。9.8 より前のバージョンの ONTAP を使用している場合は、階層化の最小クーリング期間に 2~63 の値を指定できます。





次の例は、「 FabricPool 」対応アグリゲートに「 `myvol1` 」という名前のボリュームを作成します。階層化ポリシーは「 auto 」に設定され、階層化の最小クーリング期間は 45 日に設定されます。

[listing]
----
cluster1::*> volume create -vserver myVS -aggregate myFabricPool
-volume myvol1 -tiering-policy auto -tiering-minimum-cooling-days 45
----
link:../flexgroup/index.html["FlexGroup ボリューム管理"]
