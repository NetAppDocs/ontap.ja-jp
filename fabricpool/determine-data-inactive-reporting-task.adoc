---
permalink: fabricpool/determine-data-inactive-reporting-task.html 
sidebar: sidebar 
keywords: determining, how, much, data, volume, inactive, using, data reporting, fabricpool 
summary: ボリューム内のアクセス頻度の低いデータの量を確認することで、ストレージ階層を効率よく使用することができます。Inactive Data Reporting の情報を参考に、 FabricPool に使用するアグリゲート、 FabricPool との間でボリュームを移動するかどうか、ボリュームの階層化ポリシーを変更するかどうかを決定することができます。 
---
= Inactive Data Reporting でボリューム内のアクセス頻度の低いデータの量を確認
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
ボリューム内のアクセス頻度の低いデータの量を確認することで、ストレージ階層を効率よく使用することができます。Inactive Data Reporting の情報を参考に、 FabricPool に使用するアグリゲート、 FabricPool との間でボリュームを移動するかどうか、ボリュームの階層化ポリシーを変更するかどうかを決定することができます。

.必要なもの
Inactive Data Reporting 機能を使用するには、 ONTAP 9.4 以降が必要です。

.このタスクについて
* Inactive Data Reporting は、一部のアグリゲートではサポートされません。
+
FabricPool を有効にできない場合は、次のような Inactive Data Reporting を有効にできません。

+
** ルートアグリゲート
** 9.7 より前のバージョンの ONTAP を実行している MetroCluster アグリゲート
** Flash Pool （ハイブリッドアグリゲートまたは SnapLock アグリゲート）


* アダプティブ圧縮が有効になっているボリュームがあるアグリゲートでは、Inactive Data Reportingがデフォルトで有効になります。
* ONTAP 9.6 では、すべての SSD アグリゲートに対して Inactive Data Reporting がデフォルトで有効になります。
* ONTAP 9.4 および ONTAP 9.5 の FabricPool アグリゲートでは、 Inactive Data Reporting がデフォルトで有効になります。
* ONTAP 9.6 以降では、 HDD アグリゲートを含む ONTAP CLI を使用して、 FabricPool 以外のアグリゲートに対して Inactive Data Reporting を有効にできます。




== 手順

アクセス頻度の低いデータの量は、ONTAP System ManagerまたはONTAP CLIで確認できます。

[role="tabbed-block"]
====
.System Manager の略
--
. 次のいずれかのオプションを選択します。
+
** 既存の HDD アグリゲートがある場合は、「 * Storage 」 > 「 Tiers * 」の順に選択し、をクリックします image:icon_kabob.gif["メニューオプション"] アクセス頻度の低いデータのレポートを有効にするアグリゲートについて選択します。
** クラウド階層が設定されていない場合は、 * ダッシュボード * に移動し、 * 容量 * の下の * 非アクティブデータレポートの有効化 * リンクをクリックします。




--
.CLI の使用
--
.CLIを使用して非アクティブデータレポートを有効にするには、次の手順
. Inactive Data Reportingを表示するアグリゲートがFabricPool で使用されていない場合は、を使用してアグリゲートのInactive Data Reportingを有効にします `storage aggregate modify` コマンドにを指定します `-is-inactive-data-reporting-enabled` `true` パラメータ
+
[listing]
----
cluster1::> storage aggregate modify -aggregate aggr1 -is-inactive-data-reporting-enabled true
----
+
FabricPool に使用されていないアグリゲートでは、 Inactive Data Reporting 機能を明示的に有効にする必要があります。

+
FabricPool 対応アグリゲートについては、すでに Inactive Data Reporting が有効になっているため有効にする必要はありません。。 `-is-inactive-data-reporting-enabled` パラメータはFabricPool対応アグリゲートでは機能しません。

+
。 `-fields is-inactive-data-reporting-enabled` のパラメータ `storage aggregate show` コマンドは、アグリゲートでInactive Data Reportingが有効になっているかどうかを表示します。

. ボリューム上のアクセス頻度の低いデータの量を表示するには、を使用します `volume show` コマンドにを指定します `-fields performance-tier-inactive-user-data,performance-tier-inactive-user-data-percent` パラメータ
+
[listing]
----
cluster1::> volume show -fields performance-tier-inactive-user-data,performance-tier-inactive-user-data-percent

vserver volume performance-tier-inactive-user-data performance-tier-inactive-user-data-percent
------- ------ ----------------------------------- -------------------------------------------
vsim1   vol0   0B                                  0%
vs1     vs1rv1 0B                                  0%
vs1     vv1    10.34MB                             0%
vs1     vv2    10.38MB                             0%
4 entries were displayed.
----
+
** 。 `performance-tier-inactive-user-data` フィールドには、アグリゲートに格納されているアクセス頻度の低いユーザデータの量が表示されます。
** 。 `performance-tier-inactive-user-data-percent` フィールドには、アクティブファイルシステムとSnapshotコピー全体でアクセス頻度の低いデータの割合が表示されます。
** FabricPool に使用されていないアグリゲートの場合、Inactive Data Reportingは階層化ポリシーを使用してコールドとしてレポートするデータの量を決定します。
+
*** をクリックします `none` 階層化ポリシーでは31日が使用されます。
*** をクリックします `snapshot-only` および `auto`、Inactive Data Reportingのを使用します `tiering-minimum-cooling-days`。
*** をクリックします `ALL` ポリシーのInactive Data Reportingでは、データが1日以内に階層化されることが想定されています。
+
期間が終了するまで ' 出力には ' 値ではなく ' 非アクティブなデータの量が表示されます



** FabricPool に含まれるボリュームの場合、アクセス頻度の低いデータとして報告される ONTAP は、ボリュームに設定されている階層化ポリシーによって異なります。
+
*** をクリックします `none` 階層化ポリシーのONTAP では、ボリューム全体のうち、少なくとも31日間アクセスされていないデータの量が報告されます。を使用することはできません `-tiering-minimum-cooling-days` パラメータと `none` 階層化ポリシー：
*** をクリックします `ALL`、 `snapshot-only`および `auto` 階層化ポリシーのInactive Data Reportingはサポートされません。






--
====