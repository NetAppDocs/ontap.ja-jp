---
permalink: fabricpool/object-tagging-user-created-custom-tags-task.html 
sidebar: sidebar 
keywords: object, tagging, user-created, custom tags, fabricpool, fabric pool, sort, fabricpool sorting, fabricpool data 
summary: ONTAP 9.8以降のFabricPoolでは、ユーザが作成したカスタム タグを使用してオブジェクトをタグ付けできます。これにより、オブジェクトの分類やソートが可能になり、管理が容易になります。 
---
= ユーザーが作成したカスタムタグを使用して ONTAP FabricPool ボリュームを管理する
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
ONTAP 9.8以降のFabricPoolでは、ユーザが作成したカスタム タグを使用してオブジェクトをタグ付けできます。これにより、オブジェクトの分類やソートが可能になり、管理が容易になります。admin権限レベルのユーザは、新しいオブジェクト タグの作成、既存のタグの変更、削除、表示を行うことができます。



== ボリューム作成時の新しいタグの割り当て

新規に作成するボリュームから階層化される新しいオブジェクトにタグを割り当てる場合、新しいオブジェクト タグを作成することができます。タグを使用して階層化オブジェクトを分類およびソートし、データを簡単に管理することができます。ONTAP 9.8以降では、System Managerを使用してオブジェクト タグを作成できます。

.タスク概要
タグを設定できるのは、StorageGRIDに接続されたFabricPoolボリュームのみです。設定したタグはボリュームを移動しても保持されます。

* ボリュームごとに最大 4 つのタグが許可されます。
* CLI では、各オブジェクト タグは等号で区切られたキーと値のペアである必要があります。
* CLI では、複数のタグはコンマで区切る必要があります。
* 各タグ値の最大文字数は127文字です。
* 各タグ キーの1文字目はアルファベットかアンダースコアでなければなりません。
+
キーには英数字とアンダースコアのみを使用でき、最大文字数は127文字です。



オブジェクト タグは、ONTAP System ManagerまたはONTAP CLIを使用して割り当てることができます。

.手順
[role="tabbed-block"]
====
.System Manager
--
. *Storage > Tiers*に移動します。
. タグを作成するボリュームがあるストレージ階層を特定します。
. *ボリューム*タブをクリックします。
. タグ付けするボリュームを見つけて、*Object Tags* 列で *Click to enter tags* を選択します。
. キーと値を入力します。
. *適用*をクリックします。


--
.CLI
--
.  `volume create`コマンドに `-tiering-object-tags`オプションを指定して、指定されたタグを持つ新しいボリュームを作成します。複数のタグをカンマ区切りのペアで指定できます：
+
[listing]
----
volume create [ -vserver <vserver name> ] -volume <volume_name> -tiering-object-tags <key1=value1> [,<key2=value2>,<key3=value3>,<key4=value4> ]
----
+
次の例は、3つのオブジェクト タグを使用するfp_volume1という名前のボリュームを作成します。

+
[listing]
----
vol create -volume fp_volume1 -vserver vs0 -tiering-object-tags project=fabricpool,type=abc,content=data
----


--
====


== 既存のタグの変更

タグの名前を変更したり、オブジェクト ストア内の既存のオブジェクトのタグを置き換えたりすることができます。また、あとで追加する予定の新しいオブジェクトに別のタグを追加することもできます。

.手順
[role="tabbed-block"]
====
.System Manager
--
. *Storage > Tiers*に移動します。
. 変更するタグを含むボリュームがあるストレージ階層を特定します。
. *ボリューム*タブをクリックします。
. 変更するタグが付いたボリュームを見つけて、*Object Tags*列でタグ名をクリックします。
. タグを変更します。
. *適用*をクリックします。


--
.CLI
--
.  `-tiering-object-tags`オプションを指定した `volume modify`コマンドを使用して、既存のタグを変更します。
+
[listing]
----
volume modify [ -vserver <vserver name> ] -volume <volume_name> -tiering-object-tags <key1=value1> [ ,<key2=value2>,
<key3=value3>,<key4=value4> ]
----
+
次の例では、既存のタグの名前 `type=abc`を `type=xyz`に変更します。

+
[listing]
----
vol modify -volume fp_volume1 -vserver vs0 -tiering-object-tags project=fabricpool,type=xyz,content=data
----


--
====


== タグの削除

ボリュームまたはオブジェクト ストア内のオブジェクトに設定しておく必要がなくなったオブジェクト タグは削除できます。

.手順
[role="tabbed-block"]
====
.System Manager
--
. *Storage > Tiers*に移動します。
. 削除するタグを含むボリュームがあるストレージ階層を特定します。
. *ボリューム*タブをクリックします。
. 削除するタグが付いたボリュームを見つけて、*Object Tags*列でタグ名をクリックします。
. タグを削除するには、ごみ箱のアイコンをクリックします。
. *適用*をクリックします。


--
.CLI
--
.  `volume modify`コマンドに `-tiering-object-tags`オプションを指定し、その後に空の値(`""`）を指定して、既存のタグを削除します。
+
次の例は、fp_volume1に設定された既存のタグを削除します。

+
[listing]
----
vol modify -volume fp_volume1 -vserver vs0 -tiering-object-tags ""
----


--
====


== ボリュームの既存タグの表示

新しいタグをリストに追加する前に、ボリュームの既存のタグを表示して使用可能なタグを確認できます。

.手順
.  `tiering-object-tags`オプションを指定した `volume show`コマンドを使用して、ボリューム上の既存のタグを表示します。
+
[listing]
----
volume show [ -vserver <vserver name> ] -volume <volume_name> -fields tiering-object-tags
----




== FabricPoolボリュームでのオブジェクトのタグ付けステータスの確認

FabricPoolボリュームでタグ付けが完了しているかどうかを確認することができます。

.手順
.  `vol show`コマンドを `-fields needs-object-retagging`オプションとともに使用して、タグ付けが進行中か、完了しているか、またはタグ付けが設定されていないかを確認します。
+
[listing]
----
vol show -fields needs-object-retagging  [ -instance | -volume <volume name>]
----
+
以下のいずれかの値が表示されます。

+
** `true`：オブジェクト タグ付けスキャナはまだ実行されていないか、このボリュームに対して再度実行する必要があります
** `false`：オブジェクトタグ付けスキャナがこのボリュームのタグ付けを完了しました
** `+<->+`：オブジェクトタグ付けスキャナはこのボリュームには適用できません。これは、FabricPoolsに存在しないボリュームで発生します。



