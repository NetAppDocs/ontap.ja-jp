---
permalink: flexcache/prepopulate-volume-task.html 
sidebar: sidebar 
keywords: prepopulating, flexcache, volume 
summary: FlexCacheボリュームにデータを事前に取り込むことで、キャッシュ データにアクセスする時間を短縮できます。 
---
= ONTAP FlexCacheボリュームの事前設定
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
FlexCacheボリュームにデータを事前に取り込むことで、キャッシュ データにアクセスする時間を短縮できます。

.開始する前に
* advanced権限レベルのクラスタ管理者であることが必要です。
* 指定した事前取り込み用のパスが存在している必要があります。存在しない場合、処理は失敗します。


.タスク概要
* ディレクトリがクロールされて、ファイルだけが読み取られます。
*  `-isRecursion`フラグは、事前入力に渡されるディレクトリのリスト全体に適用されます


.手順
. FlexCacheボリュームへデータの事前取り込みを実行します。
+
`volume flexcache prepopulate -cache-vserver vserver_name -cache-volume -path-list _path_list_ -isRecursion true|false`

+
**  `-path-list`パラメータは、オリジンルートディレクトリを起点として事前入力する相対ディレクトリパスを示します。たとえば、オリジンルートディレクトリの名前が /origin で、/origin/dir1 と /origin/dir2 というディレクトリが含まれている場合、パスリストを次のように指定できます： `-path-list dir1, dir2`または `-path-list /dir1, /dir2`。
**  `-isRecursion`パラメータのデフォルト値はTrueです。
+
次の例は、1つのディレクトリ パスで事前取り込みを実行します。

+
[listing]
----
cluster1::*> flexcache prepopulate start -cache-vserver vs2 -cache-volume fg_cachevol_1 -path-list /dir1
  (volume flexcache prepopulate start)
[JobId 207]: FlexCache prepopulate job queued.
----
+
次の例は、複数のディレクトリのファイルに事前取り込みを実行します。

+
[listing]
----
cluster1::*> flexcache prepopulate start -cache-vserver vs2 -cache-volume fg_cachevol_1 -path-list /dir1,/dir2,/dir3,/dir4
  (volume flexcache prepopulate start)
[JobId 208]: FlexCache prepopulate job queued.
----
+
次の例は、単一のファイルに事前取り込みを実行します。

+
[listing]
----
cluster1::*> flexcache prepopulate start -cache-vserver vs2 -cache-volume fg_cachevol_1 -path-list /dir1/file1.txt
  (volume flexcache prepopulate start)
[JobId 209]: FlexCache prepopulate job queued.
----
+
次の例は、元のルート ディレクトリにあるすべてのファイルに事前取り込みを実行します。

+
[listing]
----
cluster1::*> flexcache prepopulate start -cache-vserver vs2 -cache-volume fg_cachevol_1 -path-list / -isRecursion true
  (volume flexcache prepopulate start)
[JobId 210]: FlexCache prepopulate job queued.
----
+
次の例では、事前取り込み用に無効なパスを指定しています。

+
[listing]
----
cluster1::*> flexcache prepopulate start -cache-volume vol_cache2_vs3_c2_vol_origin1_vs1_c1 -cache-vserver vs3_c2 -path-list /dir1, dir5, dir6
  (volume flexcache prepopulate start)

Error: command failed: Path(s) "dir5, dir6" does not exist in origin volume
       "vol_origin1_vs1_c1" in Vserver "vs1_c1".
----


. 読み取られたファイルの数を表示します。
+
`job show -id job_ID -ins`



.関連情報
* link:https://docs.netapp.com/us-en/ontap-cli/job-show.html["job show"^]

