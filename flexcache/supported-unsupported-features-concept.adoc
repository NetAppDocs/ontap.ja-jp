---
permalink: flexcache/supported-unsupported-features-concept.html 
sidebar: sidebar 
keywords: supported, unsupported, features, flexcache, volumes 
summary: FlexCacheボリュームとFlexCacheボリュームでサポートされる機能とプロトコルは異なります。 
---
= ONTAP FlexCacheボリュームでサポートされている機能とサポートされていない機能
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
ONTAP 9.5以降では、FlexCacheボリュームを設定できます。FlexVolボリュームは元のボリュームとして、FlexGroupボリュームはFlexCacheボリュームとしてサポートされます。ONTAP 9.7以降では、FlexVolボリュームとFlexGroupボリュームの両方が元のボリュームとしてサポートされます。元のボリュームとFlexCacheボリュームでサポートされる機能とプロトコルは異なります。


NOTE: キャッシュ ボリュームと元のボリュームは、サポートされているバージョンのONTAPでその両方が実行されていれば、相互運用できます。サポートが導入されたONTAPバージョンまたはそれ以降のONTAPバージョンでキャッシュと元のボリュームの両方が実行されている場合にのみ機能がサポートされることに注意してください。



== FlexCacheボリュームと元のボリューム間のONTAPバージョンのサポート

オリジンボリュームとキャッシュボリューム間でサポートされる推奨ONTAPバージョンは、4バージョン前または4バージョン後までです。例えば、キャッシュがONTAP 9.14.1を使用している場合、オリジンで使用できる最も古いバージョンはONTAP 9.10.1です。



== サポートされるプロトコル

|===


| プロトコル | 元のボリュームでのサポート | FlexCacheボリュームでのサポート 


 a| 
NFSv3
 a| 
はい
 a| 
はい



 a| 
NFSv4
 a| 
はい

NFSv4.xプロトコルを使用してキャッシュボリュームにアクセスするには、オリジンクラスタとキャッシュクラスタの両方がONTAP 9.10.1以降を使用する必要があります。オリジンクラスタとFlexCacheクラスタのONTAPバージョンは異なっていても構いませんが、両方ともONTAP 9.10.1以降のバージョンである必要があります。たとえば、オリジンクラスタにはONTAP 9.10.1、キャッシュクラスタにはONTAP 9.11.1を使用できます。
 a| 
はい

ONTAP 9.10.1以降でサポート。

NFSv4.xプロトコルを使用してキャッシュボリュームにアクセスするには、オリジンクラスタとキャッシュクラスタの両方がONTAP 9.10.1以降を使用する必要があります。オリジンクラスタとFlexCacheクラスタのONTAPバージョンは異なっていても構いませんが、両方ともONTAP 9.10.1以降のバージョンである必要があります。たとえば、オリジンクラスタにはONTAP 9.10.1、キャッシュクラスタにはONTAP 9.11.1を使用できます。



 a| 
NFSv4.2
 a| 
はい
 a| 
いいえ



 a| 
SMB
 a| 
はい
 a| 
はい

ONTAP 9.8以降でサポート

|===


== サポートされる機能

|===


| 機能 | 元のボリュームでのサポート | FlexCacheボリュームでのサポート 


 a| 
自律型ランサムウェア対策
 a| 
はい

ONTAP 9.10.1以降のFlexVol元のボリュームでサポートされ、ONTAP 9.13.1以降のFlexGroup元のボリュームでもサポートされます。link:../anti-ransomware/use-cases-restrictions-concept.html#unsupported-configurations["自律型ランサムウェア対策のユースケースと考慮事項"]を参照してください。
 a| 
いいえ



 a| 
ウイルス対策
 a| 
はい

ONTAP 9.7以降でサポート
 a| 
該当なし

オリジンでウイルススキャンを設定している場合、キャッシュでは不要です。オリジンのウイルススキャンは、書き込み元に関係なく、書き込みがコミットされる前にウイルスに感染したファイルを検出します。FlexCacheでのウイルススキャンの使用に関する詳細は、FlexCache https://www.netapp.com/media/7336-tr4743.pdf["FlexCacheとONTAPのテクニカルレポート"^]を参照してください。



 a| 
監査
 a| 
はい

ONTAP 9.7以降でサポートされます。ネイティブのONTAP監査を使用して、FlexCache関係におけるNFSファイル アクセス イベントを監査できます。詳細については、xref:audit-flexcache-volumes-concept.adoc[FlexCacheボリュームの監査に関する考慮事項]を参照してください。
 a| 
はい

ONTAP 9.7以降でサポートされます。ネイティブのONTAP監査を使用して、FlexCache関係におけるNFSファイル アクセス イベントを監査できます。詳細については、xref:audit-flexcache-volumes-concept.adoc[FlexCacheボリュームの監査に関する考慮事項]を参照してください。



 a| 
Cloud Volumes ONTAP
 a| 
はい

ONTAP 9.6以降でサポート
 a| 
はい

ONTAP 9.6以降でサポート



 a| 
コンパクション
 a| 
はい

ONTAP 9.6以降でサポート
 a| 
はい

ONTAP 9.7以降でサポート



 a| 
圧縮
 a| 
はい

ONTAP 9.6以降でサポート
 a| 
はい

ONTAP 9.6以降でサポート



 a| 
重複排除
 a| 
はい
 a| 
はい

インライン重複排除はONTAP 9.6以降のFlexCacheボリュームでサポート。ボリューム間重複排除はONTAP 9.7以降のFlexCacheボリュームでサポート。



 a| 
FabricPool
 a| 
はい
 a| 
はい

ONTAP 9.7以降でサポート


NOTE: FabricPool階層化が有効になっているオリジンボリュームのキャッシュとしてFlexCacheボリュームを作成できますが、FlexCacheボリューム自体は階層化できません。



 a| 
FlexCache DR
 a| 
はい
 a| 
はい

ONTAP 9.9.1以降でNFSv3プロトコルを使用する場合にのみサポート。FlexCacheボリュームは、別々のSVMまたはクラスタに配置する必要があります。



 a| 
FlexGroupボリューム
 a| 
はい

ONTAP 9.7以降でサポート
 a| 
はい



 a| 
FlexVol
 a| 
はい
 a| 
いいえ



 a| 
FPolicy
 a| 
はい

ONTAP 9.7以降でサポート
 a| 
はい

ONTAP 9.7以降でNFSの場合にサポートONTAP 9.14.1以降でSMBの場合にサポート



 a| 
MetroCluster構成
 a| 
はい

ONTAP 9.7以降でサポート
 a| 
はい

ONTAP 9.7以降でサポート



 a| 
Microsoftオフロード データ転送（ODX）
 a| 
はい
 a| 
いいえ



 a| 
NetApp Aggregate Encryption（NAE）
 a| 
はい

ONTAP 9.6以降でサポート
 a| 
はい

ONTAP 9.6以降でサポート



 a| 
NetApp Volume Encryption（NVE）
 a| 
はい

ONTAP 9.6以降でサポート
 a| 
はい

ONTAP 9.6以降でサポート



 a| 
ONTAP S3 NASバケット
 a| 
はい

ONTAP 9.12.1以降でサポート
 a| 
はい

ONTAP 9.18.1以降でサポート



 a| 
QoS
 a| 
はい
 a| 
はい


NOTE: ファイルレベルのQoSはFlexCacheボリュームでサポートされません。



 a| 
qtree
 a| 
はい

ONTAP 9.6以降では、qtreeを作成、変更できます。ソース上に作成されたqtreeには、キャッシュ上でアクセスできます。
 a| 
いいえ



 a| 
クォータ
 a| 
はい

ONTAP 9.6以降では、FlexCacheの元のボリュームでのクォータの適用がユーザ、グループ、およびqtreeについてサポートされます。
 a| 
いいえ

FlexCacheのライトアラウンド モード（デフォルト モード）では、キャッシュへの書き込みは元のボリュームに転送されます。クォータは元のボリュームで適用されます。


NOTE: ONTAP 9.6以降では、FlexCacheボリュームでリモート クォータ（rquota）がサポートされます。



 a| 
SMB変更通知
 a| 
はい
 a| 
はい

ONTAP 9.14.1以降では、SMB変更通知がキャッシュでサポートされます。



 a| 
SnapLockボリューム
 a| 
いいえ
 a| 
いいえ



 a| 
SnapMirror非同期関係*
 a| 
はい
 a| 
いいえ



 a| 
 a| 
*FlexCacheオリジン：

* FlexVolをFlexCacheボリュームの元のボリュームとして使用できます。
* FlexGroupボリュームをFlexCacheボリュームの元のボリュームとして使用できます。
* SnapMirror関係のプライマリ ボリュームをFlexCacheボリュームの元のボリュームとして使用できます
* ONTAP 9.8以降では、SnapMirror関係のセカンダリ ボリュームをFlexCacheの元のボリュームとして使用できます。SnapMirrorセカンダリ ボリュームは、SnapMirrorのアクティブな更新のない、アイドル状態である必要があります。そうでないと、FlexCacheの作成は失敗します。




 a| 
SnapMirror同期関係
 a| 
いいえ
 a| 
いいえ



 a| 
SnapRestore
 a| 
はい
 a| 
いいえ



 a| 
Snapshot 数
 a| 
はい
 a| 
いいえ



 a| 
SVM DR設定
 a| 
はい

ONTAP 9.5以降でサポートされます。SVM DR関係のプライマリSVMは元のボリュームを持つことができます。ただし、ONTAP 9.18.1より前のONTAPリリースを実行している場合、SVM DR関係が解除されたときに、FlexCache関係を新しい元のボリュームを使用して再作成する必要があります。

ONTAP 9.18.1以降では、オリジンSVMがフェイルオーバーすると、キャッシュはDRサイトのオリジンに自動的に切り替わります。手動によるリカバリ手順が不要になります。

xref:create-volume-task.adoc[FlexCacheボリュームの作成について学習します。]
 a| 
いいえ

プライマリSVMにはFlexCacheボリュームを配置できますが、セカンダリSVMには配置できません。プライマリSVM内のFlexCacheボリュームは、SVM DR関係の一部として複製されません。



 a| 
ストレージレベルのアクセス保護（SLAG）
 a| 
いいえ
 a| 
いいえ



 a| 
シンプロビジョニング
 a| 
はい
 a| 
はい

ONTAP 9.7以降でサポート



 a| 
ボリューム クローニング
 a| 
はい

元のボリュームおよび元のボリューム内のファイルのクローニングは、ONTAP 9.6以降でサポートされます。
 a| 
いいえ



 a| 
ボリューム移動
 a| 
はい
 a| 
○（ボリューム コンスティチュエントのみ）

FlexCacheボリュームのボリューム コンスティチュエントの移動は、ONTAP 9.6以降でサポートされます。



 a| 
ボリュームのリホスト
 a| 
いいえ
 a| 
いいえ



 a| 
vStorage API for Array Integration（VAAI）
 a| 
はい
 a| 
いいえ

|===

NOTE: ONTAP 9 9.5より前のリリースでは、元のFlexVolボリュームは、7-Modeで動作するData ONTAP 8.2.xを実行しているシステムで作成されたFlexCacheボリュームにのみデータを提供できます。ONTAP 9.5以降では、元のFlexVolボリュームは、ONTAP 9システム上のFlexCacheボリュームにもデータを提供できます。7-Mode FlexCacheからONTAP 9 FlexCacheへの移行については、link:https://www.netapp.com/pdf.html?item=/media/7336-tr4743pdf.pdf["NetAppテクニカルレポート4743：FlexCache in ONTAP"^]を参照してください。
