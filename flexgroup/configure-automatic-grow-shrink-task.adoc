---
permalink: flexgroup/configure-automatic-grow-shrink-task.html 
sidebar: sidebar 
keywords: configure, flexgroup, volume, automatic, grow, shrink, size 
summary: ONTAP 9.3 以降では、必要なスペースに応じて FlexGroup ボリュームを自動的に拡張または縮小するように設定できます。 
---
= FlexGroup ボリュームのサイズを自動的に拡張および縮小するように設定します
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
ONTAP 9.3 以降では、必要なスペースに応じて FlexGroup ボリュームを自動的に拡張または縮小するように設定できます。

FlexGroup はオンラインである必要があります。

FlexGroup ボリュームのオートサイズには 2 つのモードがあります。

* ボリュームのサイズを自動的に拡張する（「 grow 」モード）
+
自動拡張機能を使用すると、アグリゲートが追加のスペースを提供できる場合に、 FlexGroup ボリュームがスペース不足になるのを防ぐことができます。ボリュームの最大サイズを設定できます。拡張は、ボリュームに書き込まれるデータ量と現在使用されているスペースの量、およびしきい値設定に基づいて自動的にトリガーされます。

+
デフォルトでは、ボリュームの最大サイズは、自動拡張を有効にしたときのサイズの 120% まで拡張できます。それよりも大容量にする必要がある場合は、必要に応じてボリュームの最大サイズを設定する必要があります。

* ボリュームのサイズを自動的に縮小する（ 'grow_shrink ' モード）
+
自動縮小機能を使用すると、ボリュームが必要以上に拡張されるのを防止し、アグリゲート内のスペースを他のボリュームで使用できるように解放できます。

+
自動縮小は、変化するスペース需要に対応するために自動拡張と組み合わせて使用することができ、単独で使用することはできません。自動縮小を有効にした場合、自動拡張と自動縮小の処理が無限に繰り返されないように縮小動作が ONTAP で自動的に制御されます。



ボリュームが拡張されると、格納できるファイルの最大数が自動的に増える可能性があります。ボリュームが縮小されても格納できるファイルの最大数は変わらず、ボリュームが縮小前のファイルの最大数に対応するサイズよりも小さくなることはありません。そのため、自動縮小でボリュームを元のサイズに戻すことはできません。

.ステップ
. ボリュームのサイズを自動的に拡張および縮小するように構成します。 volume autosize -vserver vserver_name -volume vol_name -mode [grow | grow_shrink ]
+
ボリュームを拡張または縮小する最大サイズ、最小サイズ、およびしきい値を指定することもできます。

+
次に、 fg1 という名前のボリュームで自動サイズ変更を有効にするコマンドを示します。ボリュームの 70% が使用された時点で最大 5TB までサイズを拡張するように設定します。

+
[listing]
----
cluster1::> volume autosize -volume fg1 -mode grow -maximum-size 5TB -grow-threshold-percent 70
vol autosize: volume "vs_src:fg1" autosize settings UPDATED.
----

