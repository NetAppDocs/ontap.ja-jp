---
permalink: flexgroup/configure-automatic-grow-shrink-task.html 
sidebar: sidebar 
keywords: configure, flexgroup, volume, automatic, grow, shrink, size 
summary: ONTAP 9 .3以降では、必要なスペースに応じてFlexGroupボリュームを自動的に拡張および縮小するように設定できます。 
---
= ONTAP FlexGroupボリュームのサイズを自動的に拡張および縮小するように設定する
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
ONTAP 9 .3以降では、必要なスペースに応じてFlexGroupボリュームを自動的に拡張および縮小するように設定できます。

.開始する前に
FlexGroupボリュームはオンラインである必要があります。

.タスクの内容
FlexGroupボリュームのオートサイズは、次の2つのモードで実行できます。

* ボリュームのサイズを自動的に拡張する(`grow`モード）
+
自動拡張を使用すると、FlexGroupボリュームがスペース不足になるのを防ぐことができます（アグリゲートが追加のスペースを提供できる場合）。ボリュームの最大サイズを設定できます。この拡張は、ボリュームに書き込まれるデータの量に基づいて、現在の使用済みスペースの量と設定されているしきい値に基づいて自動的にトリガーされます。

+
デフォルトでは、ボリュームは自動拡張が有効になっているサイズの120%まで拡張できます。ボリュームをそれよりも大きく拡張できるようにする必要がある場合は、それに応じてボリュームの最大サイズを設定する必要があります。

* ボリュームのサイズを自動的に縮小(`grow_shrink`するモード）
+
自動縮小では、ボリュームが必要以上に大きくなるのを防ぎ、アグリゲートのスペースを解放して他のボリュームで使用できるようにします。

+
自動縮小は、変化するスペース需要に対応するために自動拡張と組み合わせてのみ使用でき、単独で使用することはできません。自動縮小を有効にすると、自動拡張と自動縮小の処理が無限に繰り返されるのを防ぐために、ONTAPはボリュームの縮小動作を自動的に管理します。



ボリュームが拡張されると、格納できるファイルの最大数が自動的に増える可能性があります。ボリュームが縮小されても格納できるファイルの最大数は変わらず、ボリュームが縮小前のファイルの最大数に対応するサイズよりも小さくなることはありません。そのため、自動縮小でボリュームを最初のサイズまで縮小できるとは限りません。

.手順
. ボリュームのサイズを自動的に拡張および縮小するように設定します。 `volume autosize -vserver vserver_name -volume vol_name -mode [grow | grow_shrink]`
+
ボリュームを拡張または縮小する最大サイズ、最小サイズ、およびしきい値を指定することもできます。

+
、70% 使用された場合、最大サイズが 5 TB まで拡張されるように構成されています。

+
[listing]
----
cluster1::> volume autosize -volume fg1 -mode grow -maximum-size 5TB -grow-threshold-percent 70
vol autosize: volume "vs_src:fg1" autosize settings UPDATED.
----

