---
sidebar: sidebar 
permalink: high-availability/ha_monitor_an_ha_pair_overview.html 
keywords: ontap, high availability, ha, pair, monitor, hwassist 
summary: ONTAPのコマンドを使用して、HAペアのステータスを監視できます。 
---
= HAペアを監視するためのONTAPコマンド
:hardbreaks:
:allow-uri-read: 
:nofooter: 
:icons: font
:linkattrs: 
:imagesdir: ../media/


[role="lead"]
ONTAPコマンドを使用して、HAペアのステータスを監視できます。テイクオーバーが発生した場合は、テイクオーバーの原因を特定することもできます。

|===


| 確認したい場合は | このコマンドを使用する 


| フェイルオーバーの有効 / 無効と発生の有無、または現在フェイルオーバーを実行できない理由 | `storage failover show` 


| ストレージフェイルオーバーのHAモード設定が有効になっているノードを表示します。ノードがストレージフェイルオーバー（HAペア）構成に参加するには、値をhaに設定する必要があります。 | `storage failover show -fields mode` 


| ハードウェア アシスト テイクオーバーが有効になっているかどうか | `storage failover hwassist show` 


| これまでに発生したハードウェア アシスト テイクオーバー イベントの履歴 | `storage failover hwassist stats show` 


| テイクオーバー処理（テイクオーバーを実行中のノードにパートナーのアグリゲートを移動する）の進捗 | `storage failover show‑takeover` 


| ギブバック処理（アグリゲートをパートナー ノードに戻す）の進捗 | `storage failover show‑giveback` 


| テイクオーバーまたはギブバックの処理中にアグリゲートがホームであるかどうか | `aggregate show ‑fields home‑id,owner‑id,home‑name,owner‑name,is‑home` 


| クラスタHAが有効になっているかどうか（2ノード クラスタの場合のみ） | `cluster ha show` 


| HAペアのコンポーネントのHAの状態（HAの状態を使用するシステム） | `ha‑config show`これはメンテナンスモードコマンドです。 
|===


== storage failover show-typeコマンドで表示されるノードの状態

次のリストは、 `storage failover show`コマンドによって表示されるノードの状態について説明します。

|===


| ノードの状態 | 概要 


 a| 
partner_nameに接続しました。自動テイクオーバーは無効です。
 a| 
HAインターコネクトはアクティブで、パートナーノードにデータを送信できます。パートナーの自動テイクオーバーは無効です。



 a| 
partner_name を待機中。パートナーのスペアディスクのギブバックが保留中です。
 a| 
ローカルノードはHAインターコネクトを介してパートナーノードと情報を交換できません。SFOアグリゲートはパートナーノードにギブバックされますが、パートナーノードのスペアディスクは引き続きローカルノードに所有されています。

* 詳細については `storage failover show-giveback`コマンドを実行してください。




 a| 
partner_name を待機しています。パートナーロックの同期を待機しています。
 a| 
ローカル ノードはHAインターコネクト経由でパートナー ノードと情報を交換できず、パートナー ロックの同期が行われるのを待機しています。



 a| 
partner_name を待機しています。ローカルノードでクラスタアプリケーションがオンラインになるのを待機しています。
 a| 
ローカル ノードはHAインターコネクト経由でパートナー ノードと情報を交換できず、クラスタ アプリケーションがオンラインになるのを待機しています。



 a| 
テイクオーバーがスケジュールされました。ターゲット ノードはテイクオーバーの準備としてSFOアグリゲートを再配置しています。
 a| 
テイクオーバー処理が開始されました。ターゲットノードはテイクオーバーの準備として、SFOアグリゲートの所有権を再割り当てしています。



 a| 
テイクオーバーがスケジュールされました。ターゲット ノードはテイクオーバーの準備として SFO アグリゲートを再配置しました。
 a| 
テイクオーバー処理が開始されました。ターゲットノードはテイクオーバーの準備として、SFOアグリゲートの所有権を再割り当てしました。



 a| 
テイクオーバーがスケジュールされました。ローカルノードのディスクファームウェアのバックグラウンド更新を無効にするのを待機しています。ノードでファームウェアの更新が進行中です。
 a| 
テイクオーバー処理が開始されました。システムは、ローカルノードでのバックグラウンドディスクファームウェア更新操作が完了するのを待機しています。



 a| 
テイクオーバーの準備として、SFO アグリゲートをテイクオーバーノードに再配置しています。
 a| 
ローカル ノードは、テイクオーバーの準備として、SFOアグリゲートの所有権をテイクオーバー ノードに再配置しています。



 a| 
SFOアグリゲートをテイクオーバーノードに再配置しました。テイクオーバーノードがテイクオーバーするのを待機しています。
 a| 
SFOアグリゲートの所有権をローカルノードからテイクオーバーノードに再割り当てする処理が完了しました。システムはテイクオーバーノードによるテイクオーバーを待機しています。



 a| 
SFOアグリゲートをpartner_nameに再配置しています。ローカルノードのディスクファームウェアのバックグラウンド更新を無効にするのを待機しています。ノードでファームウェアの更新が進行中です。
 a| 
SFOアグリゲートの所有権をローカルノードからテイクオーバーノードに再配置中です。システムは、ローカルノードでのバックグラウンドディスクファームウェア更新処理が完了するのを待機しています。



 a| 
SFOアグリゲートをpartner_nameに再配置しています。partner_nameのディスクファームウェアのバックグラウンド更新を無効にするのを待機しています。ノードでファームウェアの更新が進行中です。
 a| 
SFOアグリゲートの所有権をローカルノードからテイクオーバーノードに再割り当て中です。システムは、パートナーノードでのバックグラウンドディスクファームウェア更新処理が完了するのを待機しています。



 a| 
partner_name に接続しました。前回のテイクオーバー試行は、reason により中止されました。ローカルノードはパートナーの SFO アグリゲートの一部を所有しています。残りのアグリゲートをテイクオーバーするには、 `‑bypass-optimization`パラメータを true に設定してパートナーのテイクオーバーを再発行するか、再配置されたアグリゲートを返却するには、パートナーのギブバックを発行してください。
 a| 
HAインターコネクトはアクティブで、パートナーノードにデータを転送できます。前回のテイクオーバーの試行は、reasonに表示されている理由により中止されました。ローカルノードは、パートナーのSFOアグリゲートの一部を所有しています。

* 残りのSFOアグリゲートをテイクオーバーする場合は、‑bypass‑optimizationパラメータをtrueに設定して、パートナー ノードのテイクオーバーをもう一度実行します。再配置されたアグリゲートを戻す場合は、パートナーのギブバックを実行します。




 a| 
partner_name に接続しました。前回のテイクオーバー試行は中止されました。ローカルノードはパートナーのSFOアグリゲートの一部を所有しています。残りのアグリゲートをテイクオーバーするには、 `‑bypass-optimization`パラメータをtrueに設定してパートナーのテイクオーバーを再発行するか、再配置されたアグリゲートを返却するには、パートナーのギブバックを発行してください。
 a| 
HAインターコネクトはアクティブで、パートナーノードにデータを転送できます。前回のテイクオーバーの試行は中止されました。ローカルノードは、パートナーのSFOアグリゲートの一部を所有しています。

* 残りのSFOアグリゲートをテイクオーバーする場合は、‑bypass‑optimizationパラメータをtrueに設定して、パートナー ノードのテイクオーバーをもう一度実行します。再配置されたアグリゲートを戻す場合は、パートナーのギブバックを実行します。




 a| 
partner_name を待機しています。前回のテイクオーバー試行は、reason により中止されました。ローカルノードはパートナーの SFO アグリゲートの一部を所有しています。残りのアグリゲートをテイクオーバーするには、「‑bypass-optimization」パラメータを true に設定してパートナーのテイクオーバーを再発行するか、再配置されたアグリゲートを返却するにはパートナーのギブバックを発行してください。
 a| 
ローカルノードはHAインターコネクト経由でパートナーノードと情報を交換できません。前回のテイクオーバーの試行は、reasonに表示されている理由により中止されました。ローカルノードは、パートナーのSFOアグリゲートの一部を所有しています。

* 残りのSFOアグリゲートをテイクオーバーする場合は、‑bypass‑optimizationパラメータをtrueに設定して、パートナー ノードのテイクオーバーをもう一度実行します。再配置されたアグリゲートを戻す場合は、パートナーのギブバックを実行します。




 a| 
partner_name を待機しています。前回のテイクオーバー試行は中止されました。ローカルノードはパートナーのSFOアグリゲートの一部を所有しています。残りのアグリゲートをテイクオーバーするには、「‑bypass-optimization」パラメータをtrueに設定してパートナーのテイクオーバーを再発行するか、再配置されたアグリゲートを返却するにはパートナーのギブバックを発行してください。
 a| 
ローカルノードはHAインターコネクトを介してパートナーノードと情報を交換できません。前回のテイクオーバーの試行は中止されました。ローカルノードは、パートナーのSFOアグリゲートの一部を所有しています。

* 残りのSFOアグリゲートをテイクオーバーする場合は、‑bypass‑optimizationパラメータをtrueに設定して、パートナー ノードのテイクオーバーをもう一度実行します。再配置されたアグリゲートを戻す場合は、パートナーのギブバックを実行します。




 a| 
partner_nameに接続しました。ローカルノードでバックグラウンドディスクファームウェアアップデート（BDFU）を無効にできなかったため、前回のテイクオーバー試行は中止されました。
 a| 
HAインターコネクトはアクティブで、パートナーノードにデータを転送できます。ローカルノードのバックグラウンドディスクファームウェアアップデートが無効になっていなかったため、前回のテイクオーバーの試行は中止されました。



 a| 
partner_nameに接続しました。前回のテイクオーバーの試行はreasonにより中止されました。
 a| 
HAインターコネクトはアクティブで、パートナーノードにデータを送信できます。前回のテイクオーバーの試行は、reasonに表示されている理由により中止されました。



 a| 
partner_name を待機しています。前回のテイクオーバーの試行は reason により中止されました。
 a| 
ローカルノードはHAインターコネクト経由でパートナーノードと情報を交換できません。前回のテイクオーバーの試行は、reasonに表示されている理由により中止されました。



 a| 
partner_nameに接続しました。partner_nameによる前回のテイクオーバーの試行は、reasonにより中止されました。
 a| 
HAインターコネクトはアクティブで、パートナーノードにデータを送信できます。パートナーノードによる前回のテイクオーバーの試行は、reasonに表示されている理由により中止されました。



 a| 
partner_nameに接続しました。partner_nameによる前回のテイクオーバーの試行は中止されました。
 a| 
HAインターコネクトはアクティブで、パートナーノードにデータを送信できます。パートナーノードによる前回のテイクオーバーの試行は中止されました。



 a| 
partner_name を待機しています。partner_name による前回のテイクオーバーの試行は、reason により中止されました。
 a| 
ローカルノードはHAインターコネクト経由でパートナーノードと情報を交換できません。パートナーノードによる前回のテイクオーバーの試行は、reasonに表示されている理由により中止されました。



 a| 
前回のギブバックはモジュール：module nameで失敗しました。自動ギブバックはnumber of seconds秒後に開始されます。
 a| 
前回のギブバック試行はモジュール module_name で失敗しました。自動ギブバックは number of seconds 秒後に開始されます。

* 詳細については `storage failover show-giveback`コマンドを実行してください。




 a| 
ノードは、無停止のコントローラアップグレード手順の一環として、パートナーのアグリゲートを所有します。
 a| 
現在進行中の無停止コントローラアップグレード手順により、ノードはパートナーのアグリゲートを所有します。



 a| 
partner_nameに接続しました。ノードは、クラスタ内の別のノードに属するアグリゲートを所有しています。
 a| 
HAインターコネクトはアクティブで、パートナーノードにデータを転送できます。このノードは、クラスタ内の別のノードに属するアグリゲートを所有しています。



 a| 
partner_nameに接続しました。パートナーロックの同期を待機しています。
 a| 
HAインターコネクトはアクティブで、パートナーノードにデータを送信できます。システムはパートナーロックの同期が完了するのを待機しています。



 a| 
partner_nameに接続しました。ローカルノードでクラスタアプリケーションがオンラインになるのを待機しています。
 a| 
HAインターコネクトはアクティブで、パートナーノードにデータを転送できます。システムは、ローカルノードでクラスタアプリケーションがオンラインになるのを待機しています。



 a| 
非HAモードでは、完全なNVRAMを使用するには再起動してください。
 a| 
ストレージ フェイルオーバーを実行できません。HAモードのオプションがnon_haに設定されています。

* ノードのNVRAMをすべて使用できるようにするには、ノードをリブートする必要があります。




 a| 
Non-HA mode.Reboot node to activate HA.
 a| 
ストレージ フェイルオーバーを実行できません。

* HA機能を有効にするには、ノードをリブートする必要があります。




 a| 
Non-HA mode.
 a| 
ストレージ フェイルオーバーを実行できません。HAモードのオプションがnon_haに設定されています。

* HA機能を有効にするには、HAペアの両方のノードで `storage failover modify ‑mode ha ‑node nodename`コマンドを実行してから、ノードを再起動する必要があります。


|===
.関連情報
* link:https://docs.netapp.com/us-en/ontap-cli/["ONTAPコマンド リファレンス"^]
* link:https://docs.netapp.com/us-en/ontap-cli/cluster-ha-show.html["cluster ha show"^]
* link:https://docs.netapp.com/us-en/ontap-cli/search.html?q=storage+failover+hwassist["ストレージフェイルオーバーhwassist"^]
* link:https://docs.netapp.com/us-en/ontap-cli/storage-failover-modify.html["storage failover modify"^]
* link:https://docs.netapp.com/us-en/ontap-cli/storage-failover-show.html["storage failover show"^]
* link:https://docs.netapp.com/us-en/ontap-cli/storage-failover-show-giveback.html["storage failover show-giveback"^]

