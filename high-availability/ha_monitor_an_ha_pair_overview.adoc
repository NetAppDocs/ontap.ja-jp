---
sidebar: sidebar 
permalink: high-availability/ha_monitor_an_ha_pair_overview.html 
keywords: ontap, high availability, ha, pair, monitor, hwassist 
summary: ONTAPコマンドを使用して、HAペアのステータスを監視できます。 
---
= HAペアの監視用コマンド
:hardbreaks:
:allow-uri-read: 
:nofooter: 
:icons: font
:linkattrs: 
:imagesdir: ../media/


[role="lead"]
ONTAPコマンドを使用して、HAペアのステータスを監視できます。テイクオーバーが発生した場合は、その原因を確認することもできます。

|===


| をオンにする場合は | 使用するコマンド 


| フェイルオーバーの有効 / 無効と発生の有無、または現在フェイルオーバーを実行できない理由 | `storage failover show` 


| ストレージフェイルオーバーの HA モード設定が有効になっているノードを表示するストレージフェイルオーバー（ HA ペア）構成に含めるには、値を HA に設定する必要があります。 | `storage failover show -fields mode` 


| ハードウェアアシストテイクオーバーが有効かどうか | `storage failover hwassist show` 


| これまでに発生したハードウェアアシストテイクオーバーイベントの履歴 | `storage failover hwassist stats show` 


| テイクオーバー処理（パートナーのアグリゲートをテイクオーバーを実行中のノードに移動）の進捗状況 | `storage failover show‑takeover` 


| ギブバック処理（アグリゲートをパートナーノードに戻す）の進捗 | `storage failover show‑giveback` 


| テイクオーバーまたはギブバックの処理中にアグリゲートがホームであるかどうか | `aggregate show ‑fields home‑id,owner‑id,home‑name,owner‑name,is‑home` 


| クラスタHAが有効になっているかどうか（2ノード クラスタの場合のみ） | `cluster ha show` 


| HAペアのコンポーネントのHAの状態（HAの状態を使用するシステム） | `ha‑config show`これはメンテナンスモードのコマンドです。 
|===


== storage failover show-typeコマンドで表示されるノードの状態

次に、コマンドで表示されるノードの状態を示し `storage failover show`ます。

|===


| ノードの状態 | 説明 


 a| 
partner_name に接続されています。自動テイクオーバーは無効になっています。
 a| 
HA インターコネクトがアクティブでパートナーノードにデータを転送できます。パートナーの自動テイクオーバーは無効になっています。



 a| 
partner_name で待機しているパートナーのスペアディスクのギブバックが保留中です。
 a| 
ローカルノードとパートナーノードの間で、 HA インターコネクトを介して情報を交換できません。パートナーへのSFOアグリゲートのギブバックは完了しますが、パートナーのスペアディスクはまだローカルノードで所有されています。

* 詳細については、コマンドを実行して `storage failover show-giveback`ください。




 a| 
partner_name を待機していますパートナーロックの同期を待っています。
 a| 
ローカルノードとパートナーノードの間で、 HA インターコネクトを介して情報を交換できません。パートナーロックの同期が実行されるのを待っています。



 a| 
partner_name を待機していますローカルノードでクラスタのアプリケーションがオンラインになるのを待っています。
 a| 
ローカルノードとパートナーノードの間で、 HA インターコネクトを介して情報を交換できません。クラスタのアプリケーションがオンラインになるのを待っています。



 a| 
テイクオーバーがスケジュールされました。target node relocating its SFO aggregates（テイクオーバーの準備中）。
 a| 
テイクオーバーの処理が開始されました。テイクオーバーの準備として、ターゲットノードでSFOアグリゲートの所有権を切り替えています。



 a| 
テイクオーバーがスケジュールされました。テイクオーバーの準備として、ターゲットノードでSFOアグリゲートが再配置されました。
 a| 
テイクオーバーの処理が開始されました。テイクオーバーの準備として、ターゲットノードでSFOアグリゲートの所有権が切り替えられました。



 a| 
テイクオーバーのスケジュール：ローカルノードでディスクファームウェアのバックグラウンド更新を無効にするのを待っています。ノードでファームウェアの更新を実行中です。
 a| 
テイクオーバーの処理が開始されました。ローカルノードでのディスクファームウェアのバックグラウンド更新が完了するのを待っています。



 a| 
テイクオーバーの準備としてテイクオーバーするノードへの SFO アグリゲートの再配置
 a| 
テイクオーバーの準備として、ローカルノードでテイクオーバーするノードに SFO アグリゲートの所有権を切り替えています。



 a| 
テイクオーバーするノードに SFO アグリゲートを再配置しました。テイクオーバーするノードのテイクオーバーを待機しています。
 a| 
ローカルノードからテイクオーバーするノードへの SFO アグリゲートの所有権の切り替えが完了しました。テイクオーバーするノードによるテイクオーバーを待っています。



 a| 
SFO アグリゲートを partner_name に再配置していますローカルノードでのディスクファームウェアのバックグラウンド更新の無効化を待機しています。ノードでファームウェアの更新を実行中です。
 a| 
ローカルノードからテイクオーバーするノードへの SFO アグリゲートの所有権の切り替えを実行中です。ローカルノードでのディスクファームウェアのバックグラウンド更新が完了するのを待っています。



 a| 
SFO アグリゲートを partner_name に再配置していますpartner_nameでのディスクファームウェアのバックグラウンド更新の無効化を待機しています。ノードでファームウェアの更新を実行中です。
 a| 
ローカルノードからテイクオーバーするノードへの SFO アグリゲートの所有権の切り替えを実行中です。パートナーノードでのディスクファームウェアのバックグラウンド更新が完了するのを待っています。



 a| 
partner_name に接続されています。前回のテイクオーバーの試行が理由で中止されました。ローカルノードがパートナーのSFOアグリゲートの一部を所有します。パラメータをtrueに設定してパートナーのテイクオーバーを再実行し `‑bypass-optimization`、残りのアグリゲートをテイクオーバーするか、パートナーのギブバックを実行して再配置されたアグリゲートを戻します。
 a| 
HA インターコネクトがアクティブでパートナーノードにデータを転送できます。前回のテイクオーバーの試行がreasonに表示された理由により中止されました。パートナーの一部のSFOアグリゲートがローカルノードに所有されている。

* 残りのSFOアグリゲートをテイクオーバーするには、‑bypass‑optimizationパラメータをtrueに設定してパートナーノードのテイクオーバーを再実行します。再配置されたアグリゲートを戻すには、パートナーのギブバックを実行します。




 a| 
partner_name に接続されています。前回のテイクオーバーの試行が中止されました。ローカルノードがパートナーのSFOアグリゲートの一部を所有します。パラメータをtrueに設定してパートナーのテイクオーバーを再実行し `‑bypass-optimization`、残りのアグリゲートをテイクオーバーするか、パートナーのギブバックを実行して再配置されたアグリゲートを戻します。
 a| 
HA インターコネクトがアクティブでパートナーノードにデータを転送できます。前回のテイクオーバーの試行が中止されました。パートナーの一部のSFOアグリゲートがローカル ノードで所有されています。

* 残りのSFOアグリゲートをテイクオーバーするには、‑bypass‑optimizationパラメータをtrueに設定してパートナーノードのテイクオーバーを再実行します。再配置されたアグリゲートを戻すには、パートナーのギブバックを実行します。




 a| 
partner_name を待機しています前回のテイクオーバーの試行が理由で中止されました。ローカルノードがパートナーのSFOアグリゲートの一部を所有します。「‑bypass-optimization」パラメータをtrueに設定してパートナーのテイクオーバーを再実行し、残りのアグリゲートをテイクオーバーするか、パートナーのギブバックを実行して再配置されたアグリゲートを戻します。
 a| 
ローカルノードとパートナーノードの間で、 HA インターコネクトを介して情報を交換できません。前回のテイクオーバーの試行がreasonに表示された理由により中止されました。パートナーの一部のSFOアグリゲートがローカルノードに所有されている。

* 残りのSFOアグリゲートをテイクオーバーするには、‑bypass‑optimizationパラメータをtrueに設定してパートナーノードのテイクオーバーを再実行します。再配置されたアグリゲートを戻すには、パートナーのギブバックを実行します。




 a| 
partner_name を待機しています前回のテイクオーバーの試行が中止されました。ローカルノードがパートナーのSFOアグリゲートの一部を所有します。「‑bypass-optimization」パラメータをtrueに設定してパートナーのテイクオーバーを再実行し、残りのアグリゲートをテイクオーバーするか、パートナーのギブバックを実行して再配置されたアグリゲートを戻します。
 a| 
ローカルノードとパートナーノードの間で、 HA インターコネクトを介して情報を交換できません。前回のテイクオーバーの試行が中止されました。パートナーの一部のSFOアグリゲートがローカル ノードで所有されています。

* 残りのSFOアグリゲートをテイクオーバーするには、‑bypass‑optimizationパラメータをtrueに設定してパートナーノードのテイクオーバーを再実行します。再配置されたアグリゲートを戻すには、パートナーのギブバックを実行します。




 a| 
partner_name に接続されています。ローカルノードでディスクファームウェアのバックグラウンド更新（BDFU）を無効にできなかったため、前回のテイクオーバーの試行が中止されました。
 a| 
HA インターコネクトがアクティブでパートナーノードにデータを転送できます。ローカルノードでのディスクファームウェアのバックグラウンド更新が無効になっていないため、前回のテイクオーバーの試行が中止されました。



 a| 
partner_name に接続されています。前回のテイクオーバーの試行が理由で中止されました。
 a| 
HA インターコネクトがアクティブでパートナーノードにデータを転送できます。前回のテイクオーバーの試行がreasonに表示された理由により中止されました。



 a| 
partner_name を待機しています前回のテイクオーバーの試行が理由で中止されました。
 a| 
ローカルノードとパートナーノードの間で、 HA インターコネクトを介して情報を交換できません。前回のテイクオーバーの試行がreasonに表示された理由により中止されました。



 a| 
partner_name に接続されています。partner_nameによる前回のテイクオーバーの試行は、理由により中止されました。
 a| 
HA インターコネクトがアクティブでパートナーノードにデータを転送できます。パートナーノードによる前回のテイクオーバーの試行がreasonに表示された理由により中止されました。



 a| 
partner_name に接続されています。partner_nameによる前回のテイクオーバーの試行が中止されました。
 a| 
HA インターコネクトがアクティブでパートナーノードにデータを転送できます。パートナーノードによる前回のテイクオーバーの試行が中止されました。



 a| 
partner_name を待機していますpartner_nameによる前回のテイクオーバーの試行は、理由により中止されました。
 a| 
ローカルノードとパートナーノードの間で、 HA インターコネクトを介して情報を交換できません。パートナーノードによる前回のテイクオーバーの試行がreasonに表示された理由により中止されました。



 a| 
前回のギブバックがモジュールで失敗しました： module name 。秒数で自動ギブバックが開始されます。
 a| 
前回のギブバックの試行が module_name で示されたモジュールで失敗しました。秒数で自動ギブバックが開始されます。

* 詳細については、コマンドを実行して `storage failover show-giveback`ください。




 a| 
コントローラの無停止アップグレード手順の一環として、ノードがパートナーのアグリゲートを所有します。
 a| 
コントローラの無停止アップグレードを実行中の手順があるため、パートナーのアグリゲートがノードで所有されています。



 a| 
partner_name に接続されています。クラスタ内の別のノードに属するアグリゲートがノードで所有されています。
 a| 
HA インターコネクトがアクティブでパートナーノードにデータを転送できます。クラスタ内の別のノードに属するアグリゲートがノードで所有されている。



 a| 
partner_name に接続されています。パートナーロックの同期を待っています。
 a| 
HA インターコネクトがアクティブでパートナーノードにデータを転送できます。パートナーロックの同期が完了するのを待っています。



 a| 
partner_name に接続されています。ローカルノードでクラスタのアプリケーションがオンラインになるのを待っています。
 a| 
HA インターコネクトがアクティブでパートナーノードにデータを転送できます。ローカルノードでクラスタのアプリケーションがオンラインになるのを待っています。



 a| 
非 HA モードでは、 NVRAM をすべて使用するにはリブートしてください。
 a| 
ストレージフェイルオーバーを実行できません。HAモードオプションはnon_haに設定されています。

* ノードのNVRAMをすべて使用できるようにするには、ノードをリブートする必要があります。




 a| 
非HAモード。ノードをリブートしてHAをアクティブ化します。
 a| 
ストレージフェイルオーバーを実行できません。

* HA機能を有効にするには、ノードをリブートする必要があります。




 a| 
非HAモード。
 a| 
ストレージフェイルオーバーを実行できません。HAモードオプションはnon_haに設定されています。

* HA機能を有効にするには、HAペアの両方のノードでコマンドを実行してからノードをリブートする必要があり `storage failover modify ‑mode ha ‑node nodename`ます。


|===
.関連情報
* link:https://docs.netapp.com/us-en/ontap-cli/["ONTAPコマンド リファレンス"^]
* link:https://docs.netapp.com/us-en/ontap-cli/cluster-ha-show.html["cluster ha show"^]

