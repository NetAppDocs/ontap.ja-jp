---
sidebar: sidebar 
permalink: high-availability/index.html 
keywords: high availability, ha, overview 
summary: テイクオーバーとは、ノードがパートナーのストレージの制御を引き継ぐプロセスです。ギブバックとは、ストレージがパートナーに返されるプロセスです。 
---
= HAペアの管理の概要
:hardbreaks:
:allow-uri-read: 
:nofooter: 
:icons: font
:linkattrs: 
:imagesdir: ./media/


[role="lead"]
クラスタノードは、フォールトトレランスとノンストップオペレーションを実現するためにハイアベイラビリティ（ HA ）ペアとして構成されます。ノードに障害が発生した場合や定期的なメンテナンスのためにノードを停止する必要がある場合、パートナーがストレージをテイクオーバーしてデータの提供を継続できます。ノードがオンラインに戻ったら、パートナーはストレージをギブバックします。

HA ペアコントローラ構成は、対応する FAS / AFF ストレージコントローラ（ローカルノードとパートナーノード）のペアで構成されます。これらの各ノードは、もう一方のディスクシェルフに接続されます。HA ペアの一方のノードでエラーが発生し、データの処理が停止すると、パートナーによって障害ステータスが検出され、そのコントローラからすべてのデータ処理がテイクオーバーされます。

_Takeover は、ノードがパートナーのストレージの制御を引き継ぐプロセスです。

_giveback_ は、ストレージがパートナーに返されるプロセスです。

デフォルトでは、テイクオーバーは次のいずれかの状況で自動的に実行されます。

* パニック状態になるノードでソフトウェアまたはシステムの障害が発生した場合HA ペアコントローラは、対応するパートナーノードに自動的にフェイルオーバーします。パートナーがパニック状態から回復してブートされると、ノードで自動的にギブバックが実行されてパートナーが通常の動作状態に戻ります。
* ノードでシステム障害が発生し、ノードをリブートできない。たとえば、電源の喪失によってノードに障害が発生した場合、 HA ペアコントローラがパートナーノードに自動的にフェイルオーバーされ、稼働しているストレージコントローラからデータが提供されます。



NOTE: ノードのストレージへの電源も同時に喪失した場合は、標準テイクオーバーは実行できません。

* ノードのパートナーからハートビートメッセージが届かない場合この状況は、パートナーでハードウェア障害またはソフトウェア障害（インターコネクト障害など）が発生してパニック状態にならなかったが、正常に機能しなくなった場合に発生することがあります。
* 「 -f 」パラメータまたは「 -inhibit-takeover true 」パラメータを使用しないで一方のノードを停止した場合



NOTE: クラスタ HA が有効な 2 ノードクラスタで、「‑ inhibit-takeover true 」パラメータを使用してノードを停止またはリブートする場合は、クラスタ HA を無効にしてから、オンラインのままにするノードにイプシロンを割り当てておかないと、両方のノードでデータ処理が停止します。

* inhibit ‑ takeover true パラメータを使用しないで、いずれかのノードを再起動した場合。（「 storage failover 」コマンドの「‑ ONBOOT 」パラメータはデフォルトで有効になっています）。
* リモート管理デバイス（サービスプロセッサ）でパートナーノードの障害が検出された場合。これは、ハードウェアアシストテイクオーバーを無効にした場合は該当しません。


テイクオーバーは、「 storage failover takeover 」コマンドを使用して手動で開始することもできます。
