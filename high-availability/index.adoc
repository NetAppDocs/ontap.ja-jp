---
sidebar: sidebar 
permalink: high-availability/index.html 
keywords: high availability, ha, overview 
summary: テイクオーバーとは、ノードがパートナーのストレージの制御を引き継ぐプロセスです。ギブバックとは、ストレージがパートナーに返されるプロセスです。 
---
= HAペアの管理の概要
:hardbreaks:
:allow-uri-read: 
:nofooter: 
:icons: font
:linkattrs: 
:imagesdir: ./media/


[role="lead"]
クラスタノードは、フォールトトレランスとノンストップオペレーションを実現するためにハイアベイラビリティ（ HA ）ペアとして構成されます。ノードに障害が発生した場合や定期的なメンテナンスのためにノードを停止する必要がある場合、パートナーがストレージをテイクオーバーしてデータの提供を継続できます。ノードがオンラインに戻ったら、パートナーはストレージをギブバックします。

HA ペアコントローラ構成は、対応する FAS / AFF ストレージコントローラ（ローカルノードとパートナーノード）のペアで構成されます。これらの各ノードは、もう一方のディスクシェルフに接続されます。HA ペアの一方のノードでエラーが発生し、データの処理が停止すると、パートナーによって障害ステータスが検出され、そのコントローラからすべてのデータ処理がテイクオーバーされます。

_Takeover は、ノードがパートナーのストレージの制御を引き継ぐプロセスです。

_giveback_ は、ストレージがパートナーに返されるプロセスです。

デフォルトでは、テイクオーバーは次のいずれかの状況で自動的に実行されます。

* パニック状態になるノードでソフトウェアまたはシステムの障害が発生した場合HA ペアコントローラは、対応するパートナーノードに自動的にフェイルオーバーします。パートナーがパニック状態から回復してブートされると、ノードで自動的にギブバックが実行されてパートナーが通常の動作状態に戻ります。
* ノードでシステム障害が発生し、ノードをリブートできない。たとえば、電源の喪失によってノードに障害が発生した場合、 HA ペアコントローラがパートナーノードに自動的にフェイルオーバーされ、稼働しているストレージコントローラからデータが提供されます。



NOTE: ノードのストレージへの電源も同時に喪失した場合は、標準テイクオーバーは実行できません。

* ノードのパートナーからハートビートメッセージが届かない場合この状況は、パートナーでハードウェア障害またはソフトウェア障害（インターコネクト障害など）が発生してパニック状態にならなかったが、正常に機能しなくなった場合に発生することがあります。
* を使用せずに一方のノードを停止した場合 `-f` または `-inhibit-takeover true` パラメータ



NOTE: クラスタHAが有効な2ノードクラスタで、を使用してノードを停止またはリブートする `‑inhibit‑takeover true` パラメータを指定すると、クラスタHAを無効にしてからオンラインのままにするノードにイプシロンを割り当てないかぎり、両方のノードでデータの提供が停止します。

* を使用せずに一方のノードをリブートした場合 `‑inhibit‑takeover true` パラメータ（ `‑onboot` のパラメータ `storage failover` コマンドはデフォルトで有効になっています）。
* リモート管理デバイス（サービスプロセッサ）でパートナーノードの障害が検出された場合。これは、ハードウェアアシストテイクオーバーを無効にした場合は該当しません。


を使用してテイクオーバーを手動で開始することもできます `storage failover takeover` コマンドを実行します
