---
permalink: nas-audit/plan-fpolicy-scope-config-concept.html 
sidebar: sidebar 
keywords: plan, fpolicy, scope, configuration 
summary: FPolicy スコープを設定する前に、スコープを作成することの意味を理解する必要があります。スコープの構成要素を理解する必要があります。また、スコープの優先規則についても理解する必要があります。この情報は、設定する値を計画するのに役立ちます。 
---
= FPolicy スコープの設定の概要を計画します
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
FPolicy スコープを設定する前に、スコープを作成することの意味を理解する必要があります。スコープの構成要素を理解する必要があります。また、スコープの優先規則についても理解する必要があります。この情報は、設定する値を計画するのに役立ちます。



== FPolicy スコープを作成することの意味

FPolicy スコープを作成することは、 FPolicy ポリシーの適用範囲を定義することを意味します。Storage Virtual Machine （ SVM ）は基本の適用範囲です。FPolicy ポリシーのスコープを作成する場合、スコープが適用される FPolicy ポリシーを定義する必要があり、さらにスコープを適用する SVM を指定する必要があります。

指定した SVM 内にスコープをさらに制限するためのパラメータが数多くあります。スコープに含めるものを指定したり、スコープから除外するものを指定したりすることでスコープを制限することができます。有効なポリシーにスコープを適用すると、ポリシーイベントのチェックがこのコマンドで定義したスコープに適用されます。

「 include 」オプションで一致するファイルアクセスイベントが見つかった場合に、通知が生成されます。「 EXCLUDE 」オプションで一致するファイルアクセスイベントについては、通知は生成されません。

FPolicy スコープの構成では、次の設定情報を定義します。

* SVM 名
* ポリシー名
* 監視対象に含めるまたは監視対象から除外する共有
* 監視対象に含めるまたは監視対象から除外するエクスポートポリシー
* 監視対象に含めるまたは監視対象から除外するボリューム
* 監視対象に含めるまたは監視対象から除外するファイル拡張子
* ディレクトリオブジェクトに対してファイル拡張子を監視するかどうか


[NOTE]
====
クラスタの FPolicy ポリシーのスコープには、特に考慮すべき事項があります。クラスタの FPolicy ポリシーは、クラスタ管理者が管理 SVM 用に作成するポリシーです。クラスタ管理者がそのクラスタの FPolicy ポリシーのスコープも作成する場合、 SVM 管理者はそれと同じポリシーのスコープを作成することはできません。ただし、クラスタ管理者がクラスタの FPolicy ポリシーのスコープを作成しない場合は、すべての SVM 管理者がそのクラスタポリシーのスコープを作成することができます。SVM 管理者がそのクラスタの FPolicy ポリシーのスコープを作成した場合、クラスタ管理者はそれ以降、その同じクラスタポリシーのクラスタスコープを作成することはできません。これは、クラスタ管理者が同じクラスタポリシーのスコープを上書きできないためです。

====


== スコープの優先規則

スコープの設定には、次の優先規則が適用されます。

* 共有がに含まれる場合 `-shares-to-include` 共有のパラメータと親ボリュームがに含まれます `-volumes-to-exclude` パラメータ `-volumes-to-exclude` が優先されます `-shares-to-include`。
* エクスポートポリシーがに含まれている場合 `-export-policies-to-include` エクスポートポリシーのパラメータと親ボリュームがに含まれます `-volumes-to-exclude` パラメータ `-volumes-to-exclude` が優先されます `-export-policies-to-include`。
* 管理者は両方を指定できます `-file-extensions-to-include` および `-file-extensions-to-exclude` リスト。
+
。 `-file-extensions-to-exclude` パラメータは、の前にチェックされます `-file-extensions-to-include` パラメータがチェックされています。





== FPolicy スコープの構成要素を次に示します

次に示す使用可能な FPolicy スコープの設定パラメータの一覧は、構成を計画するのに役立ちます。

[NOTE]
====
スコープに含めるか除外する共有、エクスポートポリシー、ボリューム、およびファイル拡張子を設定する際に、includeパラメータとexcludeパラメータにメタ文字（「'」など）を含めることができます?`" and "`*`"。正規表現の使用はサポートされていません。

====
[cols="70,30"]
|===


| 情報のタイプ | オプション 


 a| 
SVM

FPolicy スコープを作成する SVM の名前を指定します。

各 FPolicy 設定は、単一の SVM 内で定義されます。FPolicy ポリシーの構成要素となる外部エンジン、ポリシーイベント、ポリシーのスコープ、およびポリシーを、すべて同じ SVM に関連付ける必要があります。
 a| 
`-vserver` `vserver_name`



 a| 
_ ポリシー名 _

スコープをアタッチする FPolicy ポリシーの名前を指定します。FPolicy ポリシーがすでに存在している必要があります。
 a| 
`-policy-name` `policy_name`



 a| 
含める共有 _

カンマで区切って複数の共有を指定し、 FPolicy ポリシーの監視対象となるスコープに含めます。
 a| 
`-shares-to-include` `share_name`はい。



 a| 
_ 除外する共有 _

カンマで区切って複数の共有を指定し、 FPolicy ポリシーの監視対象となるスコープから除外します。
 a| 
`-shares-to-exclude` `share_name`はい。



 a| 
対象に含めるボリューム： FPolicy ポリシーの監視対象となるボリュームをカンマで区切って指定します。
 a| 
`-volumes-to-include` `volume_name`はい。



 a| 
除外するボリューム _

カンマで区切って複数のボリュームを指定し、 FPolicy ポリシーの監視対象となるスコープから除外します。
 a| 
`-volumes-to-exclude` `volume_name`はい。



 a| 
ポリシーを含めるには _ をエクスポートします

カンマで区切って複数のエクスポートポリシーを指定し、 FPolicy ポリシーの監視対象となるスコープに含めます。
 a| 
`-export-policies-to-include` `export_policy_name`はい。



 a| 
ポリシーを exclude_ にエクスポートします

カンマで区切って複数のエクスポートポリシーを指定し、 FPolicy ポリシーの監視対象となるスコープから除外します。
 a| 
`-export-policies-to-exclude` `export_policy_name`はい。



 a| 
_include するファイル拡張子 _

カンマで区切って複数のファイル拡張子を指定し、 FPolicy ポリシーの監視対象となるスコープに含めます。
 a| 
`-file-extensions-to-include` `file_extensions`はい。



 a| 
_ ファイル拡張子を exclude_ に設定します

カンマで区切って複数のファイル拡張子を指定し、 FPolicy ポリシーの監視対象となるスコープから除外します。
 a| 
`-file-extensions-to-exclude` `file_extensions`はい。



 a| 
_ ディレクトリのファイル拡張子チェックは有効になっていますか？ _

ファイル名の拡張子の監視をディレクトリオブジェクトに適用するかどうかを指定します。このパラメータがに設定されている場合 `true`の場合、ディレクトリオブジェクトには、通常のファイルと同じ拡張子チェックが適用されます。このパラメータがに設定されている場合 `false`では、ディレクトリ名の拡張子は照合されず、名前の拡張子が一致しない場合でも、ディレクトリに関する通知が送信されます。

スコープの割り当て先のFPolicyポリシーが標準のエンジンを使用するように設定されている場合は、このパラメータをに設定する必要があります `true`。
 a| 
`-is-file-extension-check-on-directories-enabled` {`true`| `false`|｝

|===