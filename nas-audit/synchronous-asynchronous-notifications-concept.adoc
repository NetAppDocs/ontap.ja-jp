---
permalink: nas-audit/synchronous-asynchronous-notifications-concept.html 
sidebar: sidebar 
keywords: synchronous, asynchronous, notifications 
summary: FPolicyは、FPolicyインターフェイスを介して外部FPolicyサーバに通知を送信します。通知は同期モードまたは非同期モードで送信されます。通知モードによって、FPolicyサーバに通知を送信したあとのONTAPの動作が決まります。 
---
= 同期通知および非同期通知とは
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
FPolicyは、FPolicyインターフェイスを介して外部FPolicyサーバに通知を送信します。通知は同期モードまたは非同期モードで送信されます。通知モードによって、FPolicyサーバに通知を送信したあとのONTAPの動作が決まります。

* * 非同期通知 *
+
非同期通知では、ノードはFPolicyサーバからの応答を待たずに済むため、システムの全体的なスループットが向上します。このタイプの通知は、通知を評価した結果としてFPolicyサーバで処理する必要がないアプリケーションに適しています。たとえば、Storage Virtual Machine（SVM）管理者がファイルアクセスのアクティビティを監視および監査する場合などに使用します。

+
FPolicyサーバが非同期モードで動作している場合にネットワークが停止すると、停止中に生成されたFPolicy通知がストレージノードに格納されます。FPolicyサーバがオンラインに戻ると、格納されている通知に関するアラートが通知され、ストレージノードから通知を取得できます。停止中に通知を保存できる期間は、最大10分まで設定できます。

+
14.1以降では、ONTAP 9の必須ではない非同期ポリシーのファイルアクセスイベントをキャプチャする永続的ストアを設定できます。永続的ストアを使用すると、クライアントI/O処理とFPolicy通知処理を分離して、クライアントのレイテンシを低減できます。同期（必須または必須でない）および非同期の必須構成はサポートされていません。

* * 同期通知 *
+
同期モードで実行するように設定した場合、クライアント処理を続行するには、すべての通知をFPolicyサーバが確認応答する必要があります。このタイプの通知は、通知評価の結果に基づいてアクションが必要な場合に使用されます。たとえば、SVM管理者が要求を許可するか拒否するかを外部FPolicyサーバで指定された条件に基づいて判断する場合などに使用されます。





== 同期アプリケーションおよび非同期アプリケーション

FPolicyアプリケーションには、非同期と同期の両方でさまざまな用途があります。

非同期アプリケーションとは、ファイルやディレクトリへのアクセスやStorage Virtual Machine（SVM）上のデータが外部FPolicyサーバによって変更されないアプリケーションです。例：

* ファイルアクセスと監査ログ
* ストレージリソース管理


同期アプリケーションとは、データアクセスが変更されたり、外部FPolicyサーバによってデータが変更されたりするアプリケーションです。例：

* クォータの管理
* ファイルアクセスブロッキング
* ファイルのアーカイブと階層型ストレージ管理
* 暗号化サービスと復号化サービス
* 圧縮サービスと展開サービス

