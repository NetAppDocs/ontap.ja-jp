---
sidebar: sidebar 
permalink: networking/add_or_remove_ip_addresses_from_a_subnet.html 
keywords: adding, add, create, creating, remove, removing, delete, deleting, ip, internet, protocol, address, addresses, subnet, add or remove ip addresses from a subnet, force update lif associations, network subnet add ranges, network subnet remove ranges 
summary: サブネットを作成するときに IP アドレスを追加するか、既存のサブネットに IP アドレスを追加または削除します 
---
= ONTAPネットワークのサブネットにIPアドレスを追加または削除する
:hardbreaks:
:allow-uri-read: 
:nofooter: 
:icons: font
:linkattrs: 
:imagesdir: ../media/


[role="lead"]
新しくサブネットを作成するときにIPアドレスを追加したり、既存のサブネットにIPアドレスを追加したりできます。また、既存のサブネットからIPアドレスを削除することもできます。このようにして、SVMに必要なIPアドレスだけが割り当てられるようにします。

実行する手順は、System ManagerとCLIのどちらのインターフェイスを使用するかによって異なります。

[role="tabbed-block"]
====
.System Manager
--
*ONTAP 9.12.0以降では、System Managerを使用してサブネットにIPアドレスを追加したり、サブネットからIPアドレスを削除したりすることができます。*

.手順
. *Network > Overview > Subnets*を選択します。
. image:icon_kabob.gif["メニューオプションアイコン"] *> Edit* を変更するサブネットの横で選択します。
. IPアドレスを追加または削除します。
. 変更を保存します。
+
.. 入力したIPアドレスまたは範囲がすでにインターフェイスで使用されている場合は、次のメッセージが表示されます：
`An IP address in this range is already in use by a LIF. Associate the LIF with this subnet?`
.. *OK*をクリックすると、既存のLIFがサブネットに関連付けられます。




--
.CLI
--
*CLI を使用してサブネットに IP アドレスを追加または削除する*

.タスク概要
IPアドレスを追加する際、追加する範囲のIPアドレスをサービス プロセッサまたはネットワーク インターフェイスが使用している場合、エラーが発生します。手動でアドレスを指定したインターフェイスを現在のサブネットに関連付ける場合は、 `-force-update-lif-associations`オプションを `true`に設定してください。

IPアドレスを削除する際、削除するIPアドレスを使用しているサービス プロセッサまたはネットワーク インターフェイスがある場合はエラーが発生します。サブネットから削除された後もインターフェイスでIPアドレスを引き続き使用したい場合は、 `-force-update-lif-associations`オプションを `true`に設定してください。

.手順
サブネットのIPアドレスを追加または削除します。

[cols="30,70"]
|===


| 状況 | 使用するコマンド 


 a| 
サブネットにIPアドレスを追加する
 a| 
ネットワークサブネットの範囲追加



 a| 
サブネットからIPアドレスを削除する
 a| 
ネットワーク サブネット削除範囲

|===
次のコマンドは、192.0.2.82～192.0.2.85のIPアドレスをサブネットsub1に追加します。

....
network subnet add-ranges -subnet-name <sub1> -ip-ranges <192.0.2.82-192.0.2.85>
....
次のコマンドは、IPアドレス198.51.100.9をサブネットsub3から削除します。

....
network subnet remove-ranges -subnet-name <sub3> -ip-ranges <198.51.100.9>
....
現在のIPアドレスの範囲が1～10と20～40で、追加するアドレスが11～19と41～50（つまり、1～50を範囲にする）の場合は、次のコマンドを使って既存のアドレスの範囲に重複させることができます。このコマンドは新しい範囲のアドレスだけを追加し、既存のアドレスには影響しません。

....
network subnet add-ranges -subnet-name <sub3> -ip-ranges <198.51.10.1-198.51.10.50>
....
 `network subnet add-ranges`および `network subnet remove-ranges`の詳細については、link:https://docs.netapp.com/us-en/ontap-cli/search.html?q=network+subnet["ONTAPコマンド リファレンス"^]をご覧ください。

--
====