---
sidebar: sidebar 
permalink: networking/lif_roles95.html 
keywords: lif, role, ontap 9.5, lif roles in ontap 9.5 and earlier, lifs with different roles have different characteristics, lif compatibility with port types, network interface modify -vserver _vserver name_ -lif _intercluster lif_ -status-admin up|down, lif security, lif failover, lif routing, lif rebalancing 
summary: LIF の特性はロールごとに異なります 
---
= ONTAP 9.5 以前の LIF のロール
:hardbreaks:
:nofooter: 
:icons: font
:linkattrs: 
:imagesdir: ./media/


[role="lead"]
LIF の特性はロールごとに異なります。LIF のロールにより、インターフェイスでサポートされるトラフィックの種類のほか、適用されるフェイルオーバールール、適用されるファイアウォールの制限、セキュリティ、ロードバランシング、ルーティングの方法が決まります。LIF のロールには、 cluster 、 cluster management 、 data 、 intercluster 、 node management 、 undef （未定義）です。undef ロールは、 BGP LIF に使用されます。

ONTAP 9.6 以降では、 LIF のロールは廃止されています。ロールの代わりに LIF のサービスポリシーを指定する必要があります。サービスポリシーを使用して LIF を作成する場合、 LIF のロールを指定する必要はありません。



== ポートのタイプと LIF の互換性があります


NOTE: 同じサブネットで静的ルートと関連付けるようにクラスタ間 LIF と管理 LIF が設定されている状況で、そのルートをクラスタ間 LIF に関連付けると、管理トラフィックが外部のファイアウォールによってブロックされ、 AutoSupport 接続と NTP 接続が失敗します。システムをリカバリするには、「 network interface modify -vserver vserver_name --lif_intercluster lif__ status-admin up | down 」コマンドを実行してクラスタ間 LIF を切り替えます。ただし、この問題を回避するには、クラスタ間 LIF と管理 LIF を別々のサブネットに設定する必要があります。

[cols="2*"]
|===
| LIF のロール | 説明 


| データ LIF | Storage Virtual Machine （ SVM ）に関連付けられた LIF で、クライアントとの通信に使用します。1 つのポートに複数のデータ LIF を設定できます。これらのインターフェイスは、クラスタ全体で移行またはフェイルオーバーできます。ファイアウォールポリシーを mgmt に変更すると、データ LIF を SVM 管理 LIF として使用できます。データ LIF は、 NIS 、 LDAP 、 Active Directory 、 WINS 、および DNS の各サーバに対するセッションで使用されます。 


| クラスタ LIF | クラスタ内のノード間のクラスタ内トラフィックに使用される LIF です。必ず 10GbE のネットワークポートに作成する必要があります。クラスタ LIF は、同じノードのクラスタポート間でフェイルオーバーできますが、リモートノードに移行またはフェイルオーバーすることはできません。新しいノードがクラスタに追加されると、 IP アドレスは自動的に生成されます。ただし、クラスタ LIF に IP アドレスを手動で割り当てる場合は、新しい IP アドレスが既存のクラスタ LIF と同じサブネット範囲に含まれるようにする必要があります。 


| クラスタ管理 LIF | クラスタ全体に対する単一の管理インターフェイスを提供する LIF です。クラスタ管理 LIF は、クラスタ内の任意のノード管理ポートまたはデータポートにフェイルオーバーできます。クラスタポートまたはクラスタ間ポートにはフェイルオーバーできません 


| クラスタ間 LIF | クラスタ間の通信、バックアップ、およびレプリケーションに使用される LIF です。クラスタピア関係を確立する前に、クラスタ内の各ノードにクラスタ間 LIF を作成する必要があります。これらの LIF は、同じノードのポートにのみフェイルオーバーできます。クラスタ内の別のノードに移行またはフェイルオーバーすることはできません。 


| ノード管理 LIF | クラスタ内の特定のノードを管理するために専用の IP アドレスを提供する LIF です。クラスタの作成時またはクラスタへのノードの追加時に作成されます。これらの LIF は、クラスタからノードにアクセスできなくなった場合など、システムのメンテナンスに使用されます。 
|===
[cols="6*"]
|===
|  | データ LIF | クラスタ LIF | ノード管理 LIF | クラスタ管理 LIF | クラスタ間 LIF 


| 主なトラフィックタイプ | NFS サーバ、 CIFS サーバ、 NIS クライアント、 Active Directory 、 LDAP 、 WINS 、 DNS クライアントおよびサーバ、 iSCSI および FC サーバ | クラスタ内 | SSH サーバ、 HTTPS サーバ、 NTP クライアント、 SNMP 、 AutoSupport クライアント、 DNS クライアント、ソフトウェアアップデートのロード | SSH サーバ、 HTTPS サーバ | クラスタ間レプリケーション 
|===


== LIF セキュリティ

[cols="6*"]
|===
|  | データ LIF | クラスタ LIF | ノード管理 LIF | クラスタ管理 LIF | クラスタ間 LIF 


| プライベート IP サブネットが必要かどうか | いいえ | はい。 | いいえ | いいえ | いいえ 


| セキュアなネットワークが必要 | いいえ | はい。 | いいえ | いいえ | はい。 


| デフォルトのファイアウォールポリシー | 非常に厳しい | 完全にオープン | 中 | 中 | 非常に厳しい 


| ファイアウォールをカスタマイズ可能 | はい。 | いいえ | はい。 | はい。 | はい。 
|===


== LIF フェイルオーバー

[cols="6*"]
|===
|  | データ LIF | クラスタ LIF | ノード管理 LIF | クラスタ管理 LIF | クラスタ間 LIF 


| デフォルトの動作です | LIF のホームノードおよび SFO 以外のパートナーノードと同じフェイルオーバーグループ内のポートにフェイルオーバーします | LIF のホームノードと同じフェイルオーバーグループ内のポートにフェイルオーバーします | LIF のホームノードと同じフェイルオーバーグループ内のポートにフェイルオーバーします | 同じフェイルオーバーグループ内の任意のポート | LIF のホームノードと同じフェイルオーバーグループ内のポートにフェイルオーバーします 


| カスタマイズ可能 | はい。 | いいえ | はい。 | はい。 | はい。 
|===


== LIF のルーティング

[cols="6*"]
|===
|  | データ LIF | クラスタ LIF | ノード管理 LIF | クラスタ管理 LIF | クラスタ間 LIF 


| デフォルトルートが必要になる状況 | クライアントまたはドメインコントローラが別の IP サブネットにある場合 | なし | いずれかのプライマリトラフィックタイプで、別の IP サブネットへのアクセスが必要な場合 | 管理者が別の IP サブネットから接続している場合 | 他のクラスタ間 LIF が別の IP サブネットにある場合 


| 特定の IP サブネットへの静的ルートが必要になる状況 | まれです | なし | まれです | まれです | 別のクラスタのノードのクラスタ間 LIF が異なる IP サブネットにある場合 


| 特定のサーバへの静的ホストルートが必要になる状況 | ノード管理 LIF の欄に記載されたいずれかのトラフィックタイプを使用するには、ノード管理 LIF ではなく、データ LIF を経由します。これには、対応するファイアウォールの変更が必要です。 | なし | まれです | まれです | まれです 
|===


== LIF のリバランシング

[cols="6*"]
|===
|  | データ LIF | クラスタ LIF | ノード管理 LIF | クラスタ管理 LIF | クラスタ間 LIF 


| DNS ： DNS サーバとして使用 | はい。 | いいえ | いいえ | いいえ | いいえ 


| DNS ：ゾーンとしてエクスポート | はい。 | いいえ | いいえ | いいえ | いいえ 
|===