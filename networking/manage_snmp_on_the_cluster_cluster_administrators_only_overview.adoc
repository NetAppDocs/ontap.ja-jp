---
sidebar: sidebar 
permalink: networking/manage_snmp_on_the_cluster_cluster_administrators_only_overview.html 
keywords: 'manage, managing, snmp, monitor, monitoring, troubleshooting, error detection, traps, overview, configure snmp to monitor svms in your cluster, snmp, trap, traphosts, asynchronous, notification, notify, alert, message, thresholds, failures, errors, fail, rfc 1215, built in, built-in, standard, snmp traps, use snmp traps to periodically check for operational thresholds or failures, standard snmp traps, system snmp authtrap, rfc 1215, coldstart, warmstart, linkdown, linkup, authenticationfailure, built-in snmp traps, traphost, diskfailedshutdown, cputoobusy, and volumenearlyfull, introducing, introduction, overview, mib, management information base, text, structure, netapp.mib, what mibs are, introducing management information bases (mibs), snmp objects and traps, object identifiers, oids, traps.dat' 
summary: クラスタ内のSVMを監視するためのSNMPの設定 
---
= ONTAPネットワーク上のSNMPについて学ぶ
:hardbreaks:
:allow-uri-read: 
:nofooter: 
:icons: font
:linkattrs: 
:imagesdir: ../media/


[role="lead"]
クラスタのSVMを監視するようにSNMPを設定すると、問題を発生前に回避したり、発生時に対応したりすることができます。SNMPを管理するには、SNMPユーザを設定し、すべてのSNMPイベントのSNMPトラップの送信先（管理ワークステーション）を設定する必要があります。データLIFでは、SNMPはデフォルトで無効になっています。

データSVMに、読み取り専用SNMPユーザを作成して管理できます。データLIFは、SVMでSNMP要求を受信するように設定する必要があります。

SNMPネットワーク管理ワークステーションまたはマネージャは、SVM SNMPエージェントに情報を照会できます。SNMPエージェントは情報を収集し、SNMPマネージャに転送します。SNMPエージェントはまた、特定のイベントの発生時にトラップ通知を生成します。SVM上のSNMPエージェントの権限は読み取り専用権限であるため、設定操作や、トラップに応答して対処するために使用することはできません。ONTAPはSNMPバージョンv1、v2c、およびv3と互換性のあるSNMPエージェントを備えています。SNMPv3は、パスフレーズと暗号化を使用して高度なセキュリティを提供します。

ONTAPシステムでのSNMPサポートの詳細については、 https://www.netapp.com/pdf.html?item=/media/16417-tr-4220pdf.pdf["TR-4220：Data ONTAPにおけるSNMPサポート"^]を参照してください。



== MIBの概要

管理情報ベース（MIB）は、SNMPのオブジェクトとトラップが記述されたテキスト ファイルです。

MIBは、ストレージ システムの管理データの構造を表し、オブジェクト識別子（OID）を含む階層状のネームスペースを使用します。各OIDは、SNMPを使用して読み取り可能な変数を識別します。

MIBは構成ファイルではなく、ONTAPはこれらのファイルを読み取らないため、SNMP機能はMIBによる影響を受けません。ONTAPには次のMIBファイルが用意されています。

* NetAppカスタムMIB(`netapp.mib`)


ONTAPは、IPv6（RFC 2465）、TCP（RFC 4022）、UDP（RFC 4113）、およびICMP（RFC 2466）のMIBをサポートします。これらのMIBではIPv4とIPv6の両方のデータが表示されます。

ONTAPでは、 `traps.dat`ファイル内のオブジェクト識別子（OID）とオブジェクトの短縮名の間の短い相互参照も提供されます。


NOTE: 最新バージョンのONTAP MIBおよび`traps.dat`ファイルはNetApp Support Siteから入手できます。ただし、サポートサイトにあるこれらのファイルのバージョンは、お使いのONTAPバージョンのSNMP機能と必ずしも一致しているわけではありません。これらのファイルは、最新のONTAPバージョンのSNMP機能を評価するのに役立つように提供されています。



== SNMPトラップ

SNMPトラップは、SNMPエージェントからSNMPマネージャに非同期通知として送信されたシステム監視情報をキャプチャします。

SNMPトラップには、標準、ビルトイン、およびユーザ定義という3つの種類があります。ONTAPではユーザ定義トラップはサポートされていません。

トラップを使用して、MIBに定義された運用上のしきい値または障害を定期的にチェックすることができます。しきい値に到達するか、障害が検出されると、SNMPエージェントは、イベントを警告するメッセージ（トラップ）をトラップホストに送信します。


NOTE: ONTAPはSNMPv1およびSNMPv3トラップをサポートしています。ONTAPはSNMPv2cトラップとINFORMをサポートしていません。



== 標準SNMPトラップ

これらのトラップはRFC 1215で定義されています。ONTAPでサポートされているSNMPトラップは、coldStart、warmStart、linkDown、linkUp、およびauthenticationFailureの5つです。


NOTE: authenticationFailureトラップはデフォルトで無効になっています。トラップを有効にするには、 `system snmp authtrap`コマンドを使用する必要があります。link:https://docs.netapp.com/us-en/ontap-cli/system-snmp-authtrap.html["ONTAPコマンド リファレンス"^]の `system snmp authtrap`の詳細を確認してください。



== ビルトインSNMPトラップ

ビルトイン トラップはONTAPに事前定義されたトラップで、イベントの発生時にトラップホスト リストのネットワーク管理ステーションに自動的に送信されます。これらのトラップ（diskFailedShutdown、cpuTooBusy、volumeNearlyFullなど）はカスタムMIBで定義されています。

各ビルトイン トラップは、一意のトラップ コードで識別されます。
