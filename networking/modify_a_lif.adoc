---
sidebar: sidebar 
permalink: networking/modify_a_lif.html 
keywords: lif attributes, fc lifs, ip lifs, change lifs, change, changing, logical, interface, lif, modify a lif, modify a lif by changing its attributes 
summary: 属性を変更して LIF を変更する 
---
= ONTAP LIFの変更
:hardbreaks:
:allow-uri-read: 
:nofooter: 
:icons: font
:linkattrs: 
:imagesdir: ../media/


[role="lead"]
LIFの属性は変更することができます。これには、ホーム ノードや現在のノード、管理ステータス、IPアドレス、ネットマスク、フェイルオーバー ポリシー、ファイアウォール ポリシー、サービス ポリシーなどが含まれます。また、LIFのアドレス ファミリーをIPv4からIPv6に変更することもできます。

.タスク概要
* LIFの管理ステータスをdownに変更すると、再びupに戻るまで、現行のNFSv4ロックが維持されたままになります。
+
ロックされたファイルに他のLIFがアクセスしようとしたときにロックの競合が発生するのを防ぐには、LIFの管理ステータスをdownに設定する前に、NFSv4クライアントを別のLIFに移動する必要があります。

* FC LIFで使用されているデータ プロトコルを変更することはできません。ただし、サービス ポリシーに割り当てられているサービスや、IP LIFに割り当てられているサービス ポリシーは変更可能です。
+
FC LIFで使用されているデータ プロトコルを変更するには、LIFを削除して作成し直す必要があります。IP LIFにサービス ポリシーの変更が適用される間、短時間の停止が発生します。

* 現在のノード、またはノードを対象とした管理LIFのホーム ノードを変更することはできません。
* LIFのIPアドレスとネットワーク マスクを変更するためにサブネットを使用すると、指定したサブネットからIPアドレスが割り当てられます。LIFの前のIPアドレスが別のサブネットから割り当てられた場合は、IPアドレスがそのサブネットに戻されます。
* LIF のアドレスファミリを IPv4 から IPv6 に変更するには、IPv6 アドレスにコロン表記を使用し、 `-netmask-length`パラメータに新しい値を追加する必要があります。
* 自動構成されたIPv6リンクローカル アドレスは変更できません。
* LIFの変更によって、LIFに有効なフェイルオーバー ターゲットがなくなる場合は警告メッセージが表示されます。
+
有効なフェイルオーバー ターゲットのないLIFがフェイルオーバーしようとすると、システムが停止する可能性があります。

* ONTAP 9.5以降では、LIFに関連付けられているサービス ポリシーを変更できます。
+
ONTAP 9.5では、クラスタ間およびBGPピアのサービスについてのみサービス ポリシーがサポートされます。ONTAP 9.6では、複数のデータ サービスおよび管理サービスについてサービス ポリシーを作成できます。

* ONTAP 9.11.1以降では、オールフラッシュSANアレイ（ASA）プラットフォームで自動iSCSI LIFフェイルオーバーを使用できます。
+
既存のiSCSI LIF（9.11.1以降にアップグレードする前に作成されたLIF）の場合は、フェイルオーバーポリシーをlink:../san-admin/asa-iscsi-lif-fo-task.html["iSCSI LIFの自動フェイルオーバーを有効にする"]に変更できます。

* ONTAPは、ネットワークタイムプロトコル（NTP）を使用してクラスタ全体の時刻を同期します。LIF IPアドレスを変更した後は、同期の失敗を防ぐためにNTP設定の更新が必要になる場合があります。詳細については、link:https://kb.netapp.com/on-prem/ontap/Ontap_OS/OS-Issues/CONTAP-500629["NetAppナレッジベース：LIF IPの変更後にNTP同期が失敗する"^]を参照してください。


実行する手順は、System ManagerとCLIのどちらのインターフェイスを使用するかによって異なります。

[role="tabbed-block"]
====
.System Manager
--
*ONTAP 9.12.0以降では、System Managerを使用してネットワークインターフェイスを編集できます*

.手順
. *ネットワーク > 概要 > ネットワーク インターフェイス*を選択します。
. 変更したいネットワーク インターフェイスの横にあるimage:icon_kabob.gif["メニューオプションアイコン"] *> 編集*を選択します。
. ネットワークインターフェイスの設定を1つ以上変更します。詳細については、link:create_a_lif.html["LIFの作成"]を参照してください。
. 変更を保存します。


--
.CLI
--
*CLIを使用してLIFを変更する*

.手順
.  `network interface modify`コマンドを使用してLIFの属性を変更します。
+
次の例は、datalif2というLIFのIPアドレスとネットワーク マスクを、サブネットclient1_subのIPアドレスとネットワーク マスク値に変更する例を示しています。

+
....
network interface modify -vserver vs1 -lif datalif2 -subnet-name client1_sub
....
+
次の例は、LIFのサービス ポリシーを変更する方法を示しています。

+
....
network interface modify -vserver siteA -lif node1_inter1 -service-policy example
....
+
 `network interface modify`の詳細については、link:https://docs.netapp.com/us-en/ontap-cli/network-interface-modify.html["ONTAPコマンド リファレンス"^]を参照してください。

. IPアドレスに到達できることを確認します。
+
|===


| ...を使用している場合 | 次に使用します... 


 a| 
IPv4アドレス
 a| 
`network ping`



 a| 
IPv6アドレス
 a| 
`network ping6`

|===
+
 `network ping`の詳細については、link:https://docs.netapp.com/us-en/ontap-cli/network-ping.html["ONTAPコマンド リファレンス"^]を参照してください。



--
====