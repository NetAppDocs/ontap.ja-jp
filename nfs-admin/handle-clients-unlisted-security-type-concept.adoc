---
permalink: nfs-admin/handle-clients-unlisted-security-type-concept.html 
sidebar: sidebar 
keywords: handle, client, unlist, security, type 
summary: クライアントがエクスポート ルールのアクセス パラメータにリストされていないセキュリティ タイプを提示した場合、クライアントへのアクセスを拒否するか、アクセス パラメータでオプション none を使用してクライアントを匿名ユーザー ID にマッピングするかを選択できます。 
---
= リストにないセキュリティ タイプを持つ NFS クライアントの ONTAP SVM アクセスを管理する
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
クライアントがエクスポート ルールのアクセス パラメータにリストされていないセキュリティ タイプを提示する場合、クライアントへのアクセスを拒否するか、アクセス パラメータの `none`オプションを使用して匿名ユーザー ID にマッピングするかを選択できます。

クライアントは、別のセキュリティタイプで認証されたか、まったく認証されなかった（セキュリティタイプAUTH_NONE）ために、アクセスパラメータにリストされていないセキュリティタイプを提示する場合があります。デフォルトでは、クライアントはそのレベルへのアクセスを自動的に拒否されます。ただし、アクセスパラメータに `none`オプションを追加できます。その結果、リストされていないセキュリティスタイルを持つクライアントは、代わりに匿名ユーザーIDにマッピングされます。 `-anon`パラメータは、これらのクライアントに割り当てられるユーザーIDを決定します。 `-anon`パラメータに指定するユーザーIDは、匿名ユーザーに適切と思われる権限が設定されている有効なユーザーである必要があります。

 `-anon`パラメータの有効な値の範囲は `0`～ `65535`です。

[cols="2*"]
|===
| 割り当てられたユーザー ID `-anon` | クライアント アクセス要求の結果としての処理 


 a| 
`0` - `65533`
 a| 
クライアント アクセス要求は匿名ユーザIDにマッピングされ、このユーザに設定されたアクセス権に基づいてアクセスが許可されます。



 a| 
`65534`
 a| 
クライアント アクセス要求はユーザnobodyにマッピングされ、このユーザに設定されたアクセス権に基づいてアクセスが許可されます。これがデフォルトです。



 a| 
`65535`
 a| 
このIDにマッピングされ、セキュリティ タイプがAUTH_NONEのクライアントからのアクセス要求は、すべて拒否されます。このIDにマッピングされ、他のセキュリティ タイプを使用している、ユーザIDが0のクライアントからのアクセス要求は拒否されます。

|===
オプション `none`を使用する場合は、読み取り専用パラメータが最初に処理されることに留意してください。リストにないセキュリティタイプを持つクライアントのエクスポート ルールを設定する場合は、以下のガイドラインを考慮してください：

[cols="3*"]
|===
| 読み取り専用インクルード `none` | 読み書きには以下が含まれます `none` | リストにないセキュリティ タイプのクライアントに対するアクセス結果 


 a| 
いいえ
 a| 
いいえ
 a| 
拒否されました



 a| 
いいえ
 a| 
はい
 a| 
read-onlyが先に処理されるため、拒否



 a| 
はい
 a| 
いいえ
 a| 
匿名として読み取り専用



 a| 
はい
 a| 
はい
 a| 
匿名として読み取り / 書き込み

|===
.例
次の例は、 `-rwrule` `any`パラメータを含むエクスポート ポリシーを示しています：

エクスポート ポリシーに、次のパラメータが指定されたエクスポート ルールが含まれています。

* `-protocol` `nfs3`
* `-clientmatch` `10.1.16.0/255.255.255.0`
* `-rorule` `sys,none`
* `-rwrule` `any`
* `-anon` `70`


クライアント#1は、IPアドレスが10.1.16.207で、NFSv3プロトコルを使用してアクセス要求を送信し、Kerberos v5で認証されました。

クライアント#2は、IPアドレスが10.1.16.211で、NFSv3プロトコルを使用してアクセス要求を送信し、AUTH_SYSで認証されました。

クライアント#3は、IPアドレスが10.1.16.234で、NFSv3プロトコルを使用してアクセス要求を送信し、認証されていません（セキュリティ タイプAUTH_NONE）。

3つすべてのクライアントで、クライアント アクセス プロトコルとIPアドレスは一致しています。読み取り専用パラメータは、AUTH_SYSで認証された自身のユーザIDを持つクライアントに読み取り専用アクセスを許可します。また、それ以外のセキュリティ タイプを使用して認証されたクライアントには、ユーザIDが70の匿名ユーザとして読み取り専用アクセスを許可します。読み取り / 書き込みパラメータは、すべてのセキュリティ タイプに読み取り / 書き込みアクセスを許可しますが、この例では、読み取り専用ルールですでにフィルタされたクライアントにのみ適用されます。

したがって、クライアント#1とクライアント#3には、ユーザIDが70の匿名ユーザとしてのみ読み取り / 書き込みアクセスが許可されます。クライアント#2には、自身のユーザIDで読み取り / 書き込みアクセスが許可されます。

次の例は、 `-rwrule` `none`パラメータを含むエクスポート ポリシーを示しています：

エクスポート ポリシーに、次のパラメータが指定されたエクスポート ルールが含まれています。

* `-protocol` `nfs3`
* `-clientmatch` `10.1.16.0/255.255.255.0`
* `-rorule` `sys,none`
* `-rwrule` `none`
* `-anon` `70`


クライアント#1は、IPアドレスが10.1.16.207で、NFSv3プロトコルを使用してアクセス要求を送信し、Kerberos v5で認証されました。

クライアント#2は、IPアドレスが10.1.16.211で、NFSv3プロトコルを使用してアクセス要求を送信し、AUTH_SYSで認証されました。

クライアント#3は、IPアドレスが10.1.16.234で、NFSv3プロトコルを使用してアクセス要求を送信し、認証されていません（セキュリティ タイプAUTH_NONE）。

3つすべてのクライアントで、クライアント アクセス プロトコルとIPアドレスは一致しています。読み取り専用パラメータは、AUTH_SYSで認証された自身のユーザIDを持つクライアントに読み取り専用アクセスを許可します。また、それ以外のセキュリティ タイプを使用して認証されたクライアントには、ユーザIDが70の匿名ユーザとして読み取り専用アクセスを許可します。読み取り / 書き込みパラメータは、匿名ユーザとしてのみ読み取り / 書き込みアクセスを許可します。

したがって、クライアント#1とクライアント#3は、ユーザIDが70の匿名ユーザとしてのみ読み取り / 書き込みアクセスが許可されます。クライアント#2は、自身のユーザIDで読み取り専用アクセスが許可されますが、読み取り / 書き込みアクセスは拒否されます。
