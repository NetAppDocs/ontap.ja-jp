---
permalink: nfs-admin/modify-nfsv3-nfsv4-tcp-maximum-transfer-size-task.html 
sidebar: sidebar 
keywords:  
summary: -tcp-max-xfer-size オプションを変更して、NFSv3 および NFSv4.x プロトコルを使用するすべての TCP 接続の最大転送サイズを設定できます。 
---
= ONTAP SVMのNFSv3およびNFSv4 TCP最大転送サイズを変更する
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
 `-tcp-max-xfer-size`オプションを変更して、NFSv3およびNFSv4.xプロトコルを使用するすべてのTCP接続の最大転送サイズを設定できます。

.タスク概要
このオプションはStorage Virtual Machine（SVM）ごとに変更できます。

ONTAP 9以降、 `v3-tcp-max-read-size`および `v3-tcp-max-write-size`オプションは廃止されました。代わりに `-tcp-max-xfer-size`オプションを使用する必要があります。

.手順
. 権限レベルをadvancedに設定します。
+
`set -privilege advanced`

. 次のいずれかを実行します。
+
[cols="2*"]
|===
| 状況 | コマンドを入力してください... 


 a| 
NFSv3またはNFSv4のTCP最大転送サイズを変更する
 a| 
`vserver nfs modify -vserver vserver_name -tcp-max-xfer-size integer_max_xfer_size`

|===
+
[cols="3*"]
|===
| オプション | 範囲 | デフォルト 


 a| 
`-tcp-max-xfer-size`
 a| 
8,192～1,048,576バイト
 a| 
65,536バイト

|===
+
[NOTE]
====
最大転送サイズには、4KB（4,096バイト）の倍数を入力する必要があります。要求が要件を満たしていない場合は、パフォーマンスが低下します。

====
.  `vserver nfs show -fields tcp-max-xfer-size`コマンドを使用して変更を確認します。
. 静的マウントを使用しているクライアントがある場合、変更したパラメータのサイズを有効にするには、いったんアンマウントしてから再度マウントします。


.例
次のコマンドは、vs1というSVMでNFSv3とNFSv4.xのTCP最大転送サイズを1,048,576バイトに設定します。

[listing]
----
vs1::> vserver nfs modify -vserver vs1 -tcp-max-xfer-size 1048576
----