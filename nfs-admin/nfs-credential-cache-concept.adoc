---
permalink: nfs-admin/nfs-credential-cache-concept.html 
sidebar: sidebar 
keywords: nfs, credential, cache 
summary: NFS ユーザがストレージシステム上の NFS エクスポートへのアクセスを要求すると、 ONTAP は、ユーザの認証を行うために外部ネームサーバまたはローカルファイルからユーザクレデンシャルを取得する必要があります。ONTAPは、後で参照できるように、これらのクレデンシャルを内部クレデンシャルキャッシュに格納します。NFSクレデンシャルキャッシュの仕組みを理解することで、パフォーマンスやアクセスに関する潜在的な問題に対処できます。 
---
= ONTAP NFS認証情報キャッシュの仕組み
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
NFS ユーザがストレージシステム上の NFS エクスポートへのアクセスを要求すると、 ONTAP は、ユーザの認証を行うために外部ネームサーバまたはローカルファイルからユーザクレデンシャルを取得する必要があります。ONTAPは、後で参照できるように、これらのクレデンシャルを内部クレデンシャルキャッシュに格納します。NFSクレデンシャルキャッシュの仕組みを理解することで、パフォーマンスやアクセスに関する潜在的な問題に対処できます。

クレデンシャルキャッシュがないと、 ONTAP ユーザは NFS ユーザからアクセスが要求されるたびにネームサービスを照会しなければなりません。多数のユーザがアクセスする使用頻度の高いストレージシステムでは、こうした状況がすぐに深刻なパフォーマンス上の問題につながり、不必要な遅延や、場合によっては NFS クライアントアクセスの拒否さえ引き起こす可能性があります。

クレデンシャルキャッシュがあれば、 ONTAP は取得したユーザクレデンシャルをあらかじめ決められた期間だけ格納しておき、同じ NFS クライアントから再び要求があっても迅速かつ簡単にアクセスすることができます。この方法には、次の利点があります。

* 外部ネームサーバ（ NIS や LDAP など）への要求の処理を減らすことで、ストレージシステムの負荷が軽減されます。
* 外部ネームサーバに送信する要求を減らすことで、外部ネームサーバの負荷が軽減されます。
* ユーザが認証される前に外部ソースからクレデンシャルを取得するための待機時間をなくすことで、ユーザアクセスを高速化します。


ONTAP は、受理されたクレデンシャルと拒否されたクレデンシャルの両方をクレデン受理されたクレデンシャルとは、ユーザが認証されてアクセス権を付与されたこと拒否されたクレデンシャルとは、ユーザが認証されずにアクセスが拒否されたことを意味します

デフォルトでは、ONTAPは受理されたクレデンシャルを24時間保存します。つまり、ユーザの初回認証後、ONTAPはそのユーザからのすべてのアクセス要求に対してキャッシュされたクレデンシャルを24時間使用します。24 時間後にそのユーザからアクセスが要求された場合は、最初からやり直しになります。 ONTAP はキャッシュされたクレデンシャルを破棄し、適切なネームサービスソースから再びクレデンシャルを取得します。それまでの24時間にネームサーバ上でクレデンシャルが変更された場合、ONTAPは更新されたクレデンシャルをキャッシュして、次の24時間で使用できるようにします。

デフォルトでは、ONTAPは拒否されたクレデンシャルを2時間保存します。つまり、ユーザへのアクセスを最初に拒否したあと、ONTAPはそのユーザからのすべてのアクセス要求を2時間拒否し続けます。2 時間後にそのユーザからアクセスが要求された場合は、最初からやり直しになります。 ONTAP は適切なネームサービスソースから再びクレデンシャルを取得します。過去2時間にネームサーバ上でクレデンシャルが変更された場合、ONTAPは次の2時間で使用できるように、更新されたクレデンシャルをキャッシュします。
