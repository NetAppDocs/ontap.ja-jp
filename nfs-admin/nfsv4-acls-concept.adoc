---
permalink: nfs-admin/nfsv4-acls-concept.html 
sidebar: sidebar 
keywords: nfsv4, acls, work 
summary: NFSv4 ACLを使用しているクライアントは、システム上のファイルとディレクトリにACLを設定し、そのACLを表示することができます。ACLが設定されているディレクトリ内にファイルやサブディレクトリを新しく作成すると、新しいファイルやサブディレクトリには、そのACL内のアクセス制御エントリ（ACE）のうち、該当する継承フラグがタグ付けされたACEがすべて継承されます。 
---
= ONTAP SVM の NFSv4 ACL について学ぶ
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
NFSv4 ACLを使用しているクライアントは、システム上のファイルとディレクトリにACLを設定し、そのACLを表示することができます。ACLが設定されているディレクトリ内にファイルやサブディレクトリを新しく作成すると、新しいファイルやサブディレクトリには、そのACL内のアクセス制御エントリ（ACE）のうち、該当する継承フラグがタグ付けされたACEがすべて継承されます。

ファイルやディレクトリがNFSv4要求によって作成される場合、作成されるファイルやディレクトリのACLは、ファイル作成要求にACLが含まれているか、標準のUNIXファイル アクセス権限のみが含まれているかによって、また、親ディレクトリにACLがあるかによって異なります。

* 要求にACLが含まれる場合は、そのACLが使用されます。
* 要求に標準のUNIXファイル アクセス権限のみが含まれ、親ディレクトリにACLがある場合、親ディレクトリのACLのACEに該当する継承フラグが設定されていれば、それらのACEが新しいファイルやディレクトリに継承されます。
+
[NOTE]
====
 `-v4.0-acl`が `off`に設定されている場合でも、親 ACL は継承されます。

====
* 要求に標準のUNIXファイル アクセス権限のみが含まれ、親ディレクトリにACLがない場合は、クライアントのファイル モードを使用して標準のUNIXファイル アクセス権限が設定されます。
* 要求に標準のUNIXファイルアクセス権限のみが含まれ、親ディレクトリに継承不可能なACLがある場合、モード ビットを使用しないと新しいオブジェクトは作成できません。


[NOTE]
====
 `-chown-mode`パラメータが `restricted`に `vserver nfs`または `vserver export-policy rule`ファミリのコマンドで設定されている場合、NFSv4 ACLで設定されたディスク上の権限で非ルートユーザーがファイル所有権を変更できる場合でも、ファイルの所有権を変更できるのはスーパーユーザーのみです。この手順で説明されているコマンドの詳細については、link:https://docs.netapp.com/us-en/ontap-cli/["ONTAPコマンド リファレンス"^]を参照してください。

====