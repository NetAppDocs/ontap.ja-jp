---
permalink: nfs-admin/ontap-export-policy-caches-concept.html 
sidebar: sidebar 
keywords: ontap, use, export, policy, cache 
summary: システムパフォーマンスを向上させるため、ONTAPはホスト名やネットグループなどの情報をローカルキャッシュに保存します。これによりONTAPは、外部ソースから情報を取得するよりも迅速にエクスポートポリシールールを処理できます。キャッシュとは何か、そしてその機能を理解することは、クライアントアクセスの問題のトラブルシューティングに役立ちます。 
---
= ONTAP NFSエクスポート ポリシー キャッシュについて学ぶ
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
システムパフォーマンスを向上させるため、ONTAPはホスト名やネットグループなどの情報をローカルキャッシュに保存します。これによりONTAPは、外部ソースから情報を取得するよりも迅速にエクスポートポリシールールを処理できます。キャッシュとは何か、そしてその機能を理解することは、クライアントアクセスの問題のトラブルシューティングに役立ちます。

NFSエクスポートへのクライアントアクセスを制御するには、エクスポートポリシーを設定します。各エクスポートポリシーにはルールが含まれており、各ルールには、アクセスを要求するクライアントとルールを一致させるためのパラメータが含まれています。これらのパラメータの中には、ドメイン名、ホスト名、ネットグループなどのオブジェクトを解決するために、ONTAPがDNSサーバやNISサーバなどの外部ソースに接続する必要があるものがあります。

外部ソースとのこれらの通信には多少の時間がかかります。パフォーマンスを向上させるため、ONTAPは各ノードの複数のキャッシュに情報をローカルに保存することで、エクスポート ポリシー ルール オブジェクトの解決にかかる時間を短縮します。

[cols="2*"]
|===
| キャッシュ名 | 保存される情報の種類 


 a| 
アクセス
 a| 
クライアントと対応するエクスポート ポリシーのマッピング



 a| 
Name
 a| 
UNIX ユーザー名と対応する UNIX ユーザー ID のマッピング



 a| 
ID
 a| 
UNIX ユーザー ID と対応する UNIX ユーザー ID および拡張 UNIX グループ ID のマッピング



 a| 
ホスト
 a| 
ホスト名と対応するIPアドレスのマッピング



 a| 
Netgroup
 a| 
ネットグループとメンバーの対応するIPアドレスのマッピング



 a| 
showmount
 a| 
SVM ネームスペースからエクスポートされたディレクトリのリスト

|===
環境内の外部ネーム サーバの情報を ONTAP が取得してローカルに保存した後に変更すると、キャッシュに古い情報が含まれる可能性があります。ONTAP は一定期間後にキャッシュを自動的に更新しますが、キャッシュごとに有効期限と更新タイミング、およびアルゴリズムが異なります。

キャッシュに古い情報が含まれるもう一つの理由は、ONTAPがキャッシュ情報を更新しようとした際にネーム サーバとの通信に失敗したことが挙げられます。この場合、ONTAPはクライアントの中断を防ぐため、ローカル キャッシュに現在保存されている情報を引き続き使用します。

その結果、成功するはずのクライアントアクセス要求が失敗したり、失敗するはずのクライアントアクセス要求が成功したりすることがあります。このようなクライアントアクセスの問題をトラブルシューティングする際には、エクスポートポリシーキャッシュの一部を確認し、手動でフラッシュすることができます。
