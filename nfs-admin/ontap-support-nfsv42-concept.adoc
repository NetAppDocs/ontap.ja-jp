---
permalink: nfs-admin/ontap-support-nfsv42-concept.html 
sidebar: sidebar 
keywords: ontap, support, nfsv4.2, MAC-labelled NFS, extended attributes, xattrs 
summary: ONTAP 9.8以降では、NFSv4.2プロトコルがサポートされており、NFSv4.2対応クライアントのアクセスが許可されます。 
---
= ONTAP の NFSv4.2 サポートについて学ぶ
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
ONTAP 9.8以降では、NFSv4.2プロトコルがサポートされており、NFSv4.2対応クライアントのアクセスが許可されます。

NFSv4.2は、ONTAP 9.9.1以降ではデフォルトで有効になっています。ONTAP 9.8では、Storage Virtual Machine（SVM）上にNFSサーバを作成する際に、 `-v4.2`オプションを指定して `enabled`に設定することで、v4.2を手動で有効にする必要があります。NFSv4.1を有効にすると、クライアントはv4.2としてマウントされている間もNFSv4.1の機能を使用できるようになります。

以降のONTAPリリースでは、NFSv4.2のオプション機能のサポートが拡張されています。

[cols="2*"]
|===
| バージョン | 含まれるNFSv4.2のオプション機能 


| ONTAP 9.12.1  a| 
* NFS拡張属性
* スパース ファイル
* スペース リザベーション




| ONTAP 9.9.1 | 強制アクセス制御（MAC）ラベル付きNFS 
|===


== NFS v4.2セキュリティ ラベル

ONTAP 9.9.1以降では、NFSセキュリティ ラベルを有効にすることができます。デフォルトでは無効になっています。

NFSv4.2セキュリティ ラベルを使用するONTAP NFSサーバは、強制アクセス制御（MAC: Mandatory Access Control）に対応するため、クライアントから送信されたsec_label属性を保存および取得します。

詳細については、link:https://tools.ietf.org/html/rfc7204["RFC 7240"^]を参照してください。

ONTAP 9.12.1以降では、NDMPダンプ処理でNFS v4.2セキュリティ ラベルがサポートされます。それよりも前のリリースでファイルまたはディレクトリでセキュリティ ラベルが検出されると、ダンプは失敗します。

.手順
. 権限の設定をadvancedに変更します。
+
[source, cli]
----
set -privilege advanced
----
. セキュリティ ラベルを有効にします。
+
[source, cli]
----
vserver nfs modify -vserver <svm_name> -v4.2-seclabel enabled
----




== NFS拡張属性

ONTAP 9.12.1以降では、NFS拡張属性（xattrs）がデフォルトで有効になっています。

拡張属性は https://tools.ietf.org/html/rfc8276["RFC 8276"^]で定義され、最新のNFSクライアントで有効になっている標準のNFS属性です。ファイル システム オブジェクトにユーザ定義のメタデータを付加するために使用でき、高度なセキュリティ導入において重要です。

現在、NFS拡張属性はNDMPダンプ処理ではサポートされていません。ファイルまたはディレクトリで拡張属性が検出されると、ダンプ処理は続行されますが、それらのファイルまたはディレクトリの拡張属性はバックアップされません。

拡張属性を無効にする必要がある場合は、 `vserver nfs modify -v4.2-xattrs disabled` コマンドを使用します。
