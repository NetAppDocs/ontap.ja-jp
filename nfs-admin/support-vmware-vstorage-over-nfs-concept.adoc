---
permalink: nfs-admin/support-vmware-vstorage-over-nfs-concept.html 
sidebar: sidebar 
keywords: support, vmware, vStorage, nfs 
summary: ONTAPは、NFS環境で特定のVMware vStorage APIs for Array Integration（VAAI）機能をサポートしています。 
---
= ONTAP NFS経由のVMware vStorageのサポートについて学ぶ
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
ONTAPは、NFS環境で特定のVMware vStorage APIs for Array Integration（VAAI）機能をサポートしています。



== サポートされる機能

次の機能がサポートされます。

* コピー オフロード
+
ESXiホストで、仮想マシンや仮想マシン ディスク（VMDK）のコピーを、ホストを介さずにソースとデスティネーションのデータ ストア間で直接行うことができます。これにより、ESXiホストのCPUサイクルやネットワーク帯域幅を節約できます。ソース ボリュームがスパース ボリュームの場合、コピー オフロードでスペース効率が保持されます。

* スペース リザベーション
+
スペースをリザーブしてVMDKファイル用のストレージ スペースを確保します。





== 制限事項

NFSでVMware vStorageを使用する際には、次の制限事項があります。

* 次の場合にコピー オフロード処理が失敗することがあります。
+
** ソースボリュームまたは宛先ボリュームで wafliron を実行している間（ボリュームが一時的にオフラインになるため）
** ソースボリュームまたはデスティネーション ボリュームのいずれかを移動中
** ソースLIFまたは宛先LIFのいずれかを移動している間
** テイクオーバーまたはギブバック操作の実行中
** スイッチオーバーまたはスイッチバック処理の実行中


* 次のシナリオでは、ファイル ハンドル形式の違いによってサーバ側のコピーが失敗する可能性があります。
+
qtreeのエクスポートを現在行っているか、以前行っていたSVMから、これまでにqtreeをエクスポートしたことがないSVMへのデータのコピーを試みます。上記の制限を回避するために、コピー先SVMで少なくとも1つのqtreeをエクスポートすることができます。



.関連情報
https://kb.netapp.com/Advice_and_Troubleshooting/Data_Storage_Software/ONTAP_OS/What_VAAI_offloaded_operations_are_supported_by_Data_ONTAP%3F["What VAAI offloaded operations are supported by Data ONTAP?"]
