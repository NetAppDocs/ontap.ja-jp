---
permalink: nfs-config/configure-name-service-switch-table-task.html 
sidebar: sidebar 
keywords: configue, name, service, switch, table 
summary: ONTAPがローカルまたは外部のネーム サービスを参照して、ホスト、ユーザ、グループ、ネットグループ、または名前のマッピング情報を取得できるようにするには、ネーム サービス スイッチ テーブルを正しく設定する必要があります。 
---
= ONTAP NFSネーム サービス スイッチ テーブルを設定する
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
ONTAPがローカルまたは外部のネーム サービスを参照して、ホスト、ユーザ、グループ、ネットグループ、または名前のマッピング情報を取得できるようにするには、ネーム サービス スイッチ テーブルを正しく設定する必要があります。

.開始する前に
環境に応じて、ホスト、ユーザー、グループ、ネットグループ、または名前のマッピングに使用するネーム サービスを決定する必要があります。

ネットグループを使用する場合は、ネットグループで指定されたすべてのIPv6アドレスをRFC 5952で指定されているとおりに短縮および圧縮する必要があります。

.タスク概要
使用されていない情報ソースは含めないでください。たとえば、環境でNISが使用されていない場合は、 `-sources nis`オプションを指定しないでください。

.手順
. ネーム サービス スイッチ テーブルに必要なエントリを追加します。
+
`vserver services name-service ns-switch create -vserver _vserver_name_ -database _database_name_ -sources _source_names_`

. ネーム サービス スイッチ テーブルに想定されるエントリが適切な順序で格納されていることを確認します。
+
`vserver services name-service ns-switch show -vserver _vserver_name_`

+
修正を行う場合は、 `vserver services name-service ns-switch modify`または `vserver services name-service ns-switch delete`コマンドを使用する必要があります。



.例
次の例では、SVM vs1 のネーム サービス スイッチ テーブルに新しいエントリを作成し、ローカル ネットグループ ファイルと外部 NIS サーバを使用して、その順序でネットグループ情報を検索します：

[listing]
----
cluster::> vserver services name-service ns-switch create -vserver vs1 -database netgroup -sources files,nis
----
.終了後の操作
* データ アクセスを提供するには、SVMに指定したネーム サービスを設定する必要があります。
* SVMの名前サービスを削除する場合は、ネーム サービス スイッチ テーブルからも削除する必要があります。
+
ネーム サービス スイッチ テーブルからネーム サービスを削除できなかった場合、ストレージ システムへのクライアント アクセスが期待どおりに機能しない可能性があります。


