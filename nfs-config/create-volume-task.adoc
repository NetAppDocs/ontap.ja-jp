---
permalink: nfs-config/create-volume-task.html 
sidebar: sidebar 
keywords: create, volume 
summary: volume create コマンドを使用して、ボリュームを作成し、ジャンクションポイントやその他のプロパティを指定できます。 
---
= ボリュームを作成します
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
volume create コマンドを使用して、ボリュームを作成し、ジャンクションポイントやその他のプロパティを指定できます。

.必要なもの
SVM のセキュリティ形式が UNIX で、 NFS が設定されて実行されている必要があります。

.このタスクについて
クライアントがデータを使用できるようにするには、ボリュームに _junction path_ を含める必要があります。ジャンクションパスは、新しいボリュームを作成するときに指定できます。ジャンクションパスを指定せずにボリュームを作成する場合、 volume mount コマンドを使用して SVM ネームスペース内のボリュームを _mount_the にする必要があります。

.手順
. ジャンクションポイントを指定してボリュームを作成します。
+
`volume create -vserver_name_-volume_name_-aggregate-aggregate_name _size {_integer_[KB|MB|GB|TB|PB] ｝ -security-style unix -user_user_name _or -group_group_name _or_number_junction-path _export_policy_name_export_policy_name_export_policy_name_export_policy_name_junction-path export_policy_name_export_policy_name_export_policy_name_`export_policy_name]-security-style unix -security-style unix -MB|MB|MB|GB|GB|GB|GB|TB|TB|PB}

+
「 -junction-path 」の選択肢は次のとおりです。

+
** ルートの直下。たとえば、「 //_new_vol_ 」のように指定します
+
新しいボリュームを作成し、 SVM のルートボリュームに直接マウントされるように指定することができます。

** 既存のディレクトリの下（例：「 //_existing_dir/new_vol_ 」）
+
新しいボリュームを作成し、ディレクトリとして表現されている既存のボリューム（既存の階層内）にマウントされるように指定できます。



+
新しいディレクトリ（新しいボリュームの下の新しい階層）にボリュームを作成する場合、たとえば「 _/new_dir/new_vol_ 」のように、まず SVM ルートボリュームにジャンクションされている新しい親ボリュームを作成する必要があります。その後、新しい親ボリューム（新しいディレクトリ）のジャンクションパスに新しい子ボリュームを作成します。

+
+ 既存のエクスポートポリシーを使用する場合は、ボリュームの作成時に指定できます。エクスポート・ポリシーは 'volume modify コマンドを使用して後で追加することもできます

. 目的のジャンクションポイントでボリュームが作成されたことを確認します。
+
volume show -vserver_name_-volume_name_-junction-path です



.例
次のコマンドは、 SVM vs1.example.com およびアグリゲート aggr1 上に、 users1 という名前の新しいボリュームを作成します。新しいボリュームは '/users' で使用可能になりますボリュームのサイズは 750GB で、ボリュームギャランティのタイプは volume （デフォルト）です。

[listing]
----
cluster1::> volume create -vserver vs1.example.com -volume users -aggregate aggr1 -size 750g -junction-path /users
[Job 1642] Job succeeded: Successful

cluster1::> volume show -vserver vs1.example.com -volume users -junction
                          Junction                 Junction
Vserver           Volume  Active   Junction Path   Path Source
----------------- ------- -------- --------------- -----------
vs1.example.com   users1  true     /users          RW_volume
----
次のコマンドは、 SVM 「 vs1.example.com 」およびアグリゲート「 aggr1 」に、「 home4 」という名前の新しいボリュームを作成します。ディレクトリ「 /eng/` は vs1 SVM のネームスペースにすでに存在し、新しいボリュームは「 /eng/home 」で利用可能になります。これは「 /eng/` 名前空間」のホームディレクトリになります。ボリュームのサイズは 750 GB で ' ボリューム・ギャランティのタイプは volume （デフォルト）です

[listing]
----
cluster1::> volume create -vserver vs1.example.com -volume home4 -aggregate aggr1 -size 750g -junction-path /eng/home
[Job 1642] Job succeeded: Successful

cluster1::> volume show -vserver vs1.example.com -volume home4 -junction
                         Junction                 Junction
Vserver          Volume  Active   Junction Path   Path Source
---------------- ------- -------- --------------- -----------
vs1.example.com  home4   true     /eng/home       RW_volume
----