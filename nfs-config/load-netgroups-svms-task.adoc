---
permalink: nfs-config/load-netgroups-svms-task.html 
sidebar: sidebar 
keywords: load, netgroups, svms 
summary: エクスポートポリシールールでクライアントを照合する方法の1つは、ネットグループにリストされているホストを使用することです。外部ネームサーバに保存されているネットグループを使用する代わりに、Uniform Resource Identifier（URI）からSVMにネットグループをロードすることもできます（vserver services name-service netgroup load）。 
---
= ONTAP NFS SVM上のURIからネットグループをロードする
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
エクスポートポリシールールでクライアントをマッチングする方法の1つは、ネットグループにリストされているホストを使用することです。外部ネームサーバに保存されているネットグループを使用する代わりに、URI（Uniform Resource Identifier）からSVMにネットグループをロードすることもできます(`vserver services name-service netgroup load`。

.開始する前に
ネットグループ ファイルは、SVM にロードされる前に次の要件を満たしている必要があります：

* ファイルでは、NIS の設定に使用されるのと同じ適切なネットグループ テキスト ファイル形式を使用する必要があります。
+
ONTAPは、ネットグループのテキストファイルをロードする前にフォーマットをチェックします。ファイルにエラーが含まれている場合、ファイルはロードされず、ファイルに必要な修正内容を示すメッセージが表示されます。エラーを修正したら、指定したSVMにネットグループファイルをリロードできます。

* ネットグループ ファイル内のホスト名のアルファベット文字はすべて小文字にする必要があります。
* サポートされるファイルの最大サイズは 5 MB です。
* ネストされたネットグループでサポートされる最大レベルは 1000 です。
* ネットグループ ファイルでホスト名を定義するときは、プライマリDNSホスト名のみを使用できます。
+
エクスポートアクセスの問題を回避するには、DNS CNAME またはラウンドロビンレコードを使用してホスト名を定義しないでください。

* ネットグループ ファイル内のトリプルのユーザーとドメインの部分は ONTAP でサポートされていないため、空のままにしておく必要があります。
+
ホスト/IP 部分のみがサポートされます。



.タスク概要
ONTAPは、ローカルネットグループファイルに対するホストごとのネットグループ検索をサポートしています。ネットグループファイルをロードすると、ONTAPは自動的にnetgroup.byhostマップを作成し、ホストごとのネットグループ検索を有効にします。これにより、クライアントアクセスを評価するエクスポートポリシールールの処理時に、ローカルネットグループ検索が大幅に高速化されます。

.手順
. URI からネットグループを SVM にロードします：
+
`vserver services name-service netgroup load -vserver _vserver_name_ -source {ftp|http|ftps|https}://_uri_`

+
ネットグループ ファイルのロードとnetgroup.byhostマップの構築には、数分かかることがあります。

+
ネットグループを更新する場合は、ファイルを編集し、更新されたネットグループファイルを SVM にロードできます。



.例
次のコマンドは、HTTP URL `+http://intranet/downloads/corp-netgroup+`から vs1 という名前の SVM にネットグループ定義をロードします：

[listing]
----
vs1::> vserver services name-service netgroup load -vserver vs1
-source http://intranet/downloads/corp-netgroup
----