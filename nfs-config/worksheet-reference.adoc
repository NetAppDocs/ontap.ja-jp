---
permalink: nfs-config/worksheet-reference.html 
sidebar: sidebar 
keywords: worksheet, gathering, nfs, configuration, information, access, svm, name, service, information, add, storage, capacity 
summary: NFS設定ワークシートを使用すると、クライアントのNFSアクセスを設定するために必要な情報を収集できます。 
---
= ONTAP NFS構成ワークシート
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
NFS設定ワークシートを使用すると、クライアントのNFSアクセスを設定するために必要な情報を収集できます。

ストレージをプロビジョニングする場所に応じて、以下に記載するセクションのワークシートのどちらかまたは両方を記入する必要があります。

SVMへのNFSアクセスを設定する場合は、両方のセクションを完了する必要があります。

* SVMへのNFSアクセスの設定
* NFS対応SVMへのストレージ容量の追加


NFS対応SVMにストレージ容量を追加する場合は、次の操作のみを完了する必要があります。

* NFS対応SVMへのストレージ容量の追加




== SVMへのNFSアクセスの設定

*SVMを作成するためのパラメータ*

新しい SVM を作成する場合は、 `vserver create`コマンドでこれらの値を指定します。

|===


| フィールド | 概要 | あなたの価値 


 a| 
`-vserver`
 a| 
新しいSVMの名前を指定します。完全修飾ドメイン名（FQDN）を指定するか、クラスタ内で一意のSVM名を適用する別の命名規則に従います。
 a| 



 a| 
`-aggregate`
 a| 
新しいNFSストレージ容量に対応できる十分なスペースを持つクラスタ内のアグリゲートの名前を指定します。
 a| 



 a| 
`-rootvolume`
 a| 
SVMルート ボリュームの一意の名前を指定します。
 a| 



 a| 
`-rootvolume-security-style`
 a| 
SVMのUNIXセキュリティ形式を使用します。
 a| 
`unix`



 a| 
`-language`
 a| 
このワークフローではデフォルトの言語設定を使用します。
 a| 
`C.UTF-8`



 a| 
`ipspace`
 a| 
IPspace は、Storage Virtual Machine（SVM）が存在する個別の IP アドレス空間です。
 a| 

|===
*NFSサーバの作成用パラメータ*

新しいNFSサーバを作成し、サポートされているNFSバージョンを指定するときに、 `vserver nfs create`コマンドでこれらの値を指定します。

NFSv4以降を有効にする場合は、セキュリティを強化するためにLDAPを使用する必要があります。

|===


| フィールド | 概要 | あなたの価値 


 a| 
`-v3`、 `-v4.0`、 `-v4.1`、 `-v4.1-pnfs`
 a| 
必要に応じてNFSバージョンを有効にします。


NOTE: v4.2は、 `v4.1`が有効になっている場合、ONTAP 9.8以降でもサポートされます。
 a| 



 a| 
`-v4-id-domain`
 a| 
IDマッピングのドメイン名を指定します。
 a| 



 a| 
`-v4-numeric-ids`
 a| 
所有者ID番号のサポート（有効または無効）を指定します。
 a| 

|===
*LIFを作成するためのパラメータ*

これらの値は、LIFを作成する際に `network interface create`コマンドで指定します。link:https://docs.netapp.com/us-en/ontap-cli/network-interface-create.html["ONTAPコマンド リファレンス"^]の `network interface create`の詳細を確認してください。

Kerberosを使用する場合は、複数のLIFでKerberosを有効にする必要があります。

|===


| フィールド | 概要 | あなたの価値 


 a| 
`-lif`
 a| 
新しいLIFの名前を指定します。
 a| 



 a| 
`-role`
 a| 
このワークフローではデータLIFのロールを使用します。
 a| 
`data`



 a| 
`-data-protocol`
 a| 
このワークフローではNFSプロトコルのみを使用します。
 a| 
`nfs`



 a| 
`-home-node`
 a| 
 `network interface revert`コマンドがLIF上で実行されたときにLIFが戻るノード。

 `network interface revert`の詳細については、link:https://docs.netapp.com/us-en/ontap-cli/network-interface-revert.html["ONTAPコマンド リファレンス"^]を参照してください。
 a| 



 a| 
`-home-port`
 a| 
 `network interface revert`コマンドがLIFで実行されたときにLIFが戻るポートまたはインターフェイスグループ。
 a| 



 a| 
`-address`
 a| 
新しいLIFによるデータ アクセスに使用されるクラスタ上のIPv4またはIPv6アドレスを指定します。
 a| 



 a| 
`-netmask`
 a| 
LIFのネットワーク マスクとゲートウェイを指定します。
 a| 



 a| 
`-subnet`
 a| 
IPアドレスのプール。 `-address`と `-netmask`の代わりに使用され、アドレスとネットマスクを自動的に割り当てます。
 a| 



 a| 
`-firewall-policy`
 a| 
このワークフローではデフォルトのデータ ファイアウォール ポリシーを使用します。
 a| 
`data`

|===
*DNSホスト名解決のパラメータ*

DNSを構成するときに、 `vserver services name-service dns create`コマンドでこれらの値を指定します。

|===


| フィールド | 概要 | あなたの価値 


 a| 
`-domains`
 a| 
最大5つのDNSドメイン名を指定します。
 a| 



 a| 
`-name-servers`
 a| 
DNSネーム サーバごとに最大3つのIPアドレスを指定します。
 a| 

|===


== ネーム サービス情報

*ローカルユーザを作成するためのパラメータ*

 `vserver services name-service unix-user create`コマンドを使用してローカルユーザを作成する場合は、これらの値を指定します。Uniform Resource Identifier（URI）からUNIXユーザを含むファイルを読み込んでローカルユーザを設定する場合は、これらの値を手動で指定する必要はありません。

|===


|  | ユーザー名 `(-user)` | ユーザID `(-id)` | グループID `(-primary-gid)` | フルネーム `(-full-name)` 


 a| 
例
 a| 
johnm
 a| 
123
 a| 
100
 a| 
John Miller



 a| 
1
 a| 
 a| 
 a| 
 a| 



 a| 
2
 a| 
 a| 
 a| 
 a| 



 a| 
3
 a| 
 a| 
 a| 
 a| 



 a| 
...
 a| 
 a| 
 a| 
 a| 



 a| 
n
 a| 
 a| 
 a| 
 a| 

|===
*ローカルグループを作成するためのパラメータ*

 `vserver services name-service unix-group create`コマンドを使用してローカルグループを作成する場合は、これらの値を指定します。URIからUNIXグループを含むファイルをロードしてローカルグループを設定する場合は、これらの値を手動で指定する必要はありません。

|===


|  | グループ名(`-name`) | グループID (`-id`) 


 a| 
例
 a| 
Engineering
 a| 
100



 a| 
1
 a| 
 a| 



 a| 
2
 a| 
 a| 



 a| 
3
 a| 
 a| 



 a| 
...
 a| 
 a| 



 a| 
n
 a| 
 a| 

|===
*NISのパラメータ*

これらの値は `vserver services name-service nis-domain create`コマンドで指定します。

[NOTE]
====
 `-nis-servers`フィールドは `-servers`フィールドを置き換えます。 `-nis-servers`フィールドを使用して、NISサーバのホスト名またはIPアドレスを指定できます。

====
|===


| フィールド | 概要 | あなたの価値 


 a| 
`-domain`
 a| 
SVMで名前検索に使用されるNISドメインを指定します。
 a| 



 a| 
`-active`
 a| 
アクティブなNISドメイン サーバを指定します。
 a| 
`true`または `false`



 a| 
`-nis-servers`
 a| 
ドメイン設定で使用するNISサーバのIPアドレスおよびホスト名をカンマで区切って指定します。
 a| 

|===
*LDAPのパラメータ*

これらの値は `vserver services name-service ldap client create`コマンドで指定します。

自己署名ルートCA証明書 `.pem`ファイルも必要になります。

|===
| フィールド | 概要 | あなたの価値 


 a| 
`-vserver`
 a| 
LDAPクライアント設定を作成するSVMの名前を指定します。
 a| 



 a| 
`-client-config`
 a| 
新しいLDAPクライアント設定に割り当てる名前を指定します。
 a| 



 a| 
`-ldap-servers`
 a| 
LDAPサーバのIPアドレスおよびホスト名をカンマで区切って指定します。
 a| 



 a| 
`-query-timeout`
 a| 
このワークフローではデフォルトの `3`秒を使用します。
 a| 
`3`



 a| 
`-min-bind-level`
 a| 
最小のバインド認証レベル。デフォルトは `anonymous`です。署名と封印が設定されている場合は `sasl`に設定する必要があります。
 a| 



 a| 
`-preferred-ad-servers`
 a| 
カンマで区切ったIPアドレスのリストによって、優先されるActive Directoryサーバを指定します。
 a| 



 a| 
`-ad-domain`
 a| 
Active Directoryドメインを指定します。
 a| 



 a| 
`-schema`
 a| 
使用するスキーマ テンプレートを指定します。デフォルトまたはカスタムのスキーマを使用できます。
 a| 



 a| 
`-port`
 a| 
このワークフローにはデフォルトのLDAPサーバポート `389`を使用します。
 a| 
`389`



 a| 
`-bind-dn`
 a| 
バインド ユーザの識別名を指定します。
 a| 



 a| 
`-base-dn`
 a| 
ベース識別名。デフォルトは `""`（root）です。
 a| 



 a| 
`-base-scope`
 a| 
このワークフローのデフォルトの基本検索範囲 `subnet`を使用します。
 a| 
`subnet`



 a| 
`-session-security`
 a| 
LDAP署名または署名とシーリングを有効にします。デフォルトは `none`です。
 a| 



 a| 
`-use-start-tls`
 a| 
LDAP over TLSを有効にします。デフォルトは `false`です。
 a| 

|===
*Kerberos認証のパラメータ*

これらの値は `vserver nfs kerberos realm create`コマンドで指定します。一部の値は、Microsoft Active Directory をキー配布センター（KDC）サーバとして使用するか、MIT などの UNIX KDC サーバを使用するかによって異なります。

|===


| フィールド | 概要 | あなたの価値 


 a| 
`-vserver`
 a| 
KDCと通信するSVMを指定します。
 a| 



 a| 
`-realm`
 a| 
Kerberos Realmを指定します。
 a| 



 a| 
`-clock-skew`
 a| 
クライアントとサーバの間で許可されているクロック スキューを指定します。
 a| 



 a| 
`-kdc-ip`
 a| 
KDCのIPアドレスを指定します。
 a| 



 a| 
`-kdc-port`
 a| 
KDCのポート番号を指定します。
 a| 



 a| 
`-adserver-name`
 a| 
Microsoft KDC のみ：AD サーバ名。
 a| 



 a| 
`-adserver-ip`
 a| 
Microsoft KDC のみ：AD サーバ IP アドレス。
 a| 



 a| 
`-adminserver-ip`
 a| 
UNIX KDC のみ：管理サーバの IP アドレス。
 a| 



 a| 
`-adminserver-port`
 a| 
UNIX KDC のみ：管理サーバのポート番号。
 a| 



 a| 
`-passwordserver-ip`
 a| 
UNIX KDCのみ：パスワードサーバのIPアドレス。
 a| 



 a| 
`-passwordserver-port`
 a| 
UNIX KDCのみ：パスワードサーバポート。
 a| 



 a| 
`-kdc-vendor`
 a| 
KDCベンダーを指定します。
 a| 
{ `Microsoft` | `Other` }



 a| 
`-comment`
 a| 
必要なコメントを指定します。
 a| 

|===
これらの値は `vserver nfs kerberos interface enable`コマンドで指定します。

|===


| フィールド | 概要 | あなたの価値 


 a| 
`-vserver`
 a| 
Kerberos設定を作成するSVMの名前を指定します。
 a| 



 a| 
`-lif`
 a| 
Kerberosを有効にするデータLIFを指定します。Kerberosは複数のLIFで有効にすることができます。
 a| 



 a| 
`-spn`
 a| 
サービス プリンシパル名（SPN）を指定します。
 a| 



 a| 
`-permitted-enc-types`
 a| 
NFS 経由の Kerberos に許可される暗号化タイプ。クライアントの機能に応じて `aes-256`が推奨されます。
 a| 



 a| 
`-admin-username`
 a| 
KDCからSPNシークレット キーを直接取得するためのKDC管理者のクレデンシャルを指定します。パスワードが必要です。
 a| 



 a| 
`-keytab-uri`
 a| 
KDC管理者のクレデンシャルを持っていない場合は、SPNキーが含まれているKDCのkeytabファイルを指定します。
 a| 



 a| 
`-ou`
 a| 
Microsoft KDCのRealmを使用してKerberosを有効にしたときにMicrosoft Active Directoryサーバ アカウントが作成される組織単位（OU）を指定します。
 a| 

|===


== NFS対応SVMへのストレージ容量の追加

*エクスポートポリシーとルールを作成するためのパラメータ*

これらの値は `vserver export-policy create`コマンドで指定します。

|===


| フィールド | 概要 | あなたの価値 


 a| 
`-vserver`
 a| 
新しいボリュームをホストするSVMの名前を指定します。
 a| 



 a| 
`-policyname`
 a| 
新しいエクスポート ポリシーの名前を指定します。
 a| 

|===
 `vserver export-policy rule create`コマンドを使用して、各ルールにこれらの値を指定します。

|===


| フィールド | 概要 | あなたの価値 


 a| 
`-clientmatch`
 a| 
クライアント照合を指定します。
 a| 



 a| 
`-ruleindex`
 a| 
ルール リスト内のエクスポート ルールの位置を指定します。
 a| 



 a| 
`-protocol`
 a| 
このワークフローではNFSを使用します。
 a| 
`nfs`



 a| 
`-rorule`
 a| 
読み取り専用アクセスの認証方式を指定します。
 a| 



 a| 
`-rwrule`
 a| 
読み取り / 書き込みアクセスの認証方式を指定します。
 a| 



 a| 
`-superuser`
 a| 
スーパーユーザ アクセスの認証方式を指定します。
 a| 



 a| 
`-anon`
 a| 
匿名ユーザをマッピングするユーザIDを指定します。
 a| 

|===
エクスポート ポリシーごとにルールを1つ以上作成する必要があります。

|===


| `*-ruleindex*` | `*-clientmatch*` | `*-rorule*` | `*-rwrule*` | `*-superuser*` | `*-anon*` 


 a| 
例
 a| 
0.0.0.0/0,@rootaccess_netgroup
 a| 
any
 a| 
krb5
 a| 
sys
 a| 
65534



 a| 
1
 a| 
 a| 
 a| 
 a| 
 a| 



 a| 
2
 a| 
 a| 
 a| 
 a| 
 a| 



 a| 
3
 a| 
 a| 
 a| 
 a| 
 a| 



 a| 
...
 a| 
 a| 
 a| 
 a| 
 a| 



 a| 
n
 a| 
 a| 
 a| 
 a| 
 a| 

|===
*ボリュームを作成するためのパラメータ*

qtreeではなくボリュームを作成する場合は、 `volume create`コマンドでこれらの値を指定します。

|===


| フィールド | 概要 | あなたの価値 


 a| 
`-vserver`
 a| 
新しいボリュームをホストする新規または既存のSVMの名前を指定します。
 a| 



 a| 
`-volume`
 a| 
新しいボリュームに対して、一意のわかりやすい名前を指定します。
 a| 



 a| 
`-aggregate`
 a| 
新しいNFSボリュームに対応できる十分なスペースを持つクラスタ内のアグリゲートの名前を指定します。
 a| 



 a| 
`-size`
 a| 
新しいボリュームのサイズとして任意の整数を指定します。
 a| 



 a| 
`-user`
 a| 
ボリュームのルートの所有者に設定するユーザの名前またはIDを指定します。
 a| 



 a| 
`-group`
 a| 
ボリュームのルートの所有者に設定するグループの名前またはIDを指定します。
 a| 



 a| 
`--security-style`
 a| 
このワークフローにはUNIXセキュリティ形式を使用します。
 a| 
`unix`



 a| 
`-junction-path`
 a| 
新しいボリュームのマウント先とする、ルート（/）の下の場所を指定します。
 a| 



 a| 
`-export-policy`
 a| 
既存のエクスポート ポリシーを使用する場合は、ボリュームの作成時に名前を入力できます。
 a| 

|===
*qtreeを作成するためのパラメータ*

ボリュームではなく qtree を作成する場合は、 `volume qtree create`コマンドでこれらの値を指定します。

|===


| フィールド | 概要 | あなたの価値 


 a| 
`-vserver`
 a| 
qtreeを格納するボリュームが配置されているSVMの名前を指定します。
 a| 



 a| 
`-volume`
 a| 
新しいqtreeを格納するボリュームの名前を指定します。
 a| 



 a| 
`-qtree`
 a| 
新しいqtreeに対して、一意のわかりやすい名前を64文字以内で指定します。
 a| 



 a| 
`-qtree-path`
 a| 
ボリュームとqtreeを別々の引数として指定する代わりに、 `/vol/_volume_name/qtree_name_\>`の形式でqtreeパス引数を指定できます。
 a| 



 a| 
`-unix-permissions`
 a| 
オプション：qtreeのUNIXパーミッション。
 a| 



 a| 
`-export-policy`
 a| 
既存のエクスポート ポリシーを使用する場合は、qtreeの作成時に名前を入力できます。
 a| 

|===
.関連情報
* https://docs.netapp.com/us-en/ontap-cli/["ONTAPコマンド リファレンス"^]

