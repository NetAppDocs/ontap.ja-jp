---
permalink: nfs-rdma/index.html 
sidebar: sidebar 
keywords: NFS over RDMA, GPU, NVIDIA GDX 
summary: NFS over RDMA は RDMA 対応アダプタを使用するため、CPU の中断やオーバーヘッドなしでストレージとホスト システム メモリ間で直接データをコピーできます。 
---
= ONTAPでのNFS over RDMAについて
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
NFS over RDMAはRDMA対応ネットワーク アダプタを使用するため、CPUの中断やオーバーヘッドを回避し、ストレージ システム メモリとホスト システム メモリ間でデータを直接コピーできます。

NFS over RDMA構成は、機械学習や分析など、レイテンシの影響を受けやすい、または高帯域幅を必要とするワークロードを持つお客様向けに設計されています。ONTAP NFS over RDMAは、あらゆるNFSベースのワークロードに使用できます。さらに、NVIDIAはNFS over RDMAを拡張し、GPU Direct Storage（GDS）に対応しました。GDSは、CPUとメインメモリを完全にバイパスし、RDMAを使用してストレージシステムとGPUメモリ間で直接データを転送することで、GPU対応ワークロードをさらに高速化します。

ONTAP 9.10.1以降、NFS over RDMA構成はNFSv4.0プロトコルでサポートされます。その後のONTAPリリースでは、追加のNFSバージョンのサポートが導入されました。

.要件
* 使用するNFSのバージョンに対応した、正しいバージョンのONTAPが実行されていることを確認してください。
+
[cols="2"]
|===
| NFSバージョン | ONTAPのサポート 


| NFSv4.0 | ONTAP 9.10.1以降 


| NFSv4.1 | ONTAP 9.14.1以降 


| NFSv3 | ONTAP 9.15.1以降 
|===
+
** ONTAP 9.12.1以降では、System Managerを使用してNFS over RDMAを設定できます。ONTAP 9.10.1および9.11.1では、CLIを使用してNFS over RDMAを設定する必要があります。


* 高可用性（HA）ペアの両方のノードは同じバージョンである必要があります。
* ストレージ システム コントローラは RDMA をサポートする必要があります：
+
[cols="2"]
|===
| ONTAPバージョン | RDMAをサポートするコントローラ 


| 9.10.1以降  a| 
** AFF A400用
** AFF A700用
** AFF A800




| ONTAP 9.14.1以降  a| 
** AFF Cシリーズ
** AFF A900用




| ONTAP 9.15.1以降  a| 
** AFF A1K用
** AFF A90
** AFF A70




| ONTAP 9.16.1以降  a| 
** AFF A50
** AFF A30
** AFF A20用


|===
* データLIFがRDMAをサポートするように設定されている必要があります。
* ターゲット RNIC サポートの詳細については、 https://hwu.netapp.com/["NetApp Hardware Universe"^]を参照してください。
* NFS over RDMAでサポートされているクライアント オペレーティング システムの詳細については、 https://imt.netapp.com/matrix/["NetApp相互運用性マトリックス（IMT）"^]を参照してください。RoCE v2でサポートされているRNICについては、それぞれのRNICベンダーのドキュメントを参照してください。



NOTE: インターフェイス グループは、NFS over RDMAではサポートされません。

.次の手順
* xref:./configure-nics-task.adoc[NFS over RDMA用のNICの設定]
* xref:./configure-lifs-task.adoc[NFS over RDMA用のLIFの設定]
* xref:./configure-nfs-task.adoc[NFS over RDMA用のNFS設定]


.関連情報
* link:../concepts/rdma-concept.html["RDMA"]
* xref:../nfs-trunking/index.html[NFSトランキングの概要]
* https://datatracker.ietf.org/doc/html/rfc7530["RFC 7530：NFS バージョン 4 プロトコル"^]
* https://datatracker.ietf.org/doc/html/rfc8166["RFC 8166：リモートプロシージャコール バージョン1用リモートダイレクトメモリアクセストランスポート"^]
* https://datatracker.ietf.org/doc/html/rfc8167["RFC 8167：RPC-over-RDMAトランスポートにおける双方向リモートプロシージャコール"^]
* https://datatracker.ietf.org/doc/html/rfc8267["RFC 8267：NFS上位層とRPC-over-RDMAバージョン1のバインディング"^]

