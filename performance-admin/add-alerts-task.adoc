---
permalink: performance-admin/add-alerts-task.html 
sidebar: sidebar 
keywords: add, alerts 
summary: イベントとは、事前定義された条件が発生したとき、またはパフォーマンスカウンタの値がしきい値を超えたときにActive IQ Unified Managerが自動的に生成する通知です。イベントは、監視対象のクラスタにおけるパフォーマンスの問題を特定するのに役立ちます。 
---
= ONTAP Active IQ Unified Managerアラートを追加する
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
イベントとは、事前定義された条件が発生したとき、またはパフォーマンスカウンタの値がしきい値を超えたときにActive IQ Unified Managerが自動的に生成する通知です。イベントは、監視対象のクラスタにおけるパフォーマンスの問題を特定するのに役立ちます。

特定のイベントが生成されたときに通知するようにアラートを設定できます。単一のリソース、リソースのグループ、または特定の重大度タイプのイベントに対してアラートを設定できます。通知頻度を指定し、スクリプトをアラートに関連付けることができます。

.開始する前に
* イベントが生成されたときにActive IQ Unified Managerサーバからユーザに通知を送信できるように、通知に使用するユーザのEメール アドレス、SMTPサーバ、SNMPトラップ ホストなどを設定しておく必要があります。
* アラートをトリガーするリソースとイベント、および通知するユーザのユーザ名またはEメール アドレスを確認しておく必要があります。
* イベントに基づいてスクリプトを実行する場合は、[スクリプト]ページを使用してUnified Managerにスクリプトを追加しておく必要があります。
* アプリケーション管理者またはストレージ管理者のロールが必要です。


.タスク概要
アラートは、ここで説明する手順に従って[アラート セットアップ]ページで作成できるほか、イベントを受け取ったあとに[イベントの詳細]ページで直接作成することもできます。

.手順
. 左側のナビゲーション ペインで、*ストレージ管理* > *アラート設定* をクリックします。
. *アラート設定*ページで、*追加*をクリックします。
. *アラートの追加*ダイアログボックスで、*名前*をクリックし、アラートの名前と説明を入力します。
. *Resources*をクリックし、アラートに含めるまたはアラートから除外するリソースを選択します。
+
*名前に含む*フィールドにテキスト文字列を指定してフィルタを設定すると、リソースのグループを選択できます。指定したテキスト文字列に基づいて、使用可能なリソースのリストには、フィルタルールに一致するリソースのみが表示されます。指定するテキスト文字列では大文字と小文字が区別されます。

+
あるリソースが対象に含めるルールと除外するルールの両方に該当する場合は、除外するルールが優先され、除外されたリソースに関連するイベントについてはアラートが生成されません。

. * Events *をクリックし、アラートをトリガーするイベント名またはイベント重大度タイプに基づいてイベントを選択します。
+
[TIP]
====
複数のイベントを選択するには、Ctrlキーを押しながら選択します。

====
. * アクション * をクリックし、通知するユーザーを選択し、通知頻度を選択し、トラップ受信者に SNMP トラップを送信するかどうかを選択し、アラートが生成されたときに実行するスクリプトを割り当てます。
+
[NOTE]
====
該当するユーザのEメール アドレスを変更し、その後アラートを編集するために開くと、[名前]フィールドは空欄になります。これは、Eメールが変更されたことでユーザとのマッピングが無効になったためです。また、選択したユーザのEメール アドレスを[ユーザ]ページで変更した場合、変更後のEメール アドレスは反映されません。

====
+
SNMPトラップを使用してユーザに通知することもできます。

. *保存*をクリックします。


.アラートの追加例
ここでは、次の要件を満たすアラートを作成する例を示します。

* アラート名：HealthTest
* リソース：名前に「abc」を含むすべてのボリュームを対象に含め、名前に「xyz」を含むすべてのボリュームを対象から除外する
* イベント：健全性に関するすべての重大なイベントを対象に含める
* 処理：「Test」スクリプトを割り当て、「sample@domain.com」のユーザに15分ごとに通知する


[Add Alert]ダイアログ ボックスで、次の手順を実行します。

. *名前*をクリックし、*アラート名*フィールドに `HealthTest`入力します。
. *Resources*をクリックし、Includeタブでドロップダウンリストから*Volumes*を選択します。
+
.. *名前を含む*フィールドに `abc`を入力すると、名前に「abc」が含まれるボリュームが表示されます。
.. [使用可能なリソース] 領域から *+<<All Volumes whose name contains 'abc'>>+* を選択し、[選択したリソース] 領域に移動します。
.. *除外*をクリックし、*名前に含まれる*フィールドに `xyz`を入力して、*追加*をクリックします。


. *イベント*をクリックし、イベントの重大度フィールドから*重大*を選択します。
. [一致するイベント] 領域から *すべての重要なイベント* を選択し、[選択したイベント] 領域に移動します。
. *アクション*をクリックし、「これらのユーザーに警告」フィールドに `sample@domain.com`入力します。
. ユーザーに 15 分ごとに通知するには、*15 分ごとに通知*を選択します。
+
指定した期間、受信者に繰り返し通知を送信するようにアラートを設定できます。アラートに対してイベント通知をアクティブにする時間を決める必要があります。

. [実行するスクリプトの選択] メニューで、*Test* スクリプトを選択します。
. *保存*をクリックします。

