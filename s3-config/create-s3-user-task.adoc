---
permalink: s3-config/create-s3-user-task.html 
sidebar: sidebar 
keywords: create, s3, user 
summary: 許可されたクライアントへの接続を制限するには、すべての ONTAP オブジェクトストアでユーザ許可が必要です。 
---
= S3 ユーザを作成します
:hardbreaks:
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
許可されたクライアントへの接続を制限するには、すべての ONTAP オブジェクトストアでユーザ許可が必要です。

.始める前に。
S3対応Storage VMがすでに存在している必要があります。

.このタスクについて
S3ユーザにはStorage VM内の任意のバケットへのアクセスを許可できます。S3ユーザを作成すると、そのユーザのアクセスキーとシークレットキーも生成されます。オブジェクトストアのFQDNとバケット名をユーザと共有する必要があります。S3ユーザのキーは、 `vserver object-store-server user show` コマンドを実行します

バケットポリシーまたはオブジェクトサーバポリシーで、 S3 ユーザに特定のアクセス権限を付与できます。

[NOTE]
====
新しいオブジェクトストアサーバを作成すると、ONTAPによってrootユーザ（UID 0）が作成されます。rootユーザは、すべてのバケットにアクセスできる権限を持つユーザです。NetAppでは、ONTAP S3をrootユーザとして管理するのではなく、特定の権限を指定してadminユーザロールを作成することを推奨します。

====
[role="tabbed-block"]
====
.CLI の使用
--
. S3 ユーザを作成します。
`vserver object-store-server user create -vserver svm_name -user user_name -comment [-comment text] -key-time-to-live time`
+
** コメントの追加は任意です。
** ONTAP 9.14.1以降では、キーが有効になる期間を `-key-time-to-live` パラメータ保持期間を次の形式で追加して、アクセスキーの有効期限が切れるまでの期間を指定できます。 `P[<integer>D]T[<integer>H][<integer>M][<integer>S] | P<integer>W`
たとえば、1日、2時間、3分、4秒の保持期間を入力する場合は、次のように入力します。 `P1DT2H3M4S`。指定されていないかぎり、キーは無期限に有効です。
+
次の例では、という名前のユーザを作成します。 `sm_user1` Storage VM上 `vs0`キーの保持期間は1週間です。

+
[listing]
----
vserver object-store-server user create -vserver vs0 -user sm_user1 -key-time-to-live P1W
----


. アクセスキーとシークレットキーは必ず保存してください。S3クライアントからのアクセスに必要になります。


--
.System Manager の略
--
. Storage > Storage VM* をクリックします。ユーザを追加する必要があるStorage VMを選択し、*[設定]*を選択して image:icon_pencil.gif["鉛筆のアイコン"] S3 の下。
. ユーザを追加するには、*[ユーザ]>[追加]*をクリックします。
. ユーザの名前を入力します。
. ONTAP 9.14.1以降では、ユーザに対して作成されるアクセスキーの保持期間を指定できます。キーが自動的に期限切れになるまでの保持期間を、日、時間、分、または秒で指定できます。デフォルトでは、この値は `0` これは、キーが無期限に有効であることを示します。
. [ 保存（ Save ） ] をクリックします。ユーザが作成され、そのユーザのアクセスキーとシークレットキーが生成されます。
. アクセスキーとシークレットキーをダウンロードまたは保存します。S3クライアントからのアクセスに必要になります。


--
====
.次のステップ
* xref:create-modify-groups-task.html[S3 グループを作成または変更します]

