---
permalink: s3-config/index.html 
sidebar: sidebar 
keywords: tr-4814, decide, s3, configuration, client, access, configure, object, bucket, svm 
summary: ONTAP 9.8以降では、ONTAPクラスタでONTAP Simple Storage Service（S3）オブジェクト ストレージ サーバを有効にできます。 
---
= ONTAP S3の構成について学ぶ
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
ONTAP 9.8以降では、ONTAPクラスタでONTAP Simple Storage Service（S3）オブジェクト ストレージ サーバを有効にして、ONTAP System Managerのような使い慣れた管理ツールを使用してONTAPでの開発と運用のためのハイパフォーマンスなオブジェクト ストレージを迅速にプロビジョニングしたり、ONTAPのStorage Efficiencyとセキュリティを活用したりできます。


NOTE: 2024年7月より、これまでPDF形式で公開されていたテクニカルレポートの内容がONTAP製品ドキュメントに統合されました。ONTAP S3ドキュメントには、_TR-4814：S3 in ONTAPベストプラクティス_の内容が含まれるようになりました。



== System ManagerおよびONTAP CLIを使用したS3の設定

ONTAP S3は、System ManagerおよびONTAP CLIを使用して設定および管理できます。シンプルな操作を実現するため、System ManagerでS3を有効にしてバケットを作成すると、ベストプラクティスに基づくデフォルトの設定が選択されます。設定パラメータを指定する必要がある場合は、ONTAP CLIを使用できます。S3サーバおよびバケットをCLIで設定した場合も、必要に応じてSystem Managerで管理することができ、その逆も同様です。

System Managerを使用してS3バケットを作成すると、ONTAPはシステムで利用可能な最高のデフォルトパフォーマンスサービスレベルを設定します。たとえば、AFFシステムでは、デフォルト設定は*Extreme*になります。パフォーマンスサービスレベルは、事前定義されたアダプティブQuality of Service（QoS）ポリシーグループです。デフォルトのサービスレベルの1つではなく、カスタムQoSポリシーグループまたはポリシーグループなしを指定できます。

事前に定義されたアダプティブQoSポリシー グループは次のとおりです。

* *Extreme*: 最も低いレイテンシと最高のパフォーマンスが期待されるアプリケーションに使用されます。
* *Performance*：パフォーマンスのニーズとレイテンシが中程度のアプリケーションに使用されます。
* *Value*：レイテンシよりもスループットと容量が重要なアプリケーションに使用されます。
* *カスタム*：カスタム QoS ポリシーを指定するか、QoS ポリシーを指定しません。


*階層化に使用*を選択した場合、パフォーマンスサービスレベルは選択されず、システムは階層化されたデータに最適なパフォーマンスを持つ低コストのメディアを選択しようとします。

参照：link:../performance-admin/adaptive-qos-policy-groups-task.html["アダプティブQoSポリシー グループの使用"]

ONTAPは、選択したサービス レベルを満たす、最も適切なディスクを含むローカル階層にバケットをプロビジョニングします。ただし、バケットに含めるディスクを指定する必要がある場合は、CLIでローカル階層（アグリゲート）を指定してS3オブジェクト ストレージを設定する方法もあります。CLIでS3サーバを設定した場合も、必要に応じてSystem Managerで管理できます。

バケットに使用するアグリゲートはCLIでしか指定できません。



== Cloud Volumes ONTAPでのS3バケットの設定

Cloud Volumes ONTAPからバケットを提供する場合は、基盤となるアグリゲートを手動で選択し、1つのノードのみを使用していることを確認することを強くお勧めします。両方のノードのアグリゲートを使用すると、ノードが地理的に離れたアベイラビリティゾーンに配置され、レイテンシの問題が発生しやすくなるため、パフォーマンスに影響する可能性があります。したがって、Cloud Volumes ONTAP環境では、xref:create-bucket-task.html[CLIからS3バケットを設定する]する必要があります。

そうしないと、Cloud Volumes ONTAP上のS3サーバはオンプレミス環境と同じように設定され、管理されます。
