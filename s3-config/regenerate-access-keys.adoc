---
permalink: s3-config/regenerate-access-keys.html 
sidebar: sidebar 
keywords: regenerate, s3, access keys, secret keys 
summary: S3 クライアントにアクセスするためのキーを再生成し、その有効性を変更できます。 
---
= ONTAP S3キーを再生成し、保持期間を変更する
:hardbreaks:
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
アクセス キーとシークレット キーは、S3クライアント アクセスを有効にするユーザの作成時に自動的に生成されます。キーの有効期限が切れた場合や、キーが侵害された場合には、ユーザのキーを再生成できます。

アクセスキーの生成については、link:../s3-config/create-s3-user-task.html["S3ユーザの作成"]を参照してください。

[role="tabbed-block"]
====
.System Manager
--
. *Storage > Storage VMs* をクリックし、Storage VMを選択します。
. *設定*タブで、*S3*タイルのimage:icon_pencil.gif["編集アイコン"]をクリックします。
. *Users* タブで、アクセスキーがないこと、またはユーザーのキーの有効期限が切れていることを確認します。
. キーを再生成する必要がある場合は、ユーザーの横にあるimage:icon_kabob.gif["メニューオプションアイコン"]をクリックし、*キーの再生成*をクリックします。
. デフォルトでは、生成されたキーの有効期限は無期限です。9.14.1以降では、キーの保持期間を変更できます。この期間が過ぎると、キーは自動的に期限切れになります。保持期間を日、時間、分、または秒単位で入力します。
. *保存*をクリックします。キーが再生成されます。キーの保持期間の変更は直ちに有効になります。
. アクセス キーとシークレット キーをダウンロードまたは保存します。これらは、S3クライアントからのアクセスに必要になります。


--
.CLI
--
.  `vserver object-store-server user regenerate-keys`コマンドを実行して、ユーザーのアクセスキーとシークレットキーを再生成します。
. デフォルトでは、生成されたキーは無期限に有効です。9.14.1以降では、キーの保持期間を変更できるようになりました。保持期間が過ぎると、キーは自動的に期限切れになります。保持期間は次の形式で追加できます： `P[<integer>D]T[<integer>H][<integer>M][<integer>S] | P<integer>W`例えば、1日2時間3分4秒の保持期間を入力する場合は、値を `P1DT2H3M4S`と入力します。
+
[listing]
----
vserver object-store-server user regenerate-keys -vserver svm_name -user user -key-time-to-live 0
----
. アクセス キーとシークレット キーを保存します。これらは、S3クライアントからのアクセスに必要になります。


--
====