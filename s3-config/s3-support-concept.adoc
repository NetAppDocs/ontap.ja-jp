---
permalink: s3-config/s3-support-concept.html 
sidebar: sidebar 
keywords: s3 support, ontap 9 
summary: ONTAP のバケットの基盤となるアーキテクチャは FlexGroup ボリュームです。複数のコンスティチュエントメンバーボリュームで構成される単一のネームスペースが、単一のボリュームとして管理されます。 
---
= ONTAP S3 のアーキテクチャとユースケース
:icons: font
:imagesdir: ../media/


[role="lead"]
ONTAP では、バケットの基盤となるアーキテクチャは FlexGroup ボリュームです。複数のコンスティチュエントメンバーボリュームで構成される単一のネームスペースで、単一のボリュームとして管理されます。

image::../media/fg-overview-s3-config.gif[FlexGroup ボリュームは、コンスティチュエントと呼ばれる FlexVol ボリュームのグループとして表されます]

バケットの最大値は基盤となるハードウェアの物理的な最大値によってのみ制限され、アーキテクチャの最大値が高くなる可能性があります。バケットでは、 FlexGroup エラスティックサイジングを利用して、スペースが不足した FlexGroup ボリュームのコンスティチュエントを自動的に拡張できます。FlexGroup ボリュームあたりの最大バケット数は 1000 、 FlexGroup ボリュームの容量の 1/3 （バケット内のデータ増加に対応）に制限されています。

[NOTE]
====
S3 バケットを含む FlexGroup ボリュームへの NAS プロトコルまたは SAN プロトコルアクセスは許可されません。

====
バケットへのアクセスは、許可されたユーザとクライアントアプリケーションから提供されます。

image::../media/s3-svm-layout.png[S3 SVM のレイアウト]

ONTAP S3 サービスへのクライアントアクセスの主なユースケースは 3 つあります。

* FabricPool S3 をリモートの ONTAP 大容量（クラウド）階層として使用する ONTAP システムでは
+
大容量階層を含む S3 サーバとバケット（ _cold_data 用）は、パフォーマンス階層（ hot_data 用）とは別のクラスタにあります。

* FabricPool S3 をローカル ONTAP 階層として使用する ONTAP システムでは
+
大容量階層を含む S3 サーバとバケットは、パフォーマンス階層と同じクラスタにありますが、別の HA ペアにあります。

* 外部の S3 クライアントアプリケーション用
+
ONTAP S3 は、ネットアップ以外のシステムで実行される S3 クライアントアプリケーションに対応します。



ONTAP S3 バケットへのアクセスには、 HTTPS を使用することを推奨します。HTTPS を有効にすると、 SSL/TLS との適切な統合のためにセキュリティ証明書が必要になります。これにより、クライアントユーザ「アクセスキーとシークレットキー」は、 ONTAP S3 でユーザを認証するとともに、 ONTAP S3 内での処理に対するユーザのアクセス権限を許可するために必要になります。また、クライアントアプリケーションがサーバを認証してクライアントとサーバの間にセキュアな接続を確立できるように、ルート CA 証明書（ ONTAP S3 サーバの署名済み証明書）にもアクセスできる必要があります。

ユーザは S3 対応 SVM 内に作成され、アクセス権限はバケットレベルまたは SVM レベルで制御できます。つまり、 SVM 内の 1 つ以上のバケットへのアクセスを許可できます。

ONTAP S3 サーバでは、 HTTPS がデフォルトで有効になっています。HTTPS を無効にして、クライアントアクセスに対して HTTP を有効にすることができます。その場合、 CA 証明書を使用した認証は必要ありません。ただし、 HTTP が有効で HTTPS が無効な場合、 ONTAP S3 サーバとのすべての通信がクリアテキストでネットワーク経由で送信されます。

追加情報の場合は、を参照してください https://www.netapp.com/pdf.html?item=/media/17219-tr4814pdf.pdf["テクニカルレポート：『 S3 in ONTAP Best Practices 』"]

link:../flexgroup/index.html["FlexGroup ボリューム管理"]
