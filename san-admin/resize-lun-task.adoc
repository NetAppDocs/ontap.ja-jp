---
permalink: san-admin/resize-lun-task.html 
sidebar: sidebar 
keywords: decrease, increase, resize, size, modify, change, lun 
summary: LUNのサイズは増やすことも減らすこともできます。 
---
= ONTAPでLUNのサイズを変更する
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
LUNのサイズは増やすことも減らすこともできます。

.タスク概要
この手順は、FAS、AFF、およびASAシステムに適用されます。ASA r2システム（ASA A1K、ASA A90、ASA A70、ASA A50、ASA A30、ASA A20、またはASA C30）をご利用の場合は、link:https://docs.netapp.com/us-en/asa-r2/manage-data/modify-storage-units.html["これらの手順"^]に従ってストレージユニットのサイズを増やしてください。ASA r2システムは、SANのみをご利用のお客様向けに、簡素化されたONTAPエクスペリエンスを提供します。

[NOTE]
====
Solaris LUNのサイズは変更できません。

====


== LUNのサイズの拡張

LUNのサイズをどこまで拡張できるかは、ONTAPのバージョンによって異なります。

|===


| ONTAPのバージョン | LUNの最大サイズ 


| ONTAP 9.12.1P2以降  a| 
AFF、FAS、ASAプラットフォームの場合は128TB



| ONTAP 9.8以降  a| 
* オールフラッシュSANアレイ（ASA）プラットフォームの場合は128TB
* ASA以外のプラットフォームの場合は16TB




| ONTAP 9.5、9.6、9.7 | 16 TB 


| ONTAP 9.4以前 | 元のLUNサイズの10倍ですが、LUNの最大サイズである16TBを超えることはできません。例えば、100GBのLUNを作成した場合、拡張できるのは1,000GBまでです。LUNの実際の最大サイズは16TBと異なる場合があります。ONTAPは、この制限値をわずかに下回る値に切り捨てます。 
|===
サイズを拡張するときに、LUNをオフラインにする必要はありません。ただし、サイズを拡張したあとでホストがサイズの変更を認識するには、ホスト上のLUNを再スキャンする必要があります。

.手順
[role="tabbed-block"]
====
.System Manager
--
ONTAP System Manager（9.7以降）でLUNのサイズを拡張します。

. System Managerで、*ストレージ > LUN*をクリックします。
. image:icon_kabob.gif["メニューオプションアイコン"]をクリックして*編集*を選択します。
. *ストレージと最適化*で、LUNのサイズを増やして*保存*します。


--
.CLI
--
ONTAP CLIでLUNのサイズを拡張します。

. LUNのサイズを拡張します。
+
[source, cli]
----
lun resize -vserver <SVM_name> -volume <volume_name> -lun <lun_name> -size <lun_size>
----
+
 `lun resize`の詳細については、link:https://docs.netapp.com/us-en/ontap-cli//lun-resize.html#description["ONTAPコマンド リファレンス"^]を参照してください。

. 拡張したLUNのサイズを確認します。
+
[source, cli]
----
lun show -vserver <SVM_name>
----
+
[NOTE]
====
ONTAP処理ではLUNの実際の最大サイズの端数が切り捨てられるため、想定値よりも少し小さくなります。また、LUNの実際のサイズはLUNのOSタイプによって多少異なります。サイズ変更後の正確な値を確認するには、advancedモードで次のコマンドを実行します。

`set -unit B`

`lun show -fields max-resize-size -volume _volume_name_ -lun _lun_name_`

====
+
 `lun show`の詳細については、link:https://docs.netapp.com/us-en/ontap-cli/lun-show.html["ONTAPコマンド リファレンス"^]を参照してください。

. ホスト上のLUNを再スキャンします。
. ホストのマニュアルに従って、新しく作成したLUNのサイズをホスト ファイルシステムに認識させます。


--
====


== LUNのサイズの縮小

LUNのサイズを縮小する前に、ホストがLUNデータを含むブロックを小さいLUNサイズの境界に移行する必要があります。LUNデータを含むブロックを切り捨てずにLUNのサイズを適切に縮小するには、SnapCenterなどのツールを使用してください。LUNのサイズを手動で縮小することは推奨されません。

LUNのサイズを縮小すると、サイズが縮小されたことが、ONTAPからイニシエータに自動的に通知されます。ただし、ホストが新しいLUNサイズを認識するには、ホストで追加の手順が必要になることがあります。ホストのファイル構造のサイズの縮小に固有の情報については、ホストのマニュアルを参照してください。
