---
permalink: smb-admin/access-snapshot-directories-clients-smb2-concept.html 
sidebar: sidebar 
keywords: method, access, snapshot, directory, windows, client, smb, data, store, copies, copy, how to access the snapshot directory from windows clients using smb 2.x 
summary: SMB 2.x を使用する Windows クライアントから ~snapshot ディレクトリにアクセスする方法は、SMB 1.0 で使用される方法とは異なります。SMB 2.x 接続を使用してスナップショットに保存されたデータに正常にアクセスするには、~snapshot ディレクトリへのアクセス方法を理解する必要があります。 
---
= SMB 2.xを使用してWindowsクライアントからONTAP ~snapshotディレクトリにアクセスする方法について学習します
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
SMB 2.x を使用する Windows クライアントから `~snapshot`ディレクトリにアクセスする方法は、SMB 1.0 で使用する方法とは異なります。スナップショットに保存されているデータに正常にアクセスするには、SMB 2.x 接続を使用して `~snapshot`ディレクトリにアクセスする方法を理解する必要があります。

SVM 管理者は、vserver cifs share properties ファミリのコマンドを使用して `showsnapshot`共有プロパティを有効または無効にすることで、Windows クライアント上のユーザーが共有上の `~snapshot`ディレクトリを表示およびアクセスできるかどうかを制御します。

 `showsnapshot`共有プロパティが無効になっている場合、SMB 2.x を使用する Windows クライアント上のユーザーは `~snapshot`ディレクトリを表示できず、 `~snapshot`ディレクトリへのパスまたは `~snapshot`ディレクトリ内の特定のスナップショットへのパスを手動で入力しても、ディレクトリ内のスナップショットにアクセスできません。

 `showsnapshot`共有プロパティが有効になっている場合でも、SMB 2.xを使用するWindowsクライアントのユーザーは、共有のルート、または共有のルート直下のジャンクションやディレクトリ内の `~snapshot`ディレクトリを表示できません。ただし、共有に接続した後、ユーザーは共有パスの末尾に `\~snapshot`を手動で追加することで、隠し `~snapshot`ディレクトリにアクセスできます。隠し `~snapshot`ディレクトリには、以下の2つのエントリポイントからアクセスできます（）

* 共有のルート
* 共有スペースのすべてのジャンクション ポイント


隠し `~snapshot`ディレクトリには、共有内のジャンクション以外のサブディレクトリからはアクセスできません。

.例
以下の例に示す設定では、SMB 2.x接続で「`eng`」共有に接続しているWindowsクライアントのユーザーは、共有のルートとパス上のすべての接続点に `\~snapshot`を手動で追加することで、 `~snapshot`ディレクトリにアクセスできます。隠し `~snapshot`ディレクトリには、以下の3つのパスからアクセスできます：

* `\\vs1\eng\~snapshot`
* `\\vs1\eng\projects1\~snapshot`
* `\\vs1\eng\projects2\~snapshot`


[listing]
----
cluster1::> volume show -vserver vs1 -fields volume,junction-path
vserver volume       junction-path
------- ------------ ----------------------------------------
vs1     vs1_root      /
vs1     vs1_vol1      /eng
vs1     vs1_vol2      /eng/projects1
vs1     vs1_vol3      /eng/projects2

cluster1::> vserver cifs share show
Vserver  Share   Path     Properties    Comment  ACL
-------- ------  -------  ----------    -------- ----------
vs1      eng     /eng     oplocks       -        Everyone / Full Control
                          changenotify
                          browsable
                          showsnapshot
----