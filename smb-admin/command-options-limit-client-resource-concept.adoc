---
permalink: smb-admin/command-options-limit-client-resource-concept.html 
sidebar: sidebar 
keywords: option, vserver, cifs, modify, command, enable, control, resource, consumption, windows, client, bound, notify, request, command options to limit excessive windows client resource consumption 
summary: vserver cifs options modifyコマンドのオプションを使用すると、Windowsクライアントのリソース消費を制御できます。これは、クライアントのリソース消費が通常の範囲を超えている場合、例えば、開いているファイル、開いているセッション、または変更通知要求の数が異常に多い場合などに役立ちます。 
---
= 過剰な Windows クライアントのリソース消費を制限するための ONTAP コマンドオプション
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
 `vserver cifs options modify`コマンドのオプションを使用すると、Windowsクライアントのリソース消費を制御できます。これは、クライアントのリソース消費量が通常の範囲を超えている場合（例えば、開いているファイル、開いているセッション、変更通知要求の数が異常に多い場合など）に役立ちます。

 `vserver cifs options modify`コマンドに、Windowsクライアントのリソース消費を制御するための以下のオプションが追加されました。これらのオプションのいずれかの最大値を超えた場合、要求は拒否され、EMSメッセージが送信されます。また、これらのオプションに設定された制限値の80%に達した場合も、EMS警告メッセージが送信されます。

* `-max-opens-same-file-per-tree`
+
CIFSツリーあたりの同じファイルの最大オープン数

* `-max-same-user-sessions-per-connection`
+
同じユーザによる接続あたりの最大オープン セッション数

* `-max-same-tree-connect-per-session`
+
同じ共有に対するセッションあたりの最大ツリー接続数

* `-max-watches-set-per-tree`
+
ツリーごとに確立されるウォッチ（_change notifies_とも呼ばれる）の最大数



 `vserver cifs options modify`の詳細については、link:https://docs.netapp.com/us-en/ontap-cli/vserver-cifs-options-modify.html["ONTAPコマンド リファレンス"^]をご覧ください。

ONTAP 9.4以降、SMBバージョン2以降を実行するサーバでは、クライアントがSMB接続でサーバに送信できる未処理の要求（_SMBクレジット_）の数を制限できます。SMBクレジットの管理はクライアントによって開始され、サーバによって制御されます。

SMB接続で許可できる未処理リクエストの最大数は、 `-max-credits`オプションによって制御されます。このオプションのデフォルト値は128です。
