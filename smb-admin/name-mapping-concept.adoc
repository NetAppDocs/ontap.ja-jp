---
permalink: smb-admin/name-mapping-concept.html 
sidebar: sidebar 
keywords: ontap, map, credential, user, local, name, map, database, ldap, server, exist, service, configuration, svm, how name mapping works 
summary: ONTAPでユーザのクレデンシャルをマッピングする必要がある場合は、まずローカルのネームマッピングデータベースとLDAPサーバで既存のマッピングの有無を確認します。一方をチェックするか両方をチェックするか、およびそのチェック順序は、SVMのネームサービスの設定で決まります。 
---
= ネームマッピングの仕組み
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
ONTAPでユーザのクレデンシャルをマッピングする必要がある場合は、まずローカルのネームマッピングデータベースとLDAPサーバで既存のマッピングの有無を確認します。一方をチェックするか両方をチェックするか、およびそのチェック順序は、SVMのネームサービスの設定で決まります。

* WindowsからUNIXへのマッピングの場合
+
マッピングが見つからなかった場合、ONTAPは小文字のWindowsユーザ名がUNIXドメインで有効かどうかを確認します。見つからない場合は、デフォルトのUNIXユーザを使用します（設定済みの場合）。デフォルトのUNIXユーザが設定されておらず、この方法でもONTAPがマッピングを取得できない場合、マッピングは失敗し、エラーが返されます。

* UNIXからWindowsへのマッピングの場合
+
マッピングが見つからなかった場合、ONTAPはSMBドメインでUNIX名と一致するWindowsアカウントを探します。見つからない場合は、デフォルトのSMBユーザを使用します（設定済みの場合）。デフォルトのCIFSユーザが設定されておらず、この方法でもONTAPがマッピングを取得できない場合、マッピングは失敗し、エラーが返されます。



マシンアカウントは、デフォルトで指定されたデフォルトのUNIXユーザにマッピングされます。デフォルトのUNIXユーザが指定されていない場合、マシンアカウントのマッピングは失敗します。

* ONTAP 9 .5以降では、マシンアカウントをデフォルトのUNIXユーザ以外のユーザにマッピングできます。
* ONTAP 9 .4以前では、マシンアカウントを他のユーザにマッピングすることはできません。
+
マシンアカウントのネームマッピングが定義されていても、それらのマッピングは無視されます。


