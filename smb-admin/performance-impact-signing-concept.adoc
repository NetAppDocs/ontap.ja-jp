---
permalink: smb-admin/performance-impact-signing-concept.html 
sidebar: sidebar 
keywords: smb, session, sign, communication, windows, client, experience, performance, impact, affect, server, performance impact of smb signing 
summary: SMBセッションでSMB署名を使用すると、SMBとWindowsクライアント間のすべての通信でパフォーマンスが低下し、クライアントとサーバ（SMBサーバを含むSVMを実行中のクラスタ ノード）の両方が影響を受けます。 
---
= ONTAP SMB署名のパフォーマンスへの影響について学ぶ
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
SMBセッションでSMB署名を使用すると、SMBとWindowsクライアント間のすべての通信でパフォーマンスが低下し、クライアントとサーバ（SMBサーバを含むSVMを実行中のクラスタ ノード）の両方が影響を受けます。

パフォーマンスへの影響は、ネットワーク トラフィックの量に変化がないにもかかわらずクライアントとサーバ両方のCPU使用率が増加する形で表れます。

その程度は、実行しているONTAP 9のバージョンによって異なります。ONTAP 9.7以降では、新しい暗号化オフロード アルゴリズムによって署名済みSMBトラフィックのパフォーマンスを向上させることができます。SMB署名オフロードは、SMB署名が有効になっている場合はデフォルトで有効になります。

SMB署名のパフォーマンス向上には、AES-NIオフロード機能が必要です。ご使用のプラットフォームでAES-NIオフロードがサポートされていることを確認するには、Hardware Universe（HWU）を参照してください。

SMBバージョン3.11を使用できる場合は、より高速なGCMアルゴリズムがサポートされるため、さらなるパフォーマンスの向上が可能です。

ネットワーク、ONTAP 9のバージョン、SMBのバージョン、およびSVMの実装方法に応じてSMB署名のパフォーマンスへの影響は大幅に変わってくるため、検証するためには使用しているネットワーク環境でテストを実施する必要があります。

ほとんどのWindowsクライアントは、サーバでSMB署名が有効になっている場合は、SMB署名をデフォルトでネゴシエートします。Windowsクライアントの一部でSMB保護が必要で、SMB署名がパフォーマンスの問題を引き起こしている場合は、リプレイ アタックからの保護を必要としないWindowsクライアントに対してSMB署名を無効にすることができます。WindowsクライアントでのSMB署名の無効化については、Microsoft Windowsのマニュアルを参照してください。
