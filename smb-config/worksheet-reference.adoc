---
permalink: smb-config/worksheet-reference.html 
sidebar: sidebar 
keywords: smb, configuration, worksheet, enable, collect, require, information, access, client, worksheet, gather, cifs, worksheet for gathering SMB configuration information 
summary: SMB設定ワークシートを使用すると、クライアントのSMBアクセスを設定するために必要な情報を収集できます。 
---
= ONTAP SMB 構成ワークシート
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
SMB設定ワークシートを使用すると、クライアントのSMBアクセスを設定するために必要な情報を収集できます。

ストレージをプロビジョニングする場所についての決定に応じて、ワークシートの 1 つまたは両方のセクションを完了する必要があります：

* SVMへのSMBアクセスを設定する場合は、両方のセクションを完了する必要があります。
+
xref:configure-access-svm-task.adoc[SVMへのSMBアクセスの設定]

+
xref:configure-client-access-shared-storage-concept.adoc[共有ストレージへの SMB クライアント アクセスの設定]

* SMB対応SVMにストレージ容量を追加する場合は、2番目のセクションのみを完了する必要があります。
+
xref:configure-client-access-shared-storage-concept.adoc[共有ストレージへの SMB クライアント アクセスの設定]



link:https://docs.netapp.com/us-en/ontap-cli/["ONTAPコマンド リファレンス"^]のパラメータの詳細については、こちらをご覧ください。



== SVMへのSMBアクセスの設定

*SVMを作成するためのパラメータ*

新しいSVMを作成する場合は、 `vserver create`コマンドでこれらの値を指定します。link:https://docs.netapp.com/us-en/ontap-cli/vserver-create.html["ONTAPコマンド リファレンス"^]の `vserver create`の詳細をご覧ください。

|===
| フィールド | 概要 | あなたの価値 


 a| 
`-vserver`
 a| 
新しいSVMの名前を指定します。完全修飾ドメイン名（FQDN）を指定するか、クラスタ内で一意のSVM名を適用する別の命名規則に従います。
 a| 



 a| 
`-aggregate`
 a| 
新しいSMBストレージ容量に対応できる十分なスペースを持つクラスタ内のアグリゲートの名前を指定します。
 a| 



 a| 
`-rootvolume`
 a| 
SVMルート ボリュームの一意の名前を指定します。
 a| 



 a| 
`-rootvolume-security-style`
 a| 
SVMのNTFSセキュリティ形式を使用します。
 a| 
`ntfs`



 a| 
`-language`
 a| 
このワークフローではデフォルトの言語設定を使用します。
 a| 
`C.UTF-8`



 a| 
`ipspace`
 a| 
オプション：IPspace は、SVM が存在する個別の IP アドレス空間です。
 a| 

|===
*LIFを作成するためのパラメータ*

これらの値は、LIFを作成する際に `network interface create`コマンドで指定します。link:https://docs.netapp.com/us-en/ontap-cli/network-interface-create.html["ONTAPコマンド リファレンス"^]の `network interface create`の詳細を確認してください。

|===
| フィールド | 概要 | あなたの価値 


 a| 
`-lif`
 a| 
新しいLIFの名前を指定します。
 a| 



 a| 
`-role`
 a| 
このワークフローではデータLIFのロールを使用します。
 a| 
`data`



 a| 
`-data-protocol`
 a| 
このワークフローではSMBプロトコルのみを使用します。
 a| 
`cifs`



 a| 
`-home-node`
 a| 
 `network interface revert`コマンドがLIF上で実行されたときにLIFが戻るノード。

 `network interface revert`の詳細については、link:https://docs.netapp.com/us-en/ontap-cli/network-interface-revert.html["ONTAPコマンド リファレンス"^]を参照してください。
 a| 



 a| 
`-home-port`
 a| 
 `network interface revert`コマンドがLIFで実行されたときにLIFが戻るポートまたはインターフェイスグループ。
 a| 



 a| 
`-address`
 a| 
新しいLIFによるデータ アクセスに使用されるクラスタ上のIPv4またはIPv6アドレスを指定します。
 a| 



 a| 
`-netmask`
 a| 
LIFのネットワーク マスクとゲートウェイを指定します。
 a| 



 a| 
`-subnet`
 a| 
IPアドレスのプール。 `-address`と `-netmask`の代わりに使用され、アドレスとネットマスクを自動的に割り当てます。
 a| 



 a| 
`-firewall-policy`
 a| 
このワークフローではデフォルトのデータ ファイアウォール ポリシーを使用します。
 a| 
`data`



 a| 
`-auto-revert`
 a| 
オプション：起動時またはその他の状況で、データLIFが自動的にホームノードに戻るかどうかを指定します。デフォルト設定は `false`です。
 a| 

|===
*DNSホスト名解決のパラメータ*

これらの値は、DNSを設定する際に `vserver services name-service dns create`コマンドで指定します。link:https://docs.netapp.com/us-en/ontap-cli/vserver-services-name-service-dns-create.html["ONTAPコマンド リファレンス"^]の `vserver services name-service dns create`の詳細をご覧ください。

|===
| フィールド | 概要 | あなたの価値 


 a| 
`-domains`
 a| 
最大5つのDNSドメイン名を指定します。
 a| 



 a| 
`-name-servers`
 a| 
DNSネーム サーバごとに最大3つのIPアドレスを指定します。
 a| 

|===


== Active DirectoryドメインでのSMBサーバのセットアップ

*タイム サービス設定のパラメータ*

これらの値は、タイムサービスを設定する際に `cluster time-service ntp server create`コマンドで指定します。link:https://docs.netapp.com/us-en/ontap-cli/cluster-time-service-ntp-server-create.html["ONTAPコマンド リファレンス"^]の `cluster time-service ntp server create`の詳細をご覧ください。

|===
| フィールド | 概要 | あなたの価値 


 a| 
`-server`
 a| 
Active Directory ドメインの NTP サーバのホスト名または IP アドレス。
 a| 

|===
*Active Directoryドメインに SMB サーバを作成するためのパラメータ*

新しいSMBサーバーを作成し、ドメイン情報を指定する際に、 `vserver cifs create`コマンドでこれらの値を指定します。link:https://docs.netapp.com/us-en/ontap-cli/vserver-cifs-create.html["ONTAPコマンド リファレンス"^]の `vserver cifs create`の詳細を確認してください。

|===
| フィールド | 概要 | あなたの価値 


 a| 
`-vserver`
 a| 
SMB サーバーを作成する SVM の名前。
 a| 



 a| 
`-cifs-server`
 a| 
SMB サーバーの名前（最大 15 文字）。
 a| 



 a| 
`-domain`
 a| 
SMB サーバーに関連付ける Active Directory ドメインの完全修飾ドメイン名（FQDN）。
 a| 



 a| 
`-ou`
 a| 
オプション：SMB サーバに関連付ける Active Directory ドメイン内の組織単位。デフォルトでは、このパラメータは CN=Computers に設定されています。
 a| 



 a| 
`-netbios-aliases`
 a| 
オプション：SMB サーバー名の別名である NetBIOS エイリアスのリスト。
 a| 



 a| 
`-comment`
 a| 
オプション：サーバーに関するテキストコメント。Windowsクライアントは、ネットワーク上のサーバーを参照する際に、このSMBサーバーの説明を参照できます。
 a| 

|===


== ワークグループでのSMBサーバのセットアップ

*ワークグループにSMBサーバを作成するためのパラメータ*

新しいSMBサーバを作成し、サポートされるSMBバージョンを指定する際に、 `vserver cifs create`コマンドでこれらの値を指定します。link:https://docs.netapp.com/us-en/ontap-cli/vserver-cifs-create.html["ONTAPコマンド リファレンス"^]の `vserver cifs create`の詳細を確認してください。

|===
| フィールド | 概要 | あなたの価値 


 a| 
`-vserver`
 a| 
SMB サーバーを作成する SVM の名前。
 a| 



 a| 
`-cifs-server`
 a| 
SMB サーバーの名前（最大 15 文字）。
 a| 



 a| 
`-workgroup`
 a| 
ワークグループの名前（最大 15 文字）。
 a| 



 a| 
`-comment`
 a| 
オプション：サーバーに関するテキストコメント。Windowsクライアントは、ネットワーク上のサーバーを参照する際に、このSMBサーバーの説明を参照できます。
 a| 

|===
*ローカルユーザを作成するためのパラメータ*

これらの値は、 `vserver cifs users-and-groups local-user create`コマンドを使用してローカル ユーザを作成する際に指定します。ワークグループ内のSMBサーバでは必須ですが、ADドメインではオプションです。 `vserver cifs users-and-groups local-user create`の詳細については、link:https://docs.netapp.com/us-en/ontap-cli/vserver-cifs-users-and-groups-local-user-create.html["ONTAPコマンド リファレンス"^]を参照してください。

|===
| フィールド | 概要 | あなたの価値 


 a| 
`-vserver`
 a| 
ローカル ユーザーを作成する SVM の名前。
 a| 



 a| 
`-user-name`
 a| 
ローカル ユーザーの名前（最大 20 文字）。
 a| 



 a| 
`-full-name`
 a| 
オプション：ユーザーのフルネーム。フルネームにスペースが含まれる場合は、フルネームを二重引用符で囲みます。
 a| 



 a| 
`-description`
 a| 
オプション：ローカル ユーザの概要。概要にスペースが含まれている場合は、パラメータを引用符で囲みます。
 a| 



 a| 
`-is-account-disabled`
 a| 
オプション：ユーザ アカウントが有効か無効かを指定します。このパラメータを指定しない場合、ユーザ アカウントはデフォルトで有効になります。
 a| 

|===
*ローカルグループを作成するためのパラメータ*

これらの値は、 `vserver cifs users-and-groups local-group create`コマンドを使用してローカルグループを作成する際に指定します。ADドメインおよびワークグループ内のSMBサーバーではオプションです。link:https://docs.netapp.com/us-en/ontap-cli/vserver-cifs-users-and-groups-local-group-create.html["ONTAPコマンド リファレンス"^]の `vserver cifs users-and-groups local-group create`の詳細をご覧ください。

|===
| フィールド | 概要 | あなたの価値 


 a| 
`-vserver`
 a| 
ローカル グループを作成する SVM の名前。
 a| 



 a| 
`-group-name`
 a| 
ローカル グループの名前（最大 256 文字）。
 a| 



 a| 
`-description`
 a| 
オプション：ローカル グループの説明。説明にスペースが含まれる場合は、パラメータを引用符で囲んでください。
 a| 

|===


== SMB対応SVMへのストレージ容量の追加

*ボリュームを作成するためのパラメータ*

qtree ではなくボリュームを作成する場合は、 `volume create`コマンドでこれらの値を指定します。link:https://docs.netapp.com/us-en/ontap-cli/volume-create.html["ONTAPコマンド リファレンス"^]の `volume create`の詳細を参照してください。

|===
| フィールド | 概要 | あなたの価値 


 a| 
`-vserver`
 a| 
新しいボリュームをホストする新規または既存のSVMの名前を指定します。
 a| 



 a| 
`-volume`
 a| 
新しいボリュームに対して、一意のわかりやすい名前を指定します。
 a| 



 a| 
`-aggregate`
 a| 
新しいSMBボリュームに対応できる十分なスペースを持つクラスタ内のアグリゲートの名前を指定します。
 a| 



 a| 
`-size`
 a| 
新しいボリュームのサイズとして任意の整数を指定します。
 a| 



 a| 
`-security-style`
 a| 
このワークフローにはNTFSセキュリティ形式を使用します。
 a| 
`ntfs`



 a| 
`-junction-path`
 a| 
新しいボリュームのマウント先とする、ルート（/）の下の場所を指定します。
 a| 

|===
*qtreeを作成するためのパラメータ*

ボリュームではなくqtreeを作成する場合は、 `volume qtree create`コマンドでこれらの値を指定します。link:https://docs.netapp.com/us-en/ontap-cli/volume-qtree-create.html["ONTAPコマンド リファレンス"^]の `volume qtree create`の詳細を確認してください。

|===
| フィールド | 概要 | あなたの価値 


 a| 
`-vserver`
 a| 
qtreeを格納するボリュームが配置されているSVMの名前を指定します。
 a| 



 a| 
`-volume`
 a| 
新しいqtreeを格納するボリュームの名前を指定します。
 a| 



 a| 
`-qtree`
 a| 
新しいqtreeに対して、一意のわかりやすい名前を64文字以内で指定します。
 a| 



 a| 
`-qtree-path`
 a| 
ボリュームとqtreeを別々の引数として指定する代わりに、 `/vol/volume_name/qtree_name\>`形式でqtreeパス引数を指定できます。
 a| 

|===
*SMB 共有を作成するためのパラメータ*

これらの値は `vserver cifs share create`コマンドで指定します。 `vserver cifs share create`の詳細については、link:https://docs.netapp.com/us-en/ontap-cli/vserver-cifs-share-create.html["ONTAPコマンド リファレンス"^]を参照してください。

|===
| フィールド | 概要 | あなたの価値 


 a| 
`-vserver`
 a| 
SMB 共有を作成する SVM の名前。
 a| 



 a| 
`-share-name`
 a| 
作成する SMB 共有の名前（最大 256 文字）。
 a| 



 a| 
`-path`
 a| 
SMB共有へのパス名（最大256文字）。このパスは、共有を作成する前にボリューム内に存在している必要があります。
 a| 



 a| 
`-share-properties`
 a| 
オプション：共有プロパティのリスト。デフォルト設定は `oplocks`、 `browsable`、 `changenotify`、および `show-previous-versions`です。
 a| 



 a| 
`-comment`
 a| 
オプション：サーバーへのテキストコメント（最大256文字）。Windowsクライアントは、ネットワークを閲覧する際にこのSMB共有の説明を参照できます。
 a| 

|===
*SMB 共有アクセス制御リスト（ACL）を作成するためのパラメータ*

これらの値は `vserver cifs share access-control create`コマンドで指定します。 `vserver cifs share access-control create`の詳細については、link:https://docs.netapp.com/us-en/ontap-cli/vserver-cifs-share-access-control-create.html["ONTAPコマンド リファレンス"^]を参照してください。

|===
| フィールド | 概要 | あなたの価値 


 a| 
`-vserver`
 a| 
SMB ACL を作成する SVM の名前。
 a| 



 a| 
`-share`
 a| 
作成する SMB 共有の名前。
 a| 



 a| 
`-user-group-type`
 a| 
共有の ACL に追加するユーザまたはグループのタイプ。デフォルトのタイプは `windows`です。
 a| 
`windows`



 a| 
`-user-or-group`
 a| 
共有のACLに追加するユーザーまたはグループ。ユーザー名を指定する場合は、「`domain\username`」という形式でユーザーのドメインを含める必要があります。
 a| 



 a| 
`-permission`
 a| 
ユーザまたはグループの権限を指定します。
 a| 
`[ No_access | Read | Change | Full_Control ]`

|===