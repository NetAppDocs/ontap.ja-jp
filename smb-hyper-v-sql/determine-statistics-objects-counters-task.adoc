---
permalink: smb-hyper-v-sql/determine-statistics-objects-counters-task.html 
sidebar: sidebar 
keywords: determine, statistics, objects, counters, cifs, smb, audit, branchcache, hash, monitor, performance 
summary: CIFS、SMB、監査、およびBranchCacheハッシュの統計に関する情報を取得し、パフォーマンスを監視する前に、データの取得に使用できるオブジェクトとカウンタを確認しておく必要があります。 
---
= ONTAPで使用可能な統計オブジェクトとカウンタを確認する
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
CIFS、SMB、監査、およびBranchCacheハッシュの統計に関する情報を取得し、パフォーマンスを監視する前に、データの取得に使用できるオブジェクトとカウンタを確認しておく必要があります。

.手順
. 権限レベルをadvancedに設定します。
+
`set -privilege advanced`

. 次のいずれかを実行します。
+
|===
| 決定したい場合は... | 入力する内容 


 a| 
使用可能なオブジェクト
 a| 
`statistics catalog object show`



 a| 
使用可能な特定のオブジェクトに関する情報
 a| 
`statistics catalog object show -object _object_name_`



 a| 
使用可能なカウンタ
 a| 
`statistics catalog counter show -object _object_name_`

|===
+
 `statistics catalog object show`および `statistics catalog counter show`の詳細については、link:https://docs.netapp.com/us-en/ontap-cli/search.html?q=statistics+catalog["ONTAPコマンド リファレンス"^]をご覧ください。

. admin権限レベルに戻ります。
+
`set -privilege admin`



.例
次のコマンドを実行すると、advanced権限レベルで表示したときの、クラスタ内のCIFSおよびSMBアクセスに関連する特定の統計オブジェクトの説明が表示されます。

[listing]
----
cluster1::> set -privilege advanced

Warning: These advanced commands are potentially dangerous; use them only when directed to do so by support personnel.
Do you want to continue? {y|n}: y

cluster1::*> statistics catalog object show -object audit
    audit_ng                    CM object for exporting audit_ng performance counters

cluster1::*> statistics catalog object show -object cifs
    cifs                        The CIFS object reports activity of the
                                Common Internet File System protocol
                                ...

cluster1::*> statistics catalog object show -object nblade_cifs
    nblade_cifs                 The Common Internet File System (CIFS)
                                protocol is an implementation of the Server
                                ...

cluster1::*> statistics catalog object show -object smb1
    smb1                        These counters report activity from the SMB
                                revision of the protocol. For information
                                ...

cluster1::*> statistics catalog object show -object smb2
    smb2                        These counters report activity from the
                                SMB2/SMB3 revision of the protocol. For
                                ...

cluster1::*> statistics catalog object show -object hashd
    hashd                       The hashd object provides counters to measure
                                the performance of the BranchCache hash daemon.
cluster1::*> set -privilege admin
----
次のコマンドは、高度な権限レベルで表示される `cifs`オブジェクトのいくつかのカウンターに関する情報を表示します。

[NOTE]
====
この例では、 `cifs`オブジェクトに使用可能なすべてのカウンターが表示されるわけではなく、出力は切り捨てられます。

====
[listing]
----
cluster1::> set -privilege advanced

Warning: These advanced commands are potentially dangerous; use them only when directed to do so by support personnel.
Do you want to continue? {y|n}: y

cluster1::*> statistics catalog counter show -object cifs

Object: cifs
    Counter                     Description
    --------------------------- ----------------------------------------------
    active_searches             Number of active searches over SMB and SMB2
    auth_reject_too_many        Authentication refused after too many
                                requests were made in rapid succession
    avg_directory_depth         Average number of directories crossed by SMB
                                and SMB2 path-based commands
    ...                         ...

cluster2::> statistics start -object client -sample-id
Object: client
    Counter                                                     Value
    -------------------------------- --------------------------------
    cifs_ops                                                        0
    cifs_read_ops                                                   0
    cifs_read_recv_ops                                              0
    cifs_read_recv_size                                            0B
    cifs_read_size                                                 0B
    cifs_write_ops                                                  0
    cifs_write_recv_ops                                             0
    cifs_write_recv_size                                           0B
    cifs_write_size                                                0B
    instance_name                             vserver_1:10.72.205.179
    instance_uuid                                     2:10.72.205.179
    local_ops                                                       0
    mount_ops                                                       0


[...]
----
 `statistics start`の詳細については、link:https://docs.netapp.com/us-en/ontap-cli/statistics-start.html["ONTAPコマンド リファレンス"^]を参照してください。
