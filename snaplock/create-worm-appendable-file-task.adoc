---
permalink: snaplock/create-worm-appendable-file-task.html 
sidebar: sidebar 
keywords: command, program, create, worm, appendable, file, nfs, cifs, chunk 
summary: 追記可能 WORM ファイルは、 NFS または CIFS で適切なコマンドやプログラムを使用して作成できます。追記可能 WORM ファイルには、ログエントリのように段階的に書き込まれるデータが格納されます。データは 256KB のチャンク単位でファイルに追加されます。チャンクが書き込まれるたびに、前のチャンクが WORM 方式で保護されます。このファイルは保持期間が経過するまで削除できません。 
---
= コマンドまたはプログラムを使用して、追記可能 WORM ファイルを作成します
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
追記可能 WORM ファイルは、 NFS または CIFS で適切なコマンドやプログラムを使用して作成できます。追記可能 WORM ファイルには、ログエントリのように段階的に書き込まれるデータが格納されます。データは 256KB のチャンク単位でファイルに追加されます。チャンクが書き込まれるたびに、前のチャンクが WORM 方式で保護されます。このファイルは保持期間が経過するまで削除できません。

追記可能 WORM ファイルは SnapLock ボリュームに格納する必要があります。

データは、アクティブな 256KB のチャンクに順番に書き込まれる必要はありません。ファイルの n * 256KB+1 バイトにデータが書き込まれると、 1 つ前の 256KB セグメントが WORM 方式で保護されます。

.手順
. 適切なコマンドまたはプログラムを使用して、必要な保持期限を指定した空のファイルを作成します。
+
UNIX シェルで、次のコマンドを使用して、保持期限を 2020 年 11 月 21 日の午前 6 時に設定します「 documentent.txt 」という名前の長さがゼロのファイルの場合：

+
[listing]
----
touch -a -t 202011210600 document.txt
----
. 適切なコマンドまたはプログラムを使用して、ファイルの読み書き属性を読み取り専用に変更します。
+
UNIX シェルでは、次のコマンドを使用して、「 Document .txt 」という名前のファイルを読み取り専用にします。

+
[listing]
----
chmod 444 document.txt
----
. 適切なコマンドまたはプログラムを使用して、ファイルの読み書き属性を書き込み可能に戻します。
+
[NOTE]
====
ファイルにデータがないため、この手順はコンプライアンスリスクとはみなされません。

====
+
UNIX シェルでは、次のコマンドを使用して、「 Document .txt 」という名前のファイルを書き込み可能にします。

+
[listing]
----
chmod 777 document.txt
----
. 適切なコマンドまたはプログラムを使用して、ファイルへのデータの書き込みを開始します。
+
UNIX シェルでは、次のコマンドを使用して「 Document 」 .txt にデータを書き込みます。

+
[listing]
----
echo test data >> document.txt
----
+
[NOTE]
====
ファイルにデータを追加する必要がなくなったら、ファイル権限を読み取り専用に戻してください。

====

