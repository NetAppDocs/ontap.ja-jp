---
sidebar: sidebar 
permalink: snapmirror-active-sync/interoperability-reference.html 
keywords: SM-BC, SMBC, restrictions, consistency group, endpoint limits, solaris, aix, hp-ux, fanout, snapmirror active sync 
summary: SnapMirror active sync は、多数のオペレーティング システムおよび ONTAP のその他の機能と互換性があります。 
---
= ONTAP SnapMirror アクティブ同期の相互運用性
:allow-uri-read: 
:icons: font
:linkattrs: 
:imagesdir: ../media/


[role="lead"]
SnapMirrorアクティブ同期は、多数のオペレーティング システム、アプリケーション ホスト、ONTAPのその他の機能と互換性があります。


NOTE: ここで説明されていない特定のサポート性と相互運用性の詳細については、Interoperability Matrix Tool(http://mysupport.netapp.com/matrix["IMT にログインします。"^]を参照してください。



== アプリケーション ホスト

SnapMirror active sync は、Hyper-V、ESXi などのハイパーバイザー、Red Hat Enterprise Linux（RHEL）、Windows Server などのオペレーティング システム、vSphere Metro Storage Cluster（vMSC）などのクラスタリング ソリューション、および ONTAP 9.14.1 以降では Windows Server Failover Cluster をサポートします。



== オペレーティング システム

SnapMirrorアクティブ同期は、次のようなさまざまなオペレーティング システムでサポートされています。

* PVRを介したAIX（ONTAP 9.11.1以降）
* HP-UX（ONTAP 9.10.1以降）
* Solaris 11.4（ONTAP 9.10.1以降）




=== AIX

ONTAP 9.11.1 以降、AIX は標準エンジニアリング機能ポリシー変動要求（FPVR）による SnapMirror アクティブ同期でサポートされます。ただし、以下の規定を理解していることが条件となります：

* SnapMirror active syncはゼロRPOのデータ保護を提供できますが、AIXのフェイルオーバープロセスではパスの変更を認識するための追加手順が必要です。ルートボリュームグループに属していないLUNは、 `cfgmgr`コマンドが実行されるまでI/Oが一時停止します。これは自動化可能であり、ほとんどのアプリケーションはそれ以上の中断なく動作を再開できます。
* ルートボリュームグループに含まれるLUNは、通常SnapMirror active syncで保護すべきではありません。フェイルオーバー後に `cfgmgr`コマンドを実行することはできないため、SANパスの変更を認識するには再起動が必要です。ルートボリュームグループのゼロRPOデータ保護は実現可能ですが、フェイルオーバーは中断を伴います。


AIXでのSnapMirrorアクティブ同期の詳細については、NetAppアカウント チームにお問い合わせください。



=== HP-UX

ONTAP 9.10.1 以降では、HP-UX 用の SnapMirror active sync がサポートされます。

.HP-UXでの自動計画外フェイルオーバー
分離されたマスタークラスタにおける自動計画外フェイルオーバー（AUFO）イベントは、プライマリクラスタとセカンダリクラスタ間の接続が失われ、プライマリクラスタとメディエーター間の接続も失われるという二重イベント障害によって発生する可能性があります。これは、他のAUFOイベントとは異なり、まれなイベントと考えられます。

* このような場合、HP-UXホストでI/Oが再開されるまでに120秒以上かかることがあります。実行中のアプリケーションによっては、I/Oが中断しない場合や、エラー メッセージが表示されない場合があります。
* 問題を修正するには、許容される中断時間が120秒未満のHP-UXホストでアプリケーションを再起動する必要があります。




=== Solaris

ONTAP 9.10.1以降では、SnapMirrorアクティブ同期でSolaris 11.4がサポートされます。

SnapMirror Active Sync環境で計画外のサイトフェイルオーバースイッチオーバーが発生した場合でも、Solarisクライアントアプリケーションが中断されないよう、Solaris OSのデフォルト設定を変更してください。推奨設定でSolarisを構成するには、link:https://kb.netapp.com/Advice_and_Troubleshooting/Data_Protection_and_Security/SnapMirror/Solaris_Host_support_recommended_settings_in_SnapMirror_Business_Continuity_(SM-BC)_configuration["NetAppナレッジベース：Solaris ホストサポートのSnapMirror active syncの推奨設定"^]を参照してください。



== ONTAPの相互運用性

SnapMirrorアクティブ同期は、ONTAPのコンポーネントと統合されて、データ保護機能を拡張します。



=== FabricPool

SnapMirrorアクティブ同期では、階層化ポリシーが「None」、「Snapshot」、「Auto」のいずれかに設定されたFabricPoolアグリゲート内のボリュームがソースとデスティネーションとしてサポートされます。「All」階層化ポリシーを使用するFabricPoolアグリゲートはサポートされません。



=== ファンアウト構成

xref:../data-protection/supported-deployment-config-concept.html[ファンアウト構成]では、ソース ボリュームをSnapMirrorアクティブ同期の宛先エンドポイントと 1 つのSnapMirror非同期関係にミラーリングできます。

image:fanout-diagram.png["ファンアウト構成の図"]

SnapMirror active syncはxref:../data-protection/supported-deployment-config-concept.html[ファンアウト構成]と `MirrorAllSnapshots`ポリシーをサポートし、ONTAP 9.11.1以降では `MirrorAndVault`ポリシーをサポートします。ファンアウト構成は、 `XDPDefault`ポリシーを使用するSnapMirror active syncではサポートされていません。

ONTAP 9.15.1以降、SnapMirror active syncは、フェイルオーバーイベント後のファンアウトレッグにおける自動再構成をサポートします。プライマリサイトからセカンダリサイトへのフェイルオーバーが成功すると、セカンダリサイトをソースとして扱うように、第3サイトが自動的に再構成されます。非同期ファンアウトレッグは、コンシステンシグループ関係または独立ボリューム関係のいずれかです。再構成はどちらの場合でも機能します。再構成は、計画的フェイルオーバーまたは計画外フェイルオーバーによってトリガーされます。また、プライマリサイトへのフェイルバック時にも再構成が実行されます。

以前のリリースのONTAPでファンアウト構成を管理する方法については、xref:recover-unplanned-failover-task.adoc[ファンアウト構成で保護を再開する]を参照してください。



=== NDMPのリストア

ONTAP 9.13.1以降では、xref:../tape-backup/transfer-data-ndmpcopy-task.html[NDMPによるデータのコピーとリストア]をSnapMirror active syncで使用できます。NDMPを使用すると、データをSnapMirror active syncソースに移動して、保護を一時停止することなくリストアを完了できます。これはファンアウト構成で特に便利です。



=== SnapCenter

SnapMirror active syncは、link:https://docs.netapp.com/us-en/snapcenter/index.html["SnapCenter 5.0"^]以降のSnapCenterでサポートされています。SnapCenterでは、アプリケーションと仮想マシンの保護とリカバリに使用できるSnapshotを作成でき、アプリケーションレベルの精度で常時使用可能なストレージソリューションを実現します。



=== SnapRestore

SnapMirrorアクティブ同期では、Partial File SnapRestoreとSingle File SnapRestoreがサポートされます。

.Single File SnapRestore
ONTAP 9.11.1以降、xref:../data-protection/restore-single-file-snapshot-task.html[単一ファイルSnapRestore]はSnapMirror Active Syncボリュームでサポートされます。SnapMirror Active Syncソースからデスティネーションにレプリケートされたスナップショットから、単一のファイルをリストアできます。ボリュームには1つ以上のLUNを含めることができるため、この機能により、他のLUNに影響を与えることなく単一のLUNをきめ細かくリストアすることで、システムの停止を最小限に抑えたリストア操作を実現できます。単一ファイルSnapRestoreには、インプレースとアウトオブプレースの2つのオプションがあります。

.Partial File SnapRestore
ONTAP 9.12.1以降、link:../data-protection/restore-part-file-snapshot-task.html["部分的な LUN の復元"]はSnapMirror Active Syncボリュームでサポートされます。SnapMirror Active Syncのソース（ボリューム）ボリュームとデスティネーション（スナップショット）ボリューム間でレプリケートされた、アプリケーション作成のスナップショットからデータをリストアできます。複数のデータベースを同一LUNに格納しているホスト上のデータベースをリストアする必要がある場合は、LUNまたはファイルの部分リストアが必要になる場合があります。この機能を使用するには、データの開始バイトオフセットとバイト数を知っておく必要があります。



=== 大規模なLUNと大容量ボリューム

大規模なLUNと大容量ボリューム（100TBを超えるボリューム）がサポートされるかどうかは、使用しているONTAPのバージョンとプラットフォームによって決まります。

[role="tabbed-block"]
====
.ONTAP 9.12.1P2以降
--
* ONTAP 9.12.1P2以降では、ASAおよびAFF（AシリーズとCシリーズ）で大規模なLUNと100TBを超える大容量ボリュームがサポートされます。プライマリ クラスタとセカンダリ クラスタのタイプ（ASAまたはAFF）が同じである必要があります。AFF AシリーズからAFF Cシリーズ（またはその逆）へのレプリケーションがサポートされます。



NOTE: ONTAPリリース9.12.1P2以降では、プライマリ クラスタとセカンダリ クラスタの両方がオールフラッシュSANアレイ（ASA）またはオールフラッシュ アレイ（AFF）のいずれかで、両方にONTAP 9.12.1P2以降がインストールされていることを確認する必要があります。セカンダリ クラスタでONTAP 9.12.1P2よりも前のバージョンが実行されている場合やアレイ タイプがプライマリ クラスタと異なる場合、プライマリ ボリュームが100TBを超えると同期関係が維持されなくなることがあります。

--
.ONTAP 9.9.1～9.12.1P1
--
* ONTAP 9.9.1～9.12.1P1のONTAPリリースでは、大規模なLUNと100TBを超える大容量ボリュームが、オールフラッシュSANアレイでのみサポートされます。AFF AシリーズからAFF Cシリーズ（またはその逆）へのレプリケーションがサポートされます。



NOTE: ONTAP 9.9.1～9.12.1P2のONTAPリリースでは、プライマリ クラスタとセカンダリ クラスタの両方がオールフラッシュSANアレイで、両方にONTAP 9.9.1以降がインストールされていることを確認する必要があります。セカンダリ クラスタでONTAP 9.9.1よりも前のバージョンが実行されている場合やオールフラッシュSANアレイでない場合、プライマリ ボリュームが100TBを超えると同期関係を維持できなくなります。

--
====
.詳細情報
* link:https://kb.netapp.com/Advice_and_Troubleshooting/Data_Protection_and_Security/SnapMirror/How_to_configure_an_AIX_host_for_SnapMirror_Business_Continuity_(SM-BC)["AIXホストをSnapMirrorアクティブ同期用に設定する方法"^]

