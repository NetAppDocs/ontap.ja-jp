---
permalink: system-admin/access-cluster-rsh-task.html 
sidebar: sidebar 
keywords: access, cluster, rsh, cluster, administrative, task, secure, protocol, service, policy, lif, firewall, role 
summary: クラスタへの問題 RSH 要求を使用して、管理タスクを実行できます。RSH はセキュアなプロトコルではなく、デフォルトでは無効になっています。 
---
= RSH を使用してクラスタにアクセスします
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
クラスタへの問題 RSH 要求を使用して、管理タスクを実行できます。RSH はセキュアなプロトコルではなく、デフォルトでは無効になっています。

TelnetとRSHはセキュアなプロトコルではありません。SSHを使用してクラスタにアクセスすることを検討してください。SSHは、セキュアなリモートシェルおよび対話型ネットワークセッションを提供します。詳細については、を参照してください link:./access-cluster-ssh-task.html["SSHを使用したクラスタへのアクセス"]。

.作業を開始する前に
RSH を使用してクラスタにアクセスするには、次の条件を満たしている必要があります。

* アクセス方法として RSH を使用するように設定された、クラスタのローカルユーザアカウントを持っている必要があります。
+
。 `-application` のパラメータ `security login` コマンドは、ユーザアカウントのアクセス方法を指定します。詳細については、を参照してください `security login` マニュアルページ



.このタスクについて
* ONTAP では、 1 つのノードについて同時に最大 50 の RSH セッションがサポートされています。
+
クラスタ管理 LIF がノード上に存在する場合、クラスタ管理 LIF はこの制限をノード管理 LIF と共有します。

+
着信接続の速度が 1 秒あたり 10 を超えると、サービスは一時的に 60 秒間無効になります。

* rshコマンドにはadvanced権限が必要です。


[role="tabbed-block"]
====
.ONTAP 9 .6以降
--
.手順
. RSHセキュリティプロトコルが有効になっていることを確認します。
+
`security protocol show`

+
.. RSHセキュリティプロトコルが有効になっている場合は、次の手順に進みます。
.. RSHセキュリティプロトコルが有効になっていない場合は、次のコマンドを使用して有効にします。
+
`security protocol modify -application rsh -enabled true`



. 管理LIFにサービスが存在することを確認し `management-rsh-server` ます。
+
`network interface show -services management-rsh-server`

+
.. サービスが存在する場合は `management-rsh-server` 、次の手順に進みます。
.. サービスが存在しない場合は `management-rsh-server` 、次のコマンドを使用して追加します。
+
`network interface service-policy add-service -vserver cluster1 -policy default-management -service management-rsh-server`





--
.ONTAP 9 .5以前
--
.作業を開始する前に
RSH を使用してクラスタにアクセスするには、次の条件を満たしている必要があります。

* RSH 要求がファイアウォールを通過できるように、クラスタ管理 LIF またはノード管理 LIF によって使用される管理ファイアウォールポリシーで RSH がすでに有効になっている必要があります。
+
デフォルトでは、RSHは無効になっています。 `-service rsh`パラメータを指定してsystem services firewall policy showコマンドを実行すると、ファイアウォールポリシーでRSHが有効になっているかどうかが表示されます。詳細については、 `system services firewall policy`のマニュアルページを参照してください。

* IPv6接続を使用する場合は、クラスタでIPv6が設定されて有効になっている必要があり、ファイアウォールポリシーにIPv6アドレスが設定されている必要があります。
+
 `network options ipv6 show`コマンドは、IPv6が有効になっているかどうかを表示します。 `system services firewall policy show`コマンドは、ファイアウォールポリシーを表示します。



.手順
. 管理ホストで次のコマンドを入力します。
+
`rsh hostname_or_IP -l username:passwordcommand`

+
`hostname_or_IP`は、クラスタ管理LIFまたはノード管理LIFのホスト名またはIPアドレスです。クラスタ管理LIFを使用することを推奨します。IPv4またはIPv6アドレスを使用できます。

+
`command`は、RSH経由で実行するコマンドです。



--
====
.RSH要求の例
次の例は、RSHアクセスを使用するように設定された「joe」というユーザが、を実行するRSH要求を問題 で処理する方法を示しています `cluster show` コマンドを実行します

[listing]
----

admin_host$ rsh 10.72.137.28 -l joe:password cluster show

Node                  Health  Eligibility
--------------------- ------- ------------
node1                 true    true
node2                 true    true
2 entries were displayed.

admin_host$
----