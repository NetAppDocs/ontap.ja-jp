---
permalink: system-admin/commands-manage-node-remotely-reference.html 
sidebar: sidebar 
keywords: command, manage, node, remotely, sp, cli, cluster 
summary: ノードをリモートから管理するには、ノードのSPにアクセスし、SP CLIコマンドを実行してノード管理タスクを実行します。よく実行されるいくつかのリモートノード管理タスクについては、クラスタ内の別のノードからONTAPコマンドを使用することもできます。一部のSPコマンドはプラットフォーム固有であり、使用しているプラットフォームでは使用できない場合があります。 
---
= リモートノード管理用のONTAPコマンド
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
SPにアクセスしてSP CLI コマンドを実行するか、 BMCにアクセスしてBMC CLI コマンドを実行することにより、ノード管理タスクをリモートで実行できます。よく実行されるいくつかのリモート ノード管理タスクについては、クラスタ内の別のノードからONTAPコマンドを使用することもできます。一部のSPおよびBMCコマンドはプラットフォーム固有であり、お使いのプラットフォームでは使用できない可能性があります。

特定のコマンド タイプは、 SPコマンド セットとBMCコマンド セットの両方で使用できます。それらの違いは、コマンドラインを入力するときに表示されます。

.例
* その `help`SPのコマンド: `SP> help`
* その `help`BMCのコマンド: `BMC> help`


詳細はこちら `help`SPおよびBMCで使用できるコマンドオプションlink:https://docs.netapp.com/us-en/ontap/system-admin/online-help-at-sp-bmc-cli-task.html["ONTAP SP / BMC CLIでのヘルプ情報の表示"^]。

対応するONTAP BMC CLIの詳細については、link:https://docs.netapp.com/us-en/ontap/system-admin/bmc-cli-commands-reference.html["ONTAPベースボード管理コントローラでサポートされるCLIコマンド"^] 。

|===
| 状況 | 使用するSPコマンド | 使用するBMCコマンド | このONTAPコマンドを使用します... 


 a| 
SP/ BMC/ ONTAPで利用可能なコマンドまたは指定されたコマンドのサブコマンドを表示します。
 a| 
`help`[`command`]
 a| 
`help`[`command`]
 a| 
N/A



 a| 
SP/ BMC/ ONTAP CLIの現在の権限レベルを表示します
 a| 
`priv show`
 a| 
`priv` `show`
 a| 
N/A



 a| 
SP/ BMC/ ONTAP CLIの指定されたモードにアクセスするための権限レベルを設定します
 a| 
`priv set`

{`admin`| `advanced` | `diag` }
 a| 
`priv set`

{`admin`| `advanced` | `diag` | `test` }
 a| 
N/A



 a| 
システムの日付と時刻を表示します。
 a| 
`date`
 a| 
`date`
 a| 
`date`



 a| 
SP/ BMC/ ONTAPによって記録されたイベントを表示します
 a| 
`events`

{`all`| `info` | `newest` `number` | `oldest number` | `search keyword` }
 a| 
`events`

{`all`| `info` | `newest` | `oldest` | `search` }
 a| 
N/A



 a| 
SP/ BMC/ ONTAPのステータスとネットワーク構成情報を表示します
 a| 
`sp status`

[`-v`| `-d` ]

* その `-v`オプションは、 SP統計を詳細形式で表示します。
* その `-d`オプションは、 SPデバッグ ログをディスプレイに追加します。

 a| 
`bmc status`

[`-v`| `-d` ]

* その `-v`オプションは、 SP統計を詳細形式で表示します。
* その `-d`オプションは、 SPデバッグ ログをディスプレイに追加します。

 a| 
`system service-processor show`



 a| 
SP/ BMC/ ONTAP の起動時間と、過去 1 分、5 分、15 分間の実行キュー内のジョブの平均数を表示します。
 a| 
`sp uptime`
 a| 
`bmc uptime`
 a| 
N/A



 a| 
システムコンソールログを表示する
 a| 
`system log`
 a| 
`system log`

[`-a`]
 a| 
`system log`

(システムコンソールのログを出力します)



 a| 
SP/ BMC/ ONTAPログ アーカイブまたはアーカイブ内のファイルを表示します
 a| 
`sp log history show`

[`-archive` {`latest`|{`all` | `archive-name` }][`-dump` {`all` | `file-name` }]
 a| 
`bmc log history show`

[`-archive` {`latest`|{`all` | `archive-name` }][`-dump` {`all` | `file-name` }]
 a| 
N/A



 a| 
ノードのコントローラの電源ステータスを表示する
 a| 
`system power status`
 a| 
`system power status`
 a| 
`system node power show`



 a| 
バッテリ情報を表示します。
 a| 
`system battery show`
 a| 
`system battery show`
 a| 
N/A



 a| 
ACP情報またはエキスパンダセンサーのステータスを表示する
 a| 
`system acp`

[`show`| `sensors show` ]
 a| 
N/A
 a| 
N/A



 a| 
すべてのシステムFRUとそのIDを一覧表示する
 a| 
`system fru list`
 a| 
`system fru list`
 a| 
N/A



 a| 
指定したFRUの製品情報を表示します。
 a| 
`system fru show` `fru_id`
 a| 
`system fru show`

[ `show <id>` ]
 a| 
N/A



 a| 
FRUのデータ履歴ログを表示する
 a| 
`system fru log show`

（advanced権限レベル）
 a| 
`system fru log show`
 a| 
N/A



 a| 
状態や現在の値など、環境センサーのステータスを表示する
 a| 
`system sensors`

または

`system sensors show`
 a| 
`system sensors`

{`show`| `filter <sensor_string>` }
 a| 
`system node environment sensors show`



 a| 
指定したセンサーのステータスと詳細を表示する
 a| 
`system sensors get` `sensor_name`

は、または `system sensors show`コマンドを使用して `system sensors`取得できます `sensor_name`。
 a| 
`system sensors`

[ `get` ]
 a| 
N/A



 a| 
SP/ BMC/ ONTAPファームウェアのバージョン情報を表示する
 a| 
`version`
 a| 
`version`
 a| 
`system service-processor image show`



 a| 
SP/ BMC/ ONTAPコマンド履歴を表示する
 a| 
`sp log audit`

（advanced権限レベル）
 a| 
`bmc log audit`

（advanced権限レベル）
 a| 
N/A



 a| 
SP/ BMC/ ONTAPのデバッグ情報を表示する
 a| 
`sp log debug`

（advanced権限レベル）
 a| 
`bmc log debug`

（advanced権限レベル）
 a| 
N/A



 a| 
SP/ BMC/ ONTAPメッセージファイルを表示する
 a| 
`sp log messages`

（advanced権限レベル）
 a| 
`bmc log messages`

（advanced権限レベル）
 a| 
N/A



 a| 
watchdogリセットイベントでシステムの詳細情報を収集する設定を表示するか、watchdogリセットイベント中に収集されたシステムの詳細情報を表示するか、収集されたシステム詳細情報をクリアする
 a| 
`system forensics`

[`show`| `log dump` | `log clear` ]
 a| 
N/A
 a| 
N/A



 a| 
システムコンソールにログインする
 a| 
`system console`
 a| 
`system console`
 a| 
`system node run-console`



 a| 
システムコンソールセッションを終了するには、Ctrl+Dキーを押します。



 a| 
ノードをオンまたはオフにするか、電源の再投入を行う（電源をオフにして再度オンにする）
 a| 
`system power` `on`
 a| 
`system power` `on`
 a| 
`system node power on`

（advanced権限レベル）



 a| 
`system power` `off`
 a| 
`system power` `off`
 a| 
N/A



 a| 
`system power` `cycle`
 a| 
`system power` `cycle`
 a| 
N/A



 a| 
スタンバイ電源はオンのままで、SPを中断することなく稼働させます。電源再投入の場合は、電源は一時的に停止したあと、再度オンになります。

[NOTE]
====
これらのコマンドを使用してノードの電源をオフにするか再投入すると、ノードが誤ってシャットダウンされる（_dirty shutdown_）ことがあります。この方法は、ONTAPコマンドを使用した正常なシャットダウンの代わりにはなりません。 `system node halt`

====


 a| 
コアダンプを作成してノードをリセットする
 a| 
`system core`[`-f`]

オプションを指定する `-f`と、コアダンプが強制的に作成され、ノードがリセットされます。
 a| 
`system core`
 a| 
`system node coredump trigger`

（advanced権限レベル）



 a| 
これらのコマンドの機能は、ノードでNon-maskable Interrupt（NMI）ボタンを押した場合と同じです。その結果、ノードがダーティーシャットダウンされ、ノードを停止するときにコアファイルが強制的にダンプされます。これらのコマンドは、ノード上のONTAPがハングした場合やなどのコマンドに応答しない場合に役立ち `system node shutdown`ます。生成されたコアダンプファイルは、コマンドの出力に表示され `system node coredump show`ます。SPは、ノードへの給電が遮断されないかぎり、動作可能な状態を維持します。



 a| 
オプションでBIOSファームウェアイメージ（primary、backup、current）を指定してノードをリブートし、ノードのブートデバイスイメージの破損などの問題からリカバリする
 a| 
`system reset`

{`primary`| `backup` | `current` }
 a| 
`system reset`

{ `current` | `primary` | `backup` }
 a| 
`system node reset`と `-firmware` {`primary`| `backup` | `current` } パラメータ

（advanced権限レベル）



 a| 
[NOTE]
====
この処理を実行すると、ノードがダーティーシャットダウンされます。

====
BIOSファームウェアイメージが指定されていない場合は、現在のイメージが再起動に使用されます。SPは、ノードへの給電が遮断されないかぎり、動作可能な状態を維持します。



 a| 
バッテリ ファームウェアの自動更新のステータスを表示するか、次回のSP起動時にバッテリ ファームウェアの自動更新を有効または無効にします。
 a| 
`system battery auto_update`

[`status`| `enable` | `disable` ]

（advanced権限レベル）
 a| 
N/A
 a| 
N/A



 a| 
現在のバッテリファームウェアイメージを指定したファームウェアイメージと比較する
 a| 
`system battery verify`[`image_URL`]

（advanced権限レベル）

が指定されていない場合 `image_URL`、比較にはデフォルトのバッテリファームウェアイメージが使用されます。
 a| 
`system battery verify`[`image_URL`]

（advanced権限レベル）

が指定されていない場合 `image_URL`、比較にはデフォルトのバッテリファームウェアイメージが使用されます。
 a| 
N/A



 a| 
指定した場所のイメージからバッテリファームウェアを更新します。
 a| 
`system battery flash` [`image_URL`]

（advanced権限レベル）

このコマンドは、何らかの理由でバッテリファームウェアの自動アップグレードプロセスが失敗した場合に使用します。
 a| 
N/A
 a| 
N/A



 a| 
指定された場所にあるイメージを使用して、 SP/ BMC/ ONTAPファームウェアを更新します。
 a| 
`sp update`

`image_URL`

`image_URL`200文字を超えてはなりません。
 a| 
`bmc update`

`image_URL`

`image_URL`200文字を超えてはなりません。
 a| 
`system service-processor image update`



 a| 
SP/ BMC/ ONTAPを再起動します
 a| 
`sp reboot`
 a| 
`bmc reboot`
 a| 
`system service-processor reboot-sp`



 a| 
NVRAMフラッシュコンテンツを消去する
 a| 
`system nvram flash clear`

（advanced権限レベル）

このコマンドは、コントローラの電源がオフのときは開始できませ(`system power off`ん）。
 a| 
N/A
 a| 
N/A



 a| 
SP/ BMC/ ONTAP CLIを終了します
 a| 
`exit`
 a| 
`exit`
 a| 
N/A

|===
.関連情報
* link:https://docs.netapp.com/us-en/ontap-cli/["ONTAPコマンド リファレンス"^]

