---
permalink: system-admin/commands-manage-node-remotely-reference.html 
sidebar: sidebar 
keywords: command, manage, node, remotely, sp, cli, cluster 
summary: ノードをリモートで管理するには、ノードのSPにアクセスし、SP CLIコマンドを実行してノード管理タスクを実行します。よく実行されるいくつかのリモート ノード管理タスクについては、クラスタ内の別のノードからONTAPコマンドを使用することもできます。一部のSPコマンドはプラットフォーム固有であるため、使用しているプラットフォームでは使用できない場合があります。 
---
= リモート ノード管理用のONTAPコマンド
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
ノード管理タスクは、SPにアクセスしてSP CLIコマンドを実行するか、BMCにアクセスしてBMC CLIコマンドを実行することで、リモートから実行できます。一般的に実行されるリモート ノード管理タスクの中には、クラスタ内の別のノードからONTAPコマンドを使用して実行できるものもあります。一部のSPおよびBMCコマンドはプラットフォーム固有であり、お使いのプラットフォームでは使用できない場合があります。

特定のコマンドタイプはSPコマンドセットとBMCコマンドセットの両方で使用できます。それらの違いは、コマンドラインを入力する際に表示されます。

.例
* SP の `help`コマンド： `SP> help`
*  `help`BMC のコマンド： `BMC> help`


SPおよびBMCで使用可能な `help`コマンドオプションの詳細については、link:https://docs.netapp.com/us-en/ontap/system-admin/online-help-at-sp-bmc-cli-task.html["ONTAP SP/BMC CLIのヘルプ情報を表示します"^]を参照してください。

対応する ONTAP BMC CLI の詳細については、link:https://docs.netapp.com/us-en/ontap/system-admin/bmc-cli-commands-reference.html["ONTAPベースボード管理コントローラでサポートされているCLIコマンド"^]を参照してください。

|===
| 状況 | この SP コマンドを使用します... | このBMCコマンドを使用します... | このONTAPコマンドを使用してください… 


 a| 
SP/BMC/ONTAP の指定されたコマンドで使用可能なコマンドまたはサブコマンドを表示します
 a| 
`help` [`command`]
 a| 
`help` [`command`]
 a| 
該当なし



 a| 
SP/BMC/ONTAP CLIの現在の権限レベルを表示します
 a| 
`priv show`
 a| 
`priv` `show`
 a| 
該当なし



 a| 
SP/BMC/ONTAP CLIの指定されたモードにアクセスするための権限レベルを設定します
 a| 
`priv set`

{`admin`| `advanced`| `diag`}
 a| 
`priv set`

{`admin`| `advanced`| `diag`| `test`}
 a| 
該当なし



 a| 
システムの日付と時間を表示する
 a| 
`date`
 a| 
`date`
 a| 
`date`



 a| 
SP/BMC/ONTAP によってログに記録されたイベントを表示する
 a| 
`events`

{`all`| `info`| `newest` `number`| `oldest number`| `search keyword`}
 a| 
`events`

{`all`| `info` | `newest` | `oldest` | `search` }
 a| 
該当なし



 a| 
SP/BMC/ONTAPステータスとネットワーク構成情報を表示します
 a| 
`sp status`

[`-v`| `-d`]

*  `-v`オプションは SP 統計を詳細形式で表示します。
*  `-d`オプションは SP デバッグ ログをディスプレイに追加します。

 a| 
`bmc status`

[`-v`| `-d`]

*  `-v`オプションは SP 統計を詳細形式で表示します。
*  `-d`オプションは SP デバッグ ログをディスプレイに追加します。

 a| 
`system service-processor show`



 a| 
SP/BMC/ONTAP起動時間と、過去1分、5分、15分間の実行キュー内のジョブの平均数を表示します。
 a| 
`sp uptime`
 a| 
`bmc uptime`
 a| 
該当なし



 a| 
システム コンソール ログを表示する
 a| 
`system log`
 a| 
`system log`

[`-a`]
 a| 
`system log`

（システム コンソール ログを出力）



 a| 
SP/BMC/ONTAPログ アーカイブまたはアーカイブ内のファイルを表示します
 a| 
`sp log history show`

[`-archive` {`latest` |{`all` | `archive-name`}] [`-dump` {`all` | `file-name`}]
 a| 
`bmc log history show`

[`-archive` {`latest` |{`all` | `archive-name`}] [`-dump` {`all` | `file-name`}]
 a| 
該当なし



 a| 
ノードのコントローラの電源ステータスを表示する
 a| 
`system power status`
 a| 
`system power status`
 a| 
`system node power show`



 a| 
バッテリ情報を表示する
 a| 
`system battery show`
 a| 
`system battery show`
 a| 
該当なし



 a| 
ACP情報またはエクスパンダ センサーのステータスを表示する
 a| 
`system acp`

[`show`| `sensors show`]
 a| 
該当なし
 a| 
該当なし



 a| 
すべてのシステムFRUとそのIDをリストする
 a| 
`system fru list`
 a| 
`system fru list`
 a| 
該当なし



 a| 
指定したFRUの製品情報を表示する
 a| 
`system fru show` `fru_id`
 a| 
`system fru show`

[ `show <id>`]
 a| 
該当なし



 a| 
FRUのデータ履歴ログを表示する
 a| 
`system fru log show`

（advanced権限レベル）
 a| 
`system fru log show`
 a| 
該当なし



 a| 
状態や現在の値など、環境センサーのステータスを表示する
 a| 
`system sensors`

または

`system sensors show`
 a| 
`system sensors`

{`show` | `filter <sensor_string>` }
 a| 
`system node environment sensors show`



 a| 
指定したセンサーのステータスと詳細を表示する
 a| 
`system sensors get` `sensor_name`

 `sensor_name`は、 `system sensors`または `system sensors show`コマンドを使用して取得できます。
 a| 
`system sensors`

[ `get` ]
 a| 
該当なし



 a| 
SP/BMC/ONTAPファームウェアのバージョン情報を表示します
 a| 
`version`
 a| 
`version`
 a| 
`system service-processor image show`



 a| 
SP/BMC/ONTAPコマンド履歴を表示する
 a| 
`sp log audit`

（advanced権限レベル）
 a| 
`bmc log audit`

（advanced権限レベル）
 a| 
該当なし



 a| 
SP/BMC/ONTAPデバッグ情報を表示する
 a| 
`sp log debug`

（advanced権限レベル）
 a| 
`bmc log debug`

（advanced権限レベル）
 a| 
該当なし



 a| 
SP/BMC/ONTAPメッセージファイルを表示する
 a| 
`sp log messages`

（advanced権限レベル）
 a| 
`bmc log messages`

（advanced権限レベル）
 a| 
該当なし



 a| 
watchdogリセット イベントでシステムの詳細情報を収集する設定を表示するか、watchdogリセット イベント中に収集されたシステムの詳細情報を表示するか、収集されたシステム詳細情報をクリアする
 a| 
`system forensics`

[`show`| `log dump`| `log clear`]
 a| 
該当なし
 a| 
該当なし



 a| 
システム コンソールにログインする
 a| 
`system console`
 a| 
`system console`
 a| 
`system node run-console`



 a| 
システム コンソール セッションを終了するには、Ctrl-Dを押します。



 a| 
ノードをオンまたはオフにするか、電源の再投入を行う（電源をオフにして再度オンにする）
 a| 
`system power` `on`
 a| 
`system power` `on`
 a| 
`system node power on`

（advanced権限レベル）



 a| 
`system power` `off`
 a| 
`system power` `off`
 a| 
該当なし



 a| 
`system power` `cycle`
 a| 
`system power` `cycle`
 a| 
該当なし



 a| 
スタンバイ電源は、SPが中断されることなく実行されるように、常に稼働しています。電源再投入の場合は、電源は一時的に停止したあと、再度オンになります。

[NOTE]
====
これらのコマンドを使用してノードをオフにしたり、電源を入れ直したりすると、ノードの不適切なシャットダウン（_ダーティー シャットダウン_ とも呼ばれます）が発生する可能性があり、ONTAP `system node halt`コマンドを使用した正常なシャットダウンの代わりにはなりません。

====


 a| 
コア ダンプを作成してノードをリセットする
 a| 
`system core` [`-f`]

 `-f`オプションは、コア ダンプの作成とノードのリセットを強制します。
 a| 
`system core`
 a| 
`system node coredump trigger`

（advanced権限レベル）



 a| 
これらのコマンドは、ノードのNMI（Non-maskable Interrupt）ボタンを押すのと同じ効果があり、ノードのダーティー シャットダウンを実行し、ノードの停止時にコアファイルのダンプを強制的に生成します。これらのコマンドは、ノード上のONTAPがハングアップした場合や、 `system node shutdown`などのコマンドに応答しない場合に役立ちます。生成されたコアダンプファイルは、 `system node coredump show`コマンドの出力に表示されます。ノードへの入力電源が中断されない限り、SPは動作を継続します。



 a| 
ノードのブート デバイスのイメージが壊れたなどの問題からリカバリするために、BIOSファームウェア イメージ（primary、backup、またはcurrent）をオプションで指定してノードをリブートする
 a| 
`system reset`

{`primary`| `backup`| `current`}
 a| 
`system reset`

{ `current` | `primary` | `backup` }
 a| 
`system node reset`と `-firmware` {`primary` | `backup` | `current`}パラメータ

（advanced権限レベル）



 a| 
[NOTE]
====
この処理を実行すると、ノードがダーティー シャットダウンされます。

====
BIOSファームウェア イメージを指定しない場合、最新のイメージを使用してリブートされます。SPは、ノードへの給電が遮断されないかぎり、継続して機能します。



 a| 
現在のバッテリ ファームウェアのイメージと指定したファームウェア イメージを比較する
 a| 
`system battery verify` [`image_URL`]

（advanced権限レベル）

 `image_URL`が指定されていない場合は、デフォルトのバッテリ ファームウェア イメージが比較に使用されます。
 a| 
`system battery verify` [`image_URL`]

（advanced権限レベル）

 `image_URL`が指定されていない場合は、デフォルトのバッテリ ファームウェア イメージが比較に使用されます。
 a| 
該当なし



 a| 
指定した場所でイメージからバッテリ ファームウェアを更新する
 a| 
`system battery flash` [`image_URL`]

（advanced権限レベル）

何らかの理由でバッテリ ファームウェアの自動アップグレード プロセスに失敗した場合は、このコマンドを使用します。
 a| 
該当なし
 a| 
該当なし



 a| 
指定された場所にあるイメージを使用して、SP/BMC/ONTAPファームウェアを更新します
 a| 
`sp update`

`image_URL`

`image_URL`は200文字を超えてはなりません。
 a| 
`bmc update`

`image_URL`

`image_URL`は200文字を超えてはなりません。
 a| 
`system service-processor image update`



 a| 
SP/BMC/ONTAPを再起動する
 a| 
`sp reboot`
 a| 
`bmc reboot`
 a| 
`system service-processor reboot-sp`



 a| 
NVRAMフラッシュ コンテンツを消去する
 a| 
`system nvram flash clear`

（advanced権限レベル）

このコマンドは、コントローラの電源がオフの場合には開始できません(`system power off`）。
 a| 
該当なし
 a| 
該当なし



 a| 
SP/BMC/ONTAP CLIを終了します
 a| 
`exit`
 a| 
`exit`
 a| 
該当なし

|===
.関連情報
* link:https://docs.netapp.com/us-en/ontap-cli/["ONTAPコマンド リファレンス"^]

