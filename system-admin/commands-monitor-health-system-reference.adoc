---
permalink: system-admin/commands-monitor-health-system-reference.html 
sidebar: sidebar 
keywords: command, monitor, health, system, display, status, cli, software, version, switches, alert 
summary: システムヘルスコマンドを使用すると、システムリソースのヘルス情報の表示、アラートへの対応、および将来のアラートの設定を行うことができます。CLIコマンドを使用すると、ヘルスモニタリングの設定方法に関する詳細情報を表示できます。コマンドのマニュアルページには、さらに詳しい情報が記載されています。 
---
= ONTAPシステムの健全性を監視するためのコマンド
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
 `system health`コマンドを使用して、システムリソースの健全性に関する情報の表示、アラートへの対応、および将来のアラートの設定を行うことができます。CLIコマンドを使用すると、ヘルスモニタリングの設定方法に関する詳細情報を表示できます。 `system health`の詳細については、link:https://docs.netapp.com/us-en/ontap-cli/search.html?q=system+health["ONTAPコマンド リファレンス"^]をご覧ください。



== システムの健全性ステータスの表示

|===
| 状況 | 使用するコマンド 


 a| 
個々のヘルスモニタの全体的なステータスを反映した、システムの健全性ステータスを表示する
 a| 
`system health status show`



 a| 
健全性を監視可能なサブシステムの健全性ステータスを表示する
 a| 
`system health subsystem show`

|===


== ノード接続のステータスの表示

|===
| 状況 | 使用するコマンド 


 a| 
ノードからストレージ シェルフへの接続の詳細（ポート情報、HBAポート速度、I/Oスループット、1秒当たりのI/O処理率を含む）を表示する
 a| 
`storage shelf show -connectivity`

 `-instance`パラメータを使用して、各シェルフの詳細情報を表示します。



 a| 
ドライブおよびアレイLUNに関する情報（使用可能なスペース、シェルフおよびベイの番号、所有ノード名を含む）を表示する
 a| 
`storage disk show`

 `-instance`パラメータを使用して、各ドライブの詳細情報を表示します。



 a| 
ストレージ シェルフ ポートに関する詳細情報（ポート タイプ、速度、ステータスを含む）を表示する
 a| 
`storage port show`

 `-instance`パラメータを使用して、各アダプタの詳細情報を表示します。

|===


== クラスタとストレージ ネットワーク スイッチを監視する

[cols="3*"]
|===
| 状況 | 使用するコマンド（ONTAP 9.8以降） | 使用するコマンド（ONTAP 9.7以前） 


 a| 
クラスタが監視するスイッチを表示する
 a| 
`system switch ethernet show`
 a| 
`system cluster-switch show`



 a| 
クラスタが現在監視しているスイッチを表示します。これには、削除したスイッチも含まれます（コマンド出力のReason列に表示されます）。

このコマンドは上級権限レベルで利用可能です
 a| 
`system switch ethernet show-all`
 a| 
`system cluster-switch show-all`



 a| 
未検出スイッチの監視を構成する
 a| 
`system switch ethernet create`
 a| 
`system cluster-switch create`



 a| 
クラスタが監視するスイッチについての情報（デバイス名、IPアドレス、SNMPバージョン、コミュニティ ストリングなど）を変更する
 a| 
`system switch ethernet modify`
 a| 
`system cluster-switch modify`



 a| 
スイッチの監視を無効にする
 a| 
`system switch ethernet modify -disable-monitoring`
 a| 
`system cluster-switch modify -disable-monitoring`



 a| 
監視からスイッチを削除する
 a| 
`system switch ethernet delete`
 a| 
`system cluster-switch delete`



 a| 
データベースに格納されているスイッチ設定情報を完全に削除する（これにより、スイッチの自動検出が再度有効になる）
 a| 
`system switch ethernet delete -force`
 a| 
`system cluster-switch delete -force`



 a| 
スイッチでログ収集を実行する
 a| 
`system switch ethernet log`
 a| 
`system cluster-switch log`

|===
[NOTE]
====
詳細については、link:https://docs.netapp.com/us-en/ontap-systems-switches/switch-cshm/config-overview.html["スイッチのヘルスモニタリング"^]およびlink:https://docs.netapp.com/us-en/ontap-systems-switches/switch-cshm/config-log-collection.html["ログ収集を構成する"^]を参照してください。

====


== 生成されたアラートへの対応

|===
| 状況 | 使用するコマンド 


 a| 
アラートがトリガーされたリソースやノード、アラートの重大度や考えられる原因など、生成されたアラートに関する情報を表示する
 a| 
`system health alert show`



 a| 
生成された各アラートの情報を表示する
 a| 
`system health alert show -instance`



 a| 
特定のアラートに対して作業が行われていることを示す
 a| 
`system health alert modify`



 a| 
アラートを確認する
 a| 
`system health alert modify -acknowledge`



 a| 
サブシステムのヘルス ステータスに影響しないように、以降のアラートを抑制する
 a| 
`system health alert modify -suppress`



 a| 
自動的に消去されなかったアラートを削除する
 a| 
`system health alert delete`



 a| 
あるアラートでAutoSupportメッセージがトリガーされたかどうかを確認するためなど、過去1週間にアラートによりトリガーされたAutoSupportメッセージに関する情報を表示する
 a| 
`system health autosupport trigger history show`

|===


== 今後のアラートの設定

|===
| 状況 | 使用するコマンド 


 a| 
リソースの状態に応じて特定のアラートを発行するかどうかを制御するポリシーを有効または無効にする
 a| 
`system health policy definition modify`

|===


== ヘルスモニタの設定状況の表示

|===
| 状況 | 使用するコマンド 


 a| 
ヘルスモニタの情報（ノード、名前、サブシステム、ステータスなど）を表示する
 a| 
`system health config show`

[NOTE]
====
 `-instance`パラメータを使用して、各ヘルス モニタの詳細情報を表示します。

====


 a| 
ヘルスモニタで生成されるアラートの情報を表示する
 a| 
`system health alert definition show`

[NOTE]
====
 `-instance`パラメータを使用して、各アラート定義の詳細情報を表示します。

====


 a| 
アラートが発行されるタイミングを決定する、ヘルスモニタのポリシーの情報を表示する
 a| 
`system health policy definition show`

[NOTE]
====
 `-instance`パラメータを使用して、各ポリシーの詳細情報を表示します。他のパラメータを使用して、アラートのリストをフィルタリングします（例：ポリシーのステータス（有効または無効）、ヘルスモニター、アラートなど）。

====
|===
.関連情報
* link:https://docs.netapp.com/us-en/ontap-cli/storage-port-show.html["storage port show"^]
* link:https://docs.netapp.com/us-en/ontap-cli/storage-shelf-show.html["storage shelf の表示"^]
* link:https://docs.netapp.com/us-en/ontap-cli/system-health-alert-delete.html["system health alert delete"^]

