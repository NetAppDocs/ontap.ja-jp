---
permalink: system-admin/different-shells-cli-commands-concept-cluster-admin.html 
sidebar: sidebar 
keywords: diag, secd, different, shells, cli, commands, cluster, administrators, clustershell, nodeshell, systemshell, display, list, help 
summary: クラスタには、CLIコマンド用の3つの異なるシェル（clustershell、nodeshell、systemshell）があります。これらのシェルはそれぞれ異なる目的で使用され、異なるコマンドセットを備えています。 
---
= CLIコマンド用のさまざまなONTAPシェルについて学習する
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
クラスタには、CLIコマンド用の3つの異なるシェル（_clustershell_、_nodeshell_、_systemshell_）があります。これらのシェルはそれぞれ異なる目的で使用され、異なるコマンドセットを備えています。

* クラスタシェルは、クラスタにログインすると自動的に開始されるネイティブ シェルです。
+
クラスタの設定と管理に必要なすべてのコマンドが用意されています。clustershell CLIヘルプ（clustershellプロンプトで `?`によって起動）には、利用可能なclustershellコマンドが表示されます。clustershellの `man`コマンドは、指定されたclustershellコマンド(`man <command_name>`のマニュアルページを表示します。 `man`の詳細については、link:https://docs.netapp.com/us-en/ontap-cli/man.html["ONTAPコマンド リファレンス"^]を参照してください。

* ノードシェルは、ノード レベルでのみ有効なコマンドのための特別なシェルです。
+
ノードシェルには `system node run`コマンドからアクセスできます。 `system node run`の詳細については、link:https://docs.netapp.com/us-en/ontap-cli/system-node-run.html["ONTAPコマンド リファレンス"^]を参照してください。

+
ノードシェルCLIヘルプ（ノードシェルプロンプトで `?`または `help`によってトリガーされる）は、使用可能なノードシェルコマンドを表示します。ノードシェル内の `man`コマンドは、指定されたノードシェルコマンドのマニュアルページを表示します。

+
よく使用されるノードシェル コマンドとオプションの多くは、クラスタシェルにトンネリング（エイリアス）されており、クラスタシェルからも実行できます。

* システムシェルは、診断とトラブルシューティングの目的に限って使用する下位レベルのシェルです。
+
システムシェルと関連する `diag`アカウントは、低レベルの診断を目的としています。アクセスには診断権限レベルが必要であり、トラブルシューティングタスクを実行するテクニカルサポート専用に予約されています。



この手順で説明されているコマンドの詳細については、link:https://docs.netapp.com/us-en/ontap-cli/["ONTAPコマンド リファレンス"^]を参照してください。



== クラスタシェルでのノードシェルのコマンドおよびオプションへのアクセス

ノードシェルのコマンドとオプションには、ノードシェルからアクセスできます。

`system node run –node _nodename_`

よく使用されるノードシェル コマンドとオプションの多くは、クラスタシェルにトンネリング（エイリアス）されており、クラスタシェルからも実行できます。

クラスタシェルでサポートされているノードシェルオプションは、 `vserver options clustershell`コマンドを使用してアクセスできます。これらのオプションを確認するには、 `vserver options -vserver _nodename_or_clustername_ -option-name ?`を使用してクラスタシェルCLIに問い合わせることができます。

クラスタシェルでノードシェルまたはレガシーのコマンドまたはオプションを入力した場合、そのコマンドまたはオプションに相当するクラスタシェル コマンドがある場合には該当するクラスタシェル コマンドを使用するように通知されます。

クラスタシェルでサポートされていないノードシェルまたはレガシー コマンドやオプションを入力すると、ONTAPはそのコマンドまたはオプションの「`サポートされていません`」ステータスを通知します。



== 利用可能なノードシェル コマンドの表示

ノードシェルからCLIヘルプを使用して、利用可能なノードシェル コマンドのリストを取得することができます。

.手順
. ノードシェルにアクセスするには、クラスタシェルのシステム プロンプトで次のコマンドを入力します。
+
`*system node run -node {_nodename_|local}*`

+
`local`は、クラスタへのアクセスに使用したノードです。

+
[NOTE]
====
 `system node run`コマンドにはエイリアスコマンド `run`があります。

====
. 利用可能なノードシェル コマンドのリストを表示するには、ノードシェルで次のコマンドを入力します。
+
`*[_commandname_] help*`

+
 `_commandname_`は、使用可能かどうかを表示するコマンドの名前です。 `_commandname_`を含めない場合、CLIは使用可能なすべてのノードシェルコマンドを表示します。

+
 `exit`を入力するか、Ctrl-d を入力すると、クラスタシェル CLI に戻ります。

+
 `exit`の詳細については、link:https://docs.netapp.com/us-en/ontap-cli/exit.html["ONTAPコマンド リファレンス"^]をご覧ください。



.利用可能なノードシェル コマンドを表示する例
次の例では、node2 という名前のノードのノードシェルにアクセスし、nodeshell コマンドの情報を表示します `environment`：

[listing]
----
cluster1::> system node run -node node2
Type 'exit' or 'Ctrl-D' to return to the CLI

node2> environment help
Usage: environment status |
     [status] [shelf [<adapter>[.<shelf-number>]]] |
     [status] [shelf_log] |
     [status] [shelf_stats] |
     [status] [shelf_power_status] |
     [status] [chassis [all | list-sensors | Temperature | PSU 1 |
     PSU 2 | Voltage | SYS FAN | NVRAM6-temperature-3 | NVRAM6-battery-3]]
----