---
permalink: system-admin/enable-telnet-rsh-access-cluster-task.html 
sidebar: sidebar 
keywords: enable, telnet, rsh, access, cluster, mgmt, management, service, policy, firewall, roles 
summary: セキュリティのベストプラクティスとして、TelnetとRSHはデフォルトで無効になっています。クラスタがTelnet要求またはRSH要求を受け入れることができるようにするには、デフォルトの管理サービスポリシーでサービスを有効にする必要があります。 
---
= クラスタへの Telnet アクセスまたは RSH アクセスを有効にします
:hardbreaks:
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
セキュリティのベストプラクティスとして、TelnetとRSHはデフォルトで無効になっています。クラスタがTelnet要求またはRSH要求を受け入れることができるようにするには、デフォルトの管理サービスポリシーでサービスを有効にする必要があります。

TelnetとRSHはセキュアなプロトコルではありません。SSHを使用してクラスタにアクセスすることを検討してください。SSHは、セキュアなリモートシェルおよび対話型ネットワークセッションを提供します。詳細については、を参照してください link:./access-cluster-ssh-task.html["SSHを使用したクラスタへのアクセス"]。

.このタスクについて
* ONTAPでは、1つのノードで同時に最大50のTelnetセッションまたはRSHセッションがサポートされます。
+
クラスタ管理 LIF がノード上に存在する場合、クラスタ管理 LIF はこの制限をノード管理 LIF と共有します。

+
着信接続の速度が 1 秒あたり 10 を超えると、サービスは一時的に 60 秒間無効になります。

* rshコマンドにはadvanced権限が必要です。


[role="tabbed-block"]
====
.ONTAP 9 .6以降
--
.手順
. RSHまたはTelnetセキュリティプロトコルが有効になっていることを確認します。
+
`security protocol show`

+
.. RSHまたはTelnetセキュリティプロトコルが有効になっている場合は、次の手順に進みます。
.. RSHまたはTelnetセキュリティプロトコルが有効になっていない場合は、次のコマンドを使用して有効にします。
+
`security protocol modify -application <rsh/telnet> -enabled true`



. またはサービスが管理LIFに存在することを確認し `management-rsh-server` `management-telnet-server` ます。
+
`network interface show -services management-rsh-server`

+
または

+
`network interface show -services management-telnet-server`

+
.. またはサービスが存在する場合は `management-rsh-server` `management-telnet-server` 、次の手順に進みます。
.. またはサービスが存在しない場合は `management-rsh-server` `management-telnet-server` 、次のコマンドを使用して追加します。
+
`network interface service-policy add-service -vserver cluster1 -policy default-management -service management-rsh-server`

+
`network interface service-policy add-service -vserver cluster1 -policy default-management -service management-telnet-server`





--
.ONTAP 9 .5以前
--
.このタスクについて
ONTAPでは、事前定義されているファイアウォールポリシーは変更できませんが、事前定義されている `mgmt`管理ファイアウォールポリシーをクローニングし、そのポリシーでTelnetまたはRSHを有効にすることで、新しいポリシーを作成できます。

.手順
. advanced 権限モードに切り替えます。
+
`set advanced`

. セキュリティプロトコル（RSHまたはTelnet）を有効にします。
+
`security protocol modify -application security_protocol -enabled true`

.  `mgmt`管理ファイアウォールポリシーに基づいて新しい管理ファイアウォールポリシーを作成します。
+
`system services firewall policy clone -policy _mgmt_ -destination-policy _policy-name_`

. 新しい管理ファイアウォールポリシーでTelnetまたはRSHを有効にします。
+
`system services firewall policy create -policy _policy-name_ -service _security_protocol_ -action allow -ip-list _ip_address/netmask_`

+
すべてのIPアドレスを許可するには、次のように指定します。 `-ip-list _0.0.0.0/0_`

. 新しいポリシーをクラスタ管理LIFに関連付けます。
+
`network interface modify -vserver cluster_management_LIF -lif cluster_mgmt -firewall-policy policy-name`



--
====