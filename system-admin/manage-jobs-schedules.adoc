---
permalink: system-admin/manage-jobs-schedules.html 
sidebar: sidebar 
keywords: job, categories, server, cluster, affiliated, private, commands, managing, show jobs, job schedule, stop a job, delete a job, pause a job, display private jobs, modify, cron, interval, delete, interval schedule, manage jobs and schedule, manage jobs, manage schedule 
summary: ジョブはジョブ キューに配置され、リソースが利用可能になるとバックグラウンドで実行されます。ジョブで使用するクラスタ リソースが多すぎる場合は、そのジョブを停止するか、またはクラスタに対する要求が少なくなるまで一時停止できます。また、ジョブを監視して再開することもできます。 
---
= ONTAPジョブとジョブスケジュールを管理する
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
ジョブはジョブ キューに配置され、リソースが利用可能になるとバックグラウンドで実行されます。ジョブで使用するクラスタ リソースが多すぎる場合は、そのジョブを停止するか、またはクラスタに対する要求が少なくなるまで一時停止できます。また、ジョブを監視して再開することもできます。



== ジョブのカテゴリ

管理可能なジョブには、サーバ関連、クラスタ関連、プライベートの3つのカテゴリがあります。

ジョブは、次のいずれかのカテゴリに分類されます。

* *サーバー関連ジョブ*
+
このジョブは、管理フレームワークによって、特定のノードで実行されるようにキューに登録されます。

* *クラスター関連ジョブ*
+
このジョブは、管理フレームワークによって、クラスタ内の任意のノードで実行されるようにキューに登録されます。

* *プライベートジョブ*
+
このジョブはノードに固有で、レプリケートされたデータベース（RDB）やその他のクラスタ メカニズムを使用しません。プライベート ジョブを管理するコマンドには、advanced権限レベル以上が必要です。





== ジョブの管理用コマンド

あるジョブを呼び出すコマンドを入力すると、通常、ジョブがキューに登録されたというメッセージが表示され、CLIのコマンド プロンプトに戻ります。ただし、一部のコマンドではジョブの進捗状況が表示され、ジョブが完了するまでCLIのコマンド プロンプトに戻りません。このような場合は、Ctrl+Cキーを押してジョブをバックグラウンドに移動できます。

|===
| 状況 | 使用するコマンド 


 a| 
すべてのジョブに関する情報を表示する
 a| 
`job show`



 a| 
ジョブに関する情報をノード単位で表示する
 a| 
`job show bynode`



 a| 
クラスタ関連ジョブに関する情報を表示する
 a| 
`job show-cluster`



 a| 
完了したジョブに関する情報を表示する
 a| 
`job show-completed`



 a| 
ジョブ履歴に関する情報を表示する
 a| 
`job history show`

クラスタ内の各ノードには最大25,000件のジョブレコードが保存されます。そのため、ジョブ履歴全体を表示しようとすると、長時間かかる可能性があります。長時間の待ち時間を回避するには、ノード、Storage Virtual Machine（SVM）、またはレコードIDでジョブを表示してください。



 a| 
プライベート ジョブのリストを表示する
 a| 
`job private show`（advanced権限レベル）



 a| 
完了したプライベート ジョブに関する情報を表示する
 a| 
`job private show-completed`（advanced権限レベル）



 a| 
ジョブ マネージャの初期化状態に関する情報を表示する
 a| 
`job initstate show`（advanced権限レベル）



 a| 
ジョブの進捗状況を監視する
 a| 
`job watch-progress`



 a| 
プライベート ジョブの進捗状況を監視する
 a| 
`job private watch-progress`（advanced権限レベル）



 a| 
ジョブを一時停止する
 a| 
`job pause`



 a| 
プライベート ジョブを一時停止する
 a| 
`job private pause`（advanced権限レベル）



 a| 
一時停止したジョブを再開する
 a| 
`job resume`



 a| 
一時停止したプライベート ジョブを再開する
 a| 
`job private resume`（advanced権限レベル）



 a| 
ジョブを停止する
 a| 
`job stop`



 a| 
プライベート ジョブを停止する
 a| 
`job private stop`（advanced権限レベル）



 a| 
ジョブを削除する
 a| 
`job delete`



 a| 
プライベート ジョブを削除する
 a| 
`job private delete`（advanced権限レベル）



 a| 
クラスタ関連ジョブとそのジョブを所有する使用不可能なノードとの関連付けを解除し、別のノードがジョブの所有権を取得できるようにする
 a| 
`job unclaim`（advanced権限レベル）

|===
[NOTE]
====
 `event log show`コマンドを使用して、完了したジョブの結果を確認できます。link:https://docs.netapp.com/us-en/ontap-cli/event-log-show.html["ONTAPコマンド リファレンス"^]の `event log show`の詳細をご覧ください。

====


== ジョブ スケジュールの管理用コマンド

多くのタスク（例えばボリュームスナップショット）は、指定したスケジュールで実行するように設定できます。特定の時間に実行されるスケジュールは、_cron_スケジュール（UNIX `cron`スケジュールに類似）と呼ばれます。間隔を置いて実行されるスケジュールは、_interval_スケジュールと呼ばれます。 `job schedule`コマンドを使用してジョブスケジュールを管理します。

ジョブスケジュールは、クラスタの日時を手動で変更しても調整されません。これらのジョブは、ジョブが作成された時点、または最後に実行された時点のクラスタの現在の時刻に基づいて実行されるようにスケジュールされます。したがって、クラスタの日時を手動で変更する場合は、 `job show`と `job history show`コマンドを使用して、スケジュールされたすべてのジョブがキューに登録され、要件に従って完了していることを確認する必要があります。

クラスタがMetroCluster構成に属している場合、両方のクラスタのジョブ スケジュールが同一である必要があります。そのため、ジョブ スケジュールを作成、変更、削除する場合、リモート クラスタでも同じ処理を実行する必要があります。

|===
| 状況 | 使用するコマンド 


 a| 
すべてのスケジュールに関する情報を表示する
 a| 
`job schedule show`



 a| 
ジョブのリストをスケジュール別に表示する
 a| 
`job schedule show-jobs`



 a| 
cronスケジュールに関する情報を表示する
 a| 
`job schedule cron show`



 a| 
インターバル スケジュールに関する情報を表示する
 a| 
`job schedule interval show`



 a| 
cronスケジュールを作成する
 a| 
`job schedule cron create`

ONTAP 9.10.1以降では、ジョブ スケジュールにSVMを含めることができます。



 a| 
インターバル スケジュールを作成する
 a| 
`job schedule interval create`

次のパラメータのうち少なくとも 1 つを指定する必要があります： `-days`、 `-hours`、 `-minutes`、または `-seconds`。



 a| 
cronスケジュールを変更する
 a| 
`job schedule cron modify`



 a| 
インターバル スケジュールを変更する
 a| 
`job schedule interval modify`



 a| 
スケジュールを削除する
 a| 
`job schedule delete`



 a| 
cronスケジュールを削除する
 a| 
`job schedule cron delete`



 a| 
インターバル スケジュールを削除する
 a| 
`job schedule interval delete`

|===
.関連情報
* link:https://docs.netapp.com/us-en/ontap-cli/search.html?q=job["ジョブ"^]

