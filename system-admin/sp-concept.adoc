---
permalink: system-admin/sp-concept.html 
sidebar: sidebar 
keywords: understand, sp, service, processor, remote, management, device, access, monitor, troubleshoot, node 
summary: サービスプロセッサ（ SP ）は、ノードに対するアクセス、監視、およびトラブルシューティングをリモートから行うことができるリモート管理デバイスです。 
---
= SP について
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
サービスプロセッサ（ SP ）は、ノードに対するアクセス、監視、およびトラブルシューティングをリモートから行うことができるリモート管理デバイスです。

SP の主な機能は次のとおりです。

* SP を使用すると、ノードコントローラの状態に関係なく、ノードにリモートからアクセスして、ノードの診断、シャットダウン、電源の再投入、リブートを実行できます。
+
SP はスタンバイ電圧で動作するため、少なくとも 1 つのノード電源装置から電力が供給されていれば使用可能です。

+
SP にログインするには、管理ホストから Secure Shell クライアントアプリケーションを使用します。ログインすると、 SP CLI を使用して、リモートからノードの監視とトラブルシューティングを行うことができます。さらに、 SP を使用してシリアルコンソールにアクセスし、リモートから ONTAP コマンドを実行できます。

+
SP にはシリアルコンソールからアクセスでき、また SP からシリアルコンソールにアクセスすることもできます。SP では、 SP CLI セッションと別のコンソールセッションを両方同時に開くことができます。

+
たとえば、温度センサーで異常な高温または低温が検知されると、 ONTAP のトリガーによって、 SP がマザーボードを正常にシャットダウンします。シリアルコンソールが応答しなくなりますが、コンソールで Ctrl+G を押して SP CLI にアクセスすることができます。次に、 SP から「 system power on 」または「 system power cycle 」コマンドを使用して、ノードの電源投入または再投入を行います。

* SP によって環境センサーが監視され、イベントがログに記録されるため、タイムリーで効果的なサービスアクションを実施できます。
+
SP は、ノードの温度、電圧、電流、ファン速度などの環境センサーを監視します。環境センサーが異常な状態になると、 SP は異常な測定値をログに記録し、 ONTAP に問題を通知します。また SP は、ノードが AutoSupport メッセージを送信できるかどうかに関係なく、 AutoSupport メッセージを通じて必要に応じてアラートおよび「自身のシステム」通知を送信します。

+
さらに、ブートの進行、 Field Replaceable Unit （ FRU ；フィールド交換可能ユニット）の交換、 ONTAP が生成するイベント、 SP のコマンド履歴といったイベントについてもログに記録します。AutoSupport メッセージを手動で起動し、指定したノードから収集された SP ログファイルを含めることができます。

+
SP は、停止したノードの代わりにこれらのメッセージを生成し、 AutoSupport メッセージに追加の診断情報を添付する以外には、 AutoSupport 機能にまったく影響を及ぼしません。AutoSupport の設定値やメッセージ内容は、 ONTAP から継承されます。

+
[NOTE]
====
SP は ' 通知を送信するために 'system node AutoSupport modify' コマンドの -transport パラメータ設定に依存しませんSP は Simple Mail Transport Protocol （ SMTP ）のみを使用し、メールホストの情報を含めるためにホストの AutoSupport 設定を必要とします。

====
+
SNMP が有効になっている場合、 SP は SNMP トラップを生成して、すべての「独自のシステム」イベントに対するトラップホストを設定します。

* SP には、 System Event Log （ SEL ；システムイベントログ）に最大 4 、 000 のイベントを格納できる不揮発性メモリバッファがあるため、問題の診断に役立ちます。
+
SEL には、各監査ログエントリが監査イベントとして格納されます。SP のオンボードフラッシュメモリに格納されています。SEL のイベントリストは、 SP によって、指定された受信者に AutoSupport メッセージを通じて自動的に送信されます。

+
SEL には次の情報が含まれています。

+
** SP によって検出されたハードウェアイベント。たとえば、電源装置、電圧、またはその他のコンポーネントに関するセンサーのステータスなどです
** SP が検出したエラー：通信エラー ' ファンの障害 ' メモリまたは CPU のエラーなど
** ノードから SP に送信されたクリティカルなソフトウェアイベント。たとえば、パニック、通信障害、ブート障害、または「システムの電源再投入」コマンドを発行した結果としてユーザによってトリガーされた「システム所有」コマンドなどです


* SP は、管理者によるコンソールログインまたはコンソール接続の有無にかかわらず、シリアルコンソールを監視します。
+
コンソールにメッセージが送信されると、 SP はメッセージをコンソールログに格納します。ノードのいずれかの電源装置から SP に給電されていれば、コンソールログの機能は維持されます。SP はスタンバイ電源で動作するので、ノードの電源再投入時または電源オフ時にも使用可能です。

* SP が設定されている場合、ハードウェアアシストテイクオーバーが可能です。
* SP API サービスを使用すると、 ONTAP と SP がネットワーク経由で通信できます。
+
このサービスは、 SP ファームウェアの更新にネットワークインターフェイスを使用する、ノードが別のノードの SP 機能やシステムコンソールにアクセスできるようにする、別のノードから SP ログをアップロードする、などのネットワークベースの機能をサポートすることで、 SP の ONTAP 管理を強化します。

+
SP API サービスの設定を変更するには、サービスで使用するポートを変更し、サービスで内部の通信に使用する SSL 証明書と SSH 証明書を更新するか、サービス全体を無効にします。



次の図は、 ONTAP およびノードの SP へのアクセスを示しています。SP インターフェイスは、イーサネットポート（シャーシ背面にあるレンチマークの付いたポート）経由でアクセスされます。

image::../media/drw-sp-netwk.gif[この図には説明が付随しています。]
