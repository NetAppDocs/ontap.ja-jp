---
permalink: tape-backup/dump-backup-concept.html 
sidebar: sidebar 
keywords: dump, backup, qtree, file, system, data 
summary: ダンプバックアップは、定義済みのプロセスに基づいて、ディスクからテープにファイルシステムのデータを書き込みます。バックアップ対象には、ボリューム、 qtree 、またはボリューム全体でも qtree 全体でもないサブツリーを指定できます。 
---
= ダンプバックアップの動作
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
ダンプバックアップは、定義済みのプロセスに基づいて、ディスクからテープにファイルシステムのデータを書き込みます。バックアップ対象には、ボリューム、 qtree 、またはボリューム全体でも qtree 全体でもないサブツリーを指定できます。

次の表に、ダンプパスで指定されたオブジェクトについて、 ONTAP が実行するバックアッププロセスを示します。

[cols="1,4"]
|===
| 段階 | アクション 


 a| 
1.
 a| 
フルボリュームバックアップまたはフル qtree バックアップ以外の場合、 ONTAP はディレクトリをたどってバックアップ対象のファイルを特定します。ボリューム全体または qtree 全体をバックアップする場合は、 ONTAP によってステージ 2 のプロセスが実行されます。



 a| 
2.
 a| 
フルボリュームバックアップまたはフル qtree バックアップの場合、 ONTAP はボリュームまたは qtree 内のバックアップ対象のディレクトリを特定します。



 a| 
3.
 a| 
ONTAP は、ディレクトリをテープに書き込みます。



 a| 
4.
 a| 
ONTAP はファイルをテープに書き込みます。



 a| 
5.
 a| 
ONTAP は、 ACL 情報（該当する場合）をテープに書き込みます。

|===
ダンプバックアップは、バックアップを実行するためにデータの Snapshot コピーを使用します。したがって、バックアップを開始する前にボリュームをオフラインにする必要はありません。

ダンプバックアップでは、作成した各Snapshotコピーにという名前を付けます `snapshot_for_backup.n`、ここで `n` は0から始まる整数です。ダンプバックアップにより Snapshot コピーが作成されるたびに、この整数値は 1 ずつ加算されます。ストレージシステムがリブートされると、この整数値は 0 にリセットされます。バックアップ処理が完了すると、ダンプエンジンはその Snapshot コピーを削除します。

ONTAP で複数のダンプバックアップを同時に実行すると、ダンプエンジンにより複数の Snapshot コピーが作成されます。たとえば、ONTAP が2つのダンプバックアップを同時に実行している場合、データのバックアップ元のボリューム内には次のSnapshotコピーが作成されます。 `snapshot_for_backup.0` および `snapshot_for_backup.1`。

[NOTE]
====
Snapshot コピーからバックアップする場合は、ダンプエンジンによって新たに Snapshot コピーが作成されることはありません。

====