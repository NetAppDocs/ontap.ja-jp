---
sidebar: sidebar 
permalink: task_admin_use_ansible_playbooks_add_edit_volumes_luns.html 
keywords: system manager, administration, ansible, playbook, add, edit, volume, lun 
summary: ONTAP 9.9.1以降では、System ManagerでボリュームやLUNを追加または編集するときにAnsible Playbookを使用できます。 
---
= Ansible Playbook を使用して、ONTAP System Manager でボリュームまたは LUN を追加または編集します
:hardbreaks:
:toclevels: 1
:allow-uri-read: 
:toclevels: 1
:nofooter: 
:icons: font
:linkattrs: 
:imagesdir: ./media/


[role="lead"]
ONTAP 9.9.1以降では、System ManagerでボリュームやLUNを追加または編集するときにAnsible Playbookを使用できます。

同じ設定を何度も使用したり、少しだけ変更して、ボリュームやLUNを追加または編集する場合に便利です。



== Ansible Playbookの有効化と無効化

Ansible Playbookの使用は、System Managerで有効または無効にすることができます。

.手順
. System Managerで、クラスタ設定ページに移動します。
+
*クラスタ＞設定*

. *UI設定*で、スライダースイッチを「有効」または「無効」に変更します。




== Ansible Playbookへのボリューム設定の保存

ボリュームの設定を作成または変更したら、その設定をAnsible Playbookファイルとして保存できます。

.手順
. ボリュームを追加または編集します。
+
*Volume > Add*（または *Volume > Edit*）

. ボリュームの設定値を指定または編集します。
. 設定を Ansible Playbook ファイルに保存するには、*Ansible Playbook に保存*を選択します。
+
次のファイルを含むzipファイルがダウンロードされます。

+
** `*variable.yaml*`：ボリュームを追加または編集するために入力または変更した値。
** `*volumeAdd.yaml*`（または `*volumeEdit.yaml*`）： `variable.yaml`ファイルから入力を読み取るときに値を作成または変更するために必要なテスト ケース。






== Ansible PlaybookへのLUN設定の保存

LUNの設定を作成または変更したら、その設定をAnsible Playbookファイルとして保存できます。

.手順
. LUNを追加または編集します。
+
*LUN > Add*（または *LUN > Edit*）

. LUNの設定値を指定または編集します。
. 設定を Ansible Playbook ファイルに保存するには、*Ansible Playbook に保存*を選択します：
+
次のファイルを含むzipファイルがダウンロードされます。

+
** `*variable.yaml*`：LUNを追加または編集するために入力または変更した値。
** `*lunAdd.yaml*`（または `*lunEdit.yaml*`）： `variable.yaml`ファイルから入力を読み取るときに値を作成または変更するために必要なテストケース。






== グローバル検索結果からのAnsible Playbookファイルのダウンロード

グローバル検索を実行してAnsible Playbookファイルをダウンロードできます。

.手順
. 検索フィールドに「volume」または「LUN」または「Playbook」と入力します。
. 検索結果として、「ボリューム管理（Ansible Playbook）」または「LUN 管理（Ansible Playbook）」を見つけます。
. image:icon_download.gif["ダウンロードアイコン"]をクリックして、Ansible Playbook ファイルをダウンロードします。




== Ansible Playbookファイルの操作

Ansible Playbookファイルを変更して実行することで、ボリュームやLUNの設定を指定できます。

.タスク概要
操作（「追加」または「編集」）を実行するには、次の2つのファイルを使用します：

[cols="20,40,40"]
|===


| 状況 | この変数ファイルを使用します... | そして、この実行ファイルを使用します... 


| ボリュームの追加 | `volumeAdd-varible.yaml` | `valueAdd.yaml` 


| ボリュームを編集する | `volumeEdit-variable.yaml` | `volumeEdit.yaml` 


| LUNを追加する | `lunAdd-variable.yaml` | `lunAdd.yaml` 


| LUNの編集 | `lunEdit-variable.yaml` | `lunEdit.yaml` 
|===
.手順
. 変数ファイルを変更します。
+
ファイルには、ボリュームまたはLUNの設定に使用するさまざまな値が含まれています。

+
** 値を変更しない場合は、コメントをそのまま残します。
** 値を変更する場合は、コメントを削除します。


. 関連付けられた実行ファイルを実行します。
+
実行ファイルには、変数ファイルから入力値を読み取るときに値を作成または変更するために必要なテスト ケースが含まれています。

. ログイン クレデンシャルを入力します。

