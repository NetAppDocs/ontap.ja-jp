---
sidebar: sidebar 
permalink: task_asa_software_configuration.html 
keywords: all san array, asa, san, array, software, configuration, configure, configuring, setup, set up, limitations, restrictions, nvme, mcc ip, persistent ports, host, settings, utilities, ways to identify 
summary: System Manager を使用してオール SAN アレイを設定するには、次の手順に従います。 
---
= オール SAN アレイソフトウェア構成
:toc: macro
:hardbreaks:
:toclevels: 1
:allow-uri-read: 
:toc: 
:toclevels: 1
:nofooter: 
:icons: font
:linkattrs: 
:imagesdir: ./media/
:toc-position: content


[role="lead"]
System Manager を使用してオール SAN アレイを設定するには、次の手順に従います。



== サポートされるすべての SAN アレイ構成

NetApp All SAN Array （ ASA ）は、実績のある AFF ネットアッププラットフォームを基盤としたオールフラッシュの SAN 専用ソリューションです。

ASA プラットフォームは、 2 ノードのスイッチ使用クラスタまたはスイッチレスクラスタで利用でき、 FC または iSCSI 用に設定したり、マルチパスに対称アクティブ / アクティブを使用したりできます。すべてのパスはアクティブ / 最適化されているため、ストレージフェイルオーバー時に、ホストは ALUA によるフェイルオーバーパスの移行を待機しなくても I/O を再開できますこれにより、フェイルオーバーにかかる時間が短縮されます。


NOTE: ONTAP 9.9..1 では、 AFF ASA 構成を最大 12 ノードまで拡張できるようになりました。ASA は ONTAP 9.7 以降でサポートされています。サポートされる構成をに示します link:http://mysupport.netapp.com/matrix/["NetApp Interoperability Matrix Tool で確認できます"^]。

link:http://www.netapp.com/us/media/tr-4515.pdf["ネットアップテクニカルレポート 4515 ：『 ONTAP AFF All SAN Array Systems 』"^]
 link:http://www.netapp.com/us/media/tr-4080.pdf["ネットアップテクニカルレポート 4080 ：『 Best Practices for Scalable SAN ONTAP 9 』"^]



== ASA をセットアップする

すべての SAN アレイ（ ASA ）は、非 ASA システムと同じセットアップ手順に従います。

System Manager では、クラスタの初期化、ローカル階層の作成、プロトコルの設定、および ASA 用のストレージのプロビジョニングに必要な手順を実行することができます。手順 ~ を参照してください xref:task_configure_ontap.html[ONTAP を設定します]。



== ASA の制限事項と制約事項

ONTAP 9.4.1 より前のバージョンでは、 AFF All SAN Array （ ASA ）コントローラの使用に関する制限事項と制限事項を理解しておく必要があります。

ASA は NVMe-oF プロトコルをサポートしていません。


NOTE: ONTAP 9.9.2.1 では、 NVMe-oF プロトコルのサポートが AFF ASA システムで利用できるようになりました。

AFF オール SAN アレイ（ ASA ）コントローラに対して設定された、サポートされるテスト済みの最大構成制限を使用する必要があります。安定した稼働を実現するために、に記載されている、テスト済みの制限およびサポートされる制限を超えないようにしてください link:https://hwu.netapp.com/["NetApp Hardware Universe の略"^]。

注： ONTAP 9.9..1 では、 AFF ASA 構成を最大 12 ノードまで拡張できるようになりました。また、 ASA をサポートする AFF プラットフォームに 8 ノード MCC IP 構成を導入できるようになりました。



== 永続ポートのサポート

ONTAP 9.8 以降では、 FC プロトコルを使用するように設定されたすべての SAN アレイ（ ASA ）で永続的ポートがデフォルトで有効になっています。永続ポートは FC にのみ使用でき、 World Wide Port Name （ WWPN ；ワールドワイドポート名）で識別されるゾーンメンバーシップが必要です。

永続的ポートは、 HA パートナーの対応する物理ポートにシャドウ LIF を作成することで、テイクオーバーの影響を軽減します。ノードのテイクオーバー時、パートナーノードのシャドウ LIF には、 WWPNe などの元の LIF の ID が引き継がれます。テイクオーバーされたノードへのパスのステータスが「障害」に変更される前は、シャドウ LIF がホスト MPIO スタックへのアクティブ / 最適パスとして表示され、 I/O がシフトされます。これにより、ストレージフェイルオーバー処理の実行中も、ホストには常にターゲットへの同じ数のパスが認識されるため、 I/O の中断が軽減されます。

永続ポートの場合、 HA ペア内では、次の FCP ポート特性を同一にする必要があります。

* FCP ポート数
* FCP ポート名
* FCP ポートの速度
* FCP LIF の WWPN ベースのゾーニング


HA ペア内でこれらの特性のいずれかが同じでない場合は、次の EMS メッセージが生成されます。

EMS ： scsiblade.lif.persistent.ports.fcp.init.error`

永続ポートの詳細については、を参照してください link:http://www.netapp.com/us/media/tr-4080.pdf["ネットアップテクニカルレポート 4080 ：『 Best Practices for Scalable SAN ONTAP 9 』"^]。



== ASA ホストの設定とユーティリティ

すべての SAN アレイ（ ASA ）をセットアップするためのホスト設定は、他のすべての SAN ホストの設定と同じです。

はダウンロードできます link:https://mysupport.netapp.com/NOW/cgi-bin/software["NetApp Host Utilities ソフトウェア"^] サポートサイトから特定のホストにアクセスできるようにします。



== ASA システムの識別方法

ASA システムは、 System Manager または ONTAP のコマンドラインインターフェイス（ CLI ）を使用して識別できます。

System Manager ダッシュボードで、 * Cluster > Overview * をクリックし、システムノードを選択します。パーソナリティ * は「 * All SAN Array * 」と表示されます。

CLI では、 san config show コマンドを使用できます。「 All SAN Array 」の値は、 ASA システムでは true を返します。
