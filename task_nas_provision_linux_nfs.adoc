---
sidebar: sidebar 
permalink: task_nas_provision_linux_nfs.html 
keywords: netapp, ontap, provisioning, nas, linux, servers, provision, LIF, network interface 
summary: ONTAP System Manager（9.7以降）でNFSプロトコルを使用してLinuxサーバーにストレージを提供するボリュームを作成します。 
---
= ONTAP System ManagerでNFSを使用してLinuxサーバー用のNASストレージをプロビジョニングする
:hardbreaks:
:toclevels: 1
:allow-uri-read: 
:toclevels: 1
:nofooter: 
:icons: font
:linkattrs: 
:imagesdir: ./media/


[role="lead"]
ONTAP System Manager（9.7以降）で、NFSプロトコルを使用してLinuxサーバ用のストレージを提供するボリュームを作成します。

この手順では、link:task_nas_enable_linux_nfs.html["既存のNFS対応ストレージVM"]に新しいボリュームを作成します。ボリュームを構成するときは、システムのデフォルトを受け入れることも、カスタム構成を指定することもできます。

FlexVolボリュームを作成したり、高パフォーマンスが求められる大規模なファイルシステム用にFlexGroupボリュームを作成したりできます。link:./flexgroup/create-task.html["FlexGroupボリュームを作成する"]も参照してください。

このボリュームの仕様をAnsible Playbookに保存することもできます。詳細については、link:task_admin_use_ansible_playbooks_add_edit_volumes_luns.html["Ansible Playbookを使用したボリュームやLUNの追加 / 編集"]をご覧ください。

ONTAP NFS プロトコルの機能範囲の詳細については、link:nfs-admin/index.html["NFSプロトコルのONTAPファイルアクセスについて学ぶ"]を参照してください。

.手順
. NFSが有効なStorage VMに新しいボリュームを追加します。
+
.. *ストレージ > ボリューム* をクリックし、*追加* をクリックします。
.. 名前を入力し、Storage VMを選択してサイズを入力します。
+
NFSプロトコルで構成されたストレージVMのみがリストに表示されます。SMBプロトコルで構成されたストレージVMが1つしか存在しない場合、「*ストレージVM*」フィールドは表示されません。

+
*** この時点で*保存*をクリックすると、System Manager はシステムのデフォルトを使用してFlexVol ボリュームを作成し、追加します。
+

NOTE: デフォルトのエクスポート ポリシーでは、すべてのユーザにフル アクセスが付与されます。

*** *その他のオプション*をクリックすると、ボリュームの設定をカスタマイズして、認証、サービス品質、データ保護などのサービスを有効にすることができます。<<ボリューム設定のカスタマイズ>>を参照した後、ここに戻って次の手順を完了してください。




. [[step2-complete-prov,Step 2 in the workflow]] Linux クライアントで、次の手順を実行してアクセスを確認します。
+
.. Storage VMのネットワーク インターフェイスを使用して、ボリュームを作成してマウントします。
.. 新しくマウントしたドライブで、テスト ファイルを作成し、テキストを書き込めることを確認したら削除します。


+
アクセスを確認した後、link:task_nas_provision_export_policies.html["ボリュームのエクスポートポリシーでクライアントアクセスを制限する"]マウントされたボリュームに必要な UNIX 所有権と権限を設定できます。





== ボリューム設定のカスタマイズ

ボリュームを追加するときに、システムのデフォルト設定を使用しないでボリューム設定をカスタマイズすることができます。

.手順
*その他のオプション*をクリックした後、必要な機能を選択し、必要な値を入力します。

* リモート ボリュームのキャッシュ。
* パフォーマンス サービス レベル（サービス品質、QoS）。
+
ONTAP 9.8以降では、デフォルト値以外のカスタムQoSポリシーを指定したり、QoSを無効にしたりできます。

+
** QoS を無効にするには、*カスタム*、*既存*、*なし* の順に選択します。
** *カスタム* を選択して既存のサービス レベルを指定すると、ローカル ティアが自動的に選択されます。
** ONTAP 9.9.1 以降では、カスタム パフォーマンス サービス レベルを作成する場合、System Manager を使用して、作成するボリュームを配置するローカル層（*手動配置*）を手動で選択できます。
+
このオプションは、リモート キャッシュまたはFlexGroupボリュームのオプションを選択した場合は使用できません。



* FlexGroupボリューム（*ボリューム データをクラスター全体に分散する*を選択）。
+
このオプションは、以前に*パフォーマンス サービス レベル*で*手動配置*を選択した場合には利用できません。それ以外の場合、追加するボリュームはデフォルトでFlexVol volumeになります。

* ボリュームに設定されるプロトコルのアクセス権限。
* SnapMirrorによるデータ保護（ローカルまたはリモート）。オプションを選択したあと、プルダウン リストからデスティネーション クラスタの保護ポリシーと設定を指定します。
* *保存*を選択してボリュームを作成し、クラスタとStorage VMに追加します。



NOTE: ボリュームを保存したら、<<step2-complete-prov>>に戻り、NFS を使用した Linux サーバーのプロビジョニングを完了します。



== ONTAPでこの処理を行うその他の方法

|===


| このタスクを実行するには... | 参照先 


| System Manager Classic（ONTAP 9.7以前） | link:https://docs.netapp.com/us-en/ontap-system-manager-classic/nfs-config/index.html["NFS 構成の概要"^] 


| ONTAPコマンドライン インターフェイス（CLI） | link:nfs-config/index.html["ONTAP CLI を使用した NFS 構成について学習します"] 
|===