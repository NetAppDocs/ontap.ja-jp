---
permalink: upgrade/concept_upgrade_requirements_for_snapmirror.html 
sidebar: sidebar 
keywords: ontap, upgrade, requirements, snapmirror 
summary: SnapMirror を実行しているクラスタをアップグレードするには、特定のタスクを実行する必要があります。 
---
= SnapMirror のアップグレード要件
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
SnapMirror を実行しているクラスタをアップグレードするには、特定のタスクを実行する必要があります。

* DP SnapMirror 関係にあるクラスタをアップグレードする場合は、ソースクラスタ / ノードをアップグレードする前に、デスティネーションクラスタ / ノードをアップグレードする必要があります。
* SnapMirror を実行しているクラスタをアップグレードする前に、デスティネーションボリュームを含む各ノードの SnapMirror 処理を休止し、ピア関係にある各 SVM の名前がクラスタ間で一意である必要があります。
+
SnapMirror 転送が失敗しないようにするには、 SnapMirror 処理を一時停止する必要があります。また、ソースノードよりも先にデスティネーションノードをアップグレードしなければならない場合もあります。次の表に、 SnapMirror 処理を一時停止するための 2 つのオプションを示します。

+
[cols="3*"]
|===
| オプション | 説明 | ソースノードよりも先にデスティネーションノードをアップグレードする必要がある 


 a| 
NDU （無停止アップグレード）の実行時に SnapMirror 処理を一時停止する
 a| 
SnapMirror 環境でアップグレードを行うときは、すべての SnapMirror 処理を一時停止してアップグレードを実行し、完了後に SnapMirror 処理を再開する方法が最も簡単です。ただし、この方法では、 NDU を実行している間は SnapMirror 転送が行われません。相互にボリュームをミラーリングしているノードがクラスタにある場合は、この方法を使用する必要があります。
 a| 
いいえ。任意の順序でノードをアップグレードできます。



 a| 
一度に 1 つのデスティネーションボリュームで SnapMirror 処理を一時停止する
 a| 
特定のデスティネーションボリュームの SnapMirror 転送を一時停止し、デスティネーションボリュームを含むノード（または HA ペア）、ソースボリュームを含むノード（または HA ペア）の順にアップグレードして、完了後にデスティネーションボリュームの SnapMirror 転送を再開できます。この方法を使用すると、デスティネーションボリュームを含むノードとソースボリュームを含むノードをアップグレードしている間、他のすべてのデスティネーションボリュームの SnapMirror 転送を続行できます。
 a| 
はい。

|===


SVM ピアリングを実行するには、 SVM 名がクラスタ間で一意である必要があります。SVM には、「 d`ataVerser.hq" 」や「 `mirrorVserver.Offsite" 」など、一意な完全修飾ドメイン名（ FQDN ）を使用することを推奨します。FQDN の命名形式を使用することで、一意性を確保しやすくなります。

link:../concepts/index.html["ONTAP の概念"]
