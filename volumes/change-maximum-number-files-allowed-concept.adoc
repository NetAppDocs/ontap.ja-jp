---
permalink: volumes/change-maximum-number-files-allowed-concept.html 
sidebar: sidebar 
keywords: considerations, changing, maximum number of files, allowed, flexvol volume, maximum, files, file 
summary: FlexVolボリュームには保存できるファイルの最大数があります。この最大数は変更できますが、ボリュームにどのような影響があるかに注意してください。 
---
= ONTAPのFlexVolボリュームで許可されるファイルのデフォルト数と最大数
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
FlexVolボリュームには、保存できるファイルのデフォルト数と最大数があります。データに多数のファイルが必要な場合は、ボリューム上でユーザーが表示できるファイルの数を最大値まで増やすことができます。続行する前に、制限事項と注意事項を理解しておく必要があります。

ボリュームに格納できるユーザーに見えるファイルの数は、ボリュームの利用可能なinode容量によって決まります。inodeは、ファイルに関する情報を格納するデータ構造です。

ONTAPは、ボリュームのサイズに基づいて、新しく作成されたボリュームの使用可能なinodeのデフォルト数と最大数を次のように自動的に設定します。

[cols="2,2"]
|===
| デフォルトのinode数 | 最大inode数 


| ボリュームサイズ32KBごとに1つ | ボリュームサイズ4KBごとに1つ 
|===
ボリュームのサイズが管理者によって手動で、またはONTAPの自動サイズ設定機能によって自動的に増加されると、ONTAP は（必要に応じて）ボリュームのサイズが約680GBに達するまで、ボリュームサイズ32KBあたり少なくとも1つのinodeが存在するように、使用可能なinodeの数も増加します。

ONTAP 9.12.1以前では、680GBを超えるサイズのボリュームを新規作成したり、既存のボリュームのサイズを変更したりしても、inode容量は自動的には増加しません。ボリュームのサイズに関わらず、デフォルトの数よりも多くのファイルが必要な場合は、 `volume modify`コマンドを使用して、ボリュームで使用可能なinode数を最大値まで増やすことができます。

ONTAP 9.13.1以降では、ボリュームが680GBを超える場合でも、新しいボリュームを作成するか既存のボリュームのサイズを変更すると、使用可能なinodeのデフォルト数がボリュームスペース32KBあたり1inodeに設定されます。この比率は、ボリュームがinodeの絶対最大値である2,040,109,451に達するまで維持されます。

利用可能なinodeの数を減らすこともできます。これによりinodeに割り当てられる容量は変わりませんが、パブリックinodeファイルが消費できる最大容量は減ります。inodeに割り当てられた容量は、ボリュームに返還されることはありません。したがって、現在割り当てられているinodeの数よりも最大inode数を減らすことはできません。

.詳細情報
* xref:display-file-inode-usage-task.html[ボリュームのファイルとinodeの使用量の確認]
* link:++https://kb.netapp.com/on-prem/ontap/Ontap_OS/OS-KBs/FAQ_-_ONTAP_default_and_maximum_number_of_files_(inodes)++["NetAppナレッジベース：FAQ - ONTAPデフォルトおよび最大ファイル数（inode）"^]

