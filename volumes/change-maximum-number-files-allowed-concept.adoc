---
permalink: volumes/change-maximum-number-files-allowed-concept.html 
sidebar: sidebar 
keywords: considerations, changing, maximum number of files, allowed, flexvol volume, maximum, files, file 
summary: FlexVolには、格納できるファイルの最大数があります。この最大値は変更できますが、この値がボリュームに与える影響に注意してください。 
---
= ONTAPのFlexVolボリュームに許可されるファイルのデフォルト数と最大数
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
FlexVolボリュームには、保存できるファイルのデフォルト数と最大数があります。データに多数のファイルが必要な場合は、ボリューム上でユーザーが表示できるファイルの数を最大値まで増やすことができます。続行する前に、制限事項と注意事項を理解しておく必要があります。

ボリュームに含めることができるユーザーに表示されるファイルの数は、ボリュームで使用可能な inode 容量によって決まります。  inode は、ファイルに関する情報を含むデータ構造です。

ONTAP は、ボリュームのサイズに基づいて、新しく作成されたボリュームの使用可能な inode のデフォルト数と最大数を次のように自動的に設定します。

[cols="2,2"]
|===
| デフォルトのiノード数 | 最大iノード数 


| ボリュームサイズ32KBごとに1つ | ボリュームサイズ4KBごとに1つ 
|===
ボリュームのサイズが管理者によって手動で、または ONTAP の自動サイズ設定機能によって自動的に増加されると、 ONTAP は、ボリュームのサイズが約 680 GB に達するまで、ボリューム サイズ 32 KB あたり少なくとも 1 つの inode が存在するように、使用可能な inode の数も（必要に応じて）増加します。

ONTAP 9.12.1 以前では、新しいボリュームを作成したり、サイズが 680 GB を超える既存のボリュームのサイズを変更したりしても、inode 容量が自動的に追加されることはありません。ボリュームのサイズに応じてデフォルトの数よりも多くのファイルが必要な場合は、 `volume modify`ボリュームの使用可能な inode の数を最大値まで増やすコマンド。

ONTAP 9.13.1 以降では、新しいボリュームを作成するか、既存のボリュームのサイズを変更すると、ボリュームが 680 GB より大きい場合でも、使用可能な inode のデフォルト数がボリューム スペース 32 KB あたり 1 inode に設定されます。この比率は、ボリュームが絶対的な inode 最大値 2,040,109,451 に達するまで持続します。

使用可能な inode の数を減らすこともできます。これにより、inode に割り当てられるスペースの量は変更されませんが、パブリック inode ファイルが消費できるスペースの最大量は削減されます。inode用にいったん割り当てられたスペースがボリュームに戻されることはありません。したがって、現在割り当てられている inode の数よりも最大 inode の数を減らすことはできません。

.詳細情報
* xref:display-file-inode-usage-task.html[ボリュームのファイルとinodeの使用量を確認する]
* link:++https://kb.netapp.com/on-prem/ontap/Ontap_OS/OS-KBs/FAQ_-_ONTAP_default_and_maximum_number_of_files_(inodes)++["ナレッジベースの記事: FAQ - ONTAP のデフォルトおよび最大ファイル数 (inode)"]

