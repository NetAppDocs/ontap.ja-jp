---
permalink: volumes/change-security-style-qtree-affects-quotas-concept.html 
sidebar: sidebar 
keywords: changing, security, style of a qtree, affects, user quotas, qtree, security style, style, quota 
summary: qtreeのセキュリティ形式を変更すると、クォータの計算方法に影響することがあります。qtreeのセキュリティ形式を変更した場合は、必ずクォータを再初期化する必要があります。 
---
= qtreeのセキュリティ形式とユーザ クォータ
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
アクセス制御リスト（ACL）は、NTFSまたはmixedセキュリティ形式ではqtreeに適用できますが、UNIXセキュリティ形式では適用できません。qtreeのセキュリティ形式を変更すると、クォータの計算方法に影響することがあります。qtreeのセキュリティ形式を変更した場合は、必ずクォータを再初期化する必要があります。

qtreeのセキュリティ形式をNTFS形式または混合形式からUNIX形式に変更した場合、そのqtree内のファイルに適用されたACLはすべて無視され、ファイルの使用量はUNIXユーザIDに基づいて加算されるようになります。

qtreeのセキュリティ形式をUNIX形式から混合形式またはNTFS形式に変更した場合は、それまで非表示だったACLが表示されるようになります。また、無視されていたACLが再び有効になり、NFSユーザ情報が無視されます。既存のACLがない場合、NFS情報がクォータの計算で引き続き使用されます。

[NOTE]
====
qtreeのセキュリティ形式を変更したあとは、UNIXユーザとWindowsユーザ両方のクォータの使用が正しく計算されるように、そのqtreeを含むボリュームのクォータを再初期化する必要があります。

====
.例
qtreeのセキュリティ形式の変更によって、特定のqtree内のファイルの使用量を加算されるユーザがどのように変わるかについての例を次に示します。

qtree AではNTFSセキュリティが有効であり、ACLによってWindowsユーザcorp\joeに5MBのファイルの所有権が与えられているとします。ユーザcorp\joeには、qtree Aについて5MBのディスク スペース使用量が加算されています。

ここで、qtree Aのセキュリティ形式をNTFS形式からUNIX形式に変更します。クォータの再初期化を行うと、Windowsユーザcorp\joeに対して、このファイルが加算されなくなります。代わりに、ファイルのUIDに対応するUNIXユーザに対して、このファイルが加算されます。UIDは、corp\joeにマッピングされたUNIXユーザまたはルート ユーザになります。
