---
permalink: volumes/configure-automatic-grow-shrink-size-task.html 
sidebar: sidebar 
keywords: configure, volumes, automatically, grow, shrink, size 
summary: 必要なスペースに応じて FlexVol ボリュームを自動的に拡張または縮小するように設定できます。自動拡張機能を使用すると、アグリゲートがスペースを多く提供できても、ボリュームがスペース不足になるのを防止できます。自動縮小機能を使用すると、ボリュームが必要以上に拡張されるのを防止し、アグリゲート内のスペースを他のボリュームで使用できるように解放できます。 
---
= ボリュームのサイズを自動的に拡張および縮小するように設定します
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
必要なスペースに応じて FlexVol ボリュームを自動的に拡張または縮小するように設定できます。自動拡張機能を使用すると、アグリゲートがスペースを多く提供できても、ボリュームがスペース不足になるのを防止できます。自動縮小機能を使用すると、ボリュームが必要以上に拡張されるのを防止し、アグリゲート内のスペースを他のボリュームで使用できるように解放できます。

.必要なもの
FlexVol ボリュームはオンラインである必要があります。

.このタスクについて
自動縮小は、変化するスペース需要に対応するために自動拡張と組み合わせて使用することができ、単独で使用することはできません。自動縮小を有効にした場合、自動拡張と自動縮小の処理が無限に繰り返されないように縮小動作が ONTAP で自動的に制御されます。

ボリュームが拡張されると、格納できるファイルの最大数が自動的に増える可能性があります。ボリュームが縮小されても格納できるファイルの最大数は変わらず、ボリュームが縮小前のファイルの最大数に対応するサイズよりも小さくなることはありません。そのため、自動縮小でボリュームを元のサイズに戻すことはできません。

デフォルトでは、ボリュームの最大サイズは、自動拡張を有効にしたときのサイズの 120% まで拡張できます。それよりも大容量にする必要がある場合は、必要に応じてボリュームの最大サイズを設定する必要があります。

.ステップ
. ボリュームのサイズを自動的に拡張および縮小するように設定します。
+
`volume autosize -vserver vserver_namevol_name -mode grow_shrink`

+
次のコマンドは、test2というボリュームで自動サイズ変更を有効にします。ボリュームの 60% が使用された時点で縮小を開始するように設定します。拡張を開始するタイミングおよび最大サイズについてはデフォルト値のままです。

+
[listing]
----
cluster1::> volume autosize -vserver vs2 test2 -shrink-threshold-percent 60
vol autosize: Flexible volume "vs2:test2" autosize settings UPDATED.

Volume modify successful on volume: test2
----

