---
permalink: volumes/enable-temperature-sensitive-efficiency-concept.html 
sidebar: sidebar 
keywords: enable, temperature, sensitive, storage, efficiency, sequential packing 
summary: ONTAP 9.8で導入された温度に敏感なストレージ効率は、一部のAFFボリュームでは自動的に有効になり、既存のボリュームでは手動で有効になります。 
---
= ONTAPの温度に影響されるストレージ効率について学ぶ
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
ONTAPは、ボリュームのデータへのアクセス頻度を評価し、その頻度とデータに適用される圧縮レベルをマッピングすることで、温度感応ストレージ効率（TSSE）のメリットを提供します。アクセス頻度の低いコールドデータについては大きなデータブロックを圧縮し、アクセス頻度が高く、上書きされる頻度が高いホットデータについては小さなデータブロックを圧縮することで、処理効率を高めます。

TSSEはONTAP 9.8で導入され、新規に作成されたシンプロビジョニングAFFボリュームで自動的に有効化されます。温度に敏感なストレージ効率は、既存のシンプロビジョニングAFFボリュームと、シンプロビジョニングされた非AFF DPボリュームで有効にできます。TSSEはシックプロビジョニングボリュームではサポートされません。

温度に依存するストレージ効率化は、次のプラットフォームには適用されません：

[cols="2"]
|===
| プラットフォーム | ONTAPのバージョン 


 a| 
* AFF A1K用
* AFF A90
* AFF A70
* FAS90
* FAS70

| 9.15.1以降 


 a| 
* AFF C80用
* AFF C60
* AFF C30
* AFF A50
* AFF A30

| 9.16.1以降 
|===
これらのプラットフォームはlink:../concepts/builtin-storage-efficiency-concept.html["CPUまたは専用オフロード プロセッサによるストレージ効率化"]を使用します。圧縮は、ホット データまたはコールド データに基づかず、メイン CPU または専用のオフロード プロセッサを使用して実行されます。


NOTE: 時間の経過とともに、ボリュームで使用されるスペースの量は、TSSEでは8Kアダプティブ圧縮よりも顕著になる可能性があります。この動作は、TSSEと8Kアダプティブ圧縮のアーキテクチャ上の違いによるものです。

.「default」モードと「efficient」モードの導入
ONTAP 9.10.1以降、AFFシステムのみにボリュームレベルのストレージ効率モード_default_と_efficient_が導入されました。これらの2つのモードでは、新規AFFボリューム作成時のデフォルトモードであるファイル圧縮（default）と、自動適応型圧縮を用いてアクセス頻度の低いコールドデータの圧縮率を向上させる温度感応型ストレージ効率（efficient）のいずれかを選択できます。

ONTAP 9.10.1以降にアップグレードする場合、既存のボリュームには、現在ボリュームで有効になっている圧縮のタイプに基づいてストレージ効率モードが割り当てられます。アップグレード中、圧縮が有効になっているボリュームにはデフォルト モードが割り当てられ、温度に依存するストレージ効率が有効になっているボリュームには効率的モードが割り当てられます。圧縮が有効になっていない場合、ストレージ効率モードは空白のままになります。

ONTAP 9.10.1では、link:../volumes/set-efficiency-mode-task.html["温度に敏感なストレージ効率は明示的に設定する必要があります"]自動アダプティブ圧縮が有効になります。ただし、インライン データ コンパクション、自動重複排除スケジュール、インライン重複排除、ボリューム間インライン重複排除、ボリューム間バックグラウンド重複排除といったその他のストレージ効率化機能はAFFプラットフォームではデフォルトモードと効率化モードの両方でデフォルトで有効になっています。

両方のストレージ効率モード（デフォルトと効率的）は、FabricPool対応アグリゲートおよびすべての階層化ポリシー タイプでサポートされます。

.Cシリーズ プラットフォームでTemperature Sensitive Storage Efficiencyを有効にする
温度に敏感なストレージ効率はAFF C シリーズ プラットフォームではデフォルトで有効になっています。また、ボリューム移動を使用して、またはSnapMirrorを使用して、移行先に次のリリースがインストールされている状態で、非 TSSE プラットフォームから TSSE 対応の C シリーズ プラットフォームにシン プロビジョニングされたボリュームを移行する場合にも有効になっています。

* ONTAP 9.12.1P4以降
* ONTAP 9.13.1以降


詳細については、link:../volumes/storage-efficiency-behavior-snapmirror-reference.html["ボリューム移動処理とSnapMirror処理でのStorage Efficiencyの動作"]を参照してください。

既存のシンプロビジョニングボリュームでは、温度に敏感なストレージ効率は自動的には有効になりませんが、link:../volumes/change-efficiency-mode-task.html["ストレージ効率モードを変更する"]を使用して手動で効率モードに変更できます。


NOTE: いったんStorage Efficiencyモードをefficientに変更すると、元には戻せません。

.連続する物理ブロックのシーケンシャル パッキングによるストレージ効率の向上
ONTAP 9.13.1以降、温度に敏感なストレージ効率に、連続する物理ブロックのシーケンシャルパッキングが追加され、ストレージ効率がさらに向上します。温度に敏感なストレージ効率が有効になっているボリュームでは、システムをONTAP 9.13.1にアップグレードすると、シーケンシャルパッキングが自動的に有効になります。シーケンシャルパッキングを有効にした後は、link:../volumes/run-efficiency-operations-manual-task.html["既存のデータを手動で再パックする"]する必要があります。
