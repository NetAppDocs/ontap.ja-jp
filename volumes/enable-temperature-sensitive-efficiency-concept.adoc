---
permalink: volumes/enable-temperature-sensitive-efficiency-concept.html 
sidebar: sidebar 
keywords: enable, temperature, sensitive, storage, efficiency, sequential packing 
summary: ONTAP 9 8で導入された温度に基づくStorage Efficiencyは、一部のAFFボリュームでは自動的に、既存のボリュームでは手動で有効になります。 
---
= ONTAPの温度に敏感なストレージ効率について学ぶ
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
ONTAP は、ボリュームのデータへのアクセス頻度を評価し、その頻度をそのデータに適用される圧縮度にマッピングすることで、温度に敏感なストレージ効率 (TSSE) の利点を実現します。あまりアクセスされないコールド データは大きなデータ ブロックで圧縮され、頻繁にアクセスされて上書きされるホット データは小さなデータ ブロックで圧縮されるため、プロセスが効率化されます。

TSSE はONTAP 9.8 で導入され、新しく作成されたシンプロビジョニングされたAFFボリュームで自動的に有効になります。Temperature Sensitive Storage Efficiencyは、既存のAFFボリュームと、シンプロビジョニングされた非AFF DPボリュームで有効にできます。

温度に敏感なストレージ効率は、次のプラットフォームには適用されません。

[cols="2"]
|===
| プラットフォーム | ONTAPのバージョン 


 a| 
* AFF A1K用
* AFF A90用
* AFF A70用
* FAS90
* FAS70

| 9.15.1以降 


 a| 
* AFF C80用
* AFF C60用
* AFF C30用
* AFF A50用
* AFF A30用

| 9.16.1以降 
|===
これらのプラットフォームはlink:../concepts/builtin-storage-efficiency-concept.html["CPUまたは専用オフロードプロセッサのストレージ効率"]。圧縮は、ホット データまたはコールド データに基づかず、メイン CPU または専用のオフロード プロセッサを使用して実行されます。


NOTE: 時間が経つにつれて、ボリューム内で使用されるスペースの量は、8K アダプティブ圧縮と比較して TSSE でより顕著になる可能性があります。この動作は、TSSE と 8K アダプティブ圧縮のアーキテクチャ上の違いにより予想されるものです。

.「デフォルト」モードと「効率的」モードの導入
ONTAP 9 .10.1以降では、AFFシステムにのみ_default_and_efficient_volume-levelのStorage Efficiencyモードが導入されています。この2つのモードでは、ファイル圧縮（デフォルト）（新しいAFFボリュームの作成時のデフォルトモード）と、自動アダプティブ圧縮を使用してコールドデータやアクセス頻度の低いデータに対して圧縮による削減効果を高める温度重視のStorage Efficiency（効率的）のどちらかを選択できます。

ONTAP 9 .10.1以降にアップグレードする場合、既存のボリュームには、ボリュームで現在有効になっている圧縮のタイプに基づいてStorage Efficiencyモードが割り当てられます。アップグレードの実行中、圧縮が有効なボリュームにはデフォルトモードが割り当てられ、温度に基づくStorage Efficiencyが有効なボリュームには効率モードが割り当てられます。圧縮が有効になっていない場合、Storage Efficiencyモードは空白のままです。

link:../volumes/set-efficiency-mode-task.html["温度に基づくストレージ効率化は明示的に設定する必要があります"]自動アダプティブ圧縮を有効にするには、ONTAP 9 .10.1を使用します。ただし、AFFプラットフォームでは、データコンパクション、自動重複排除スケジュール、インライン重複排除、ボリューム間インライン重複排除、ボリューム間バックグラウンド重複排除などの他のStorage Efficiency機能が、デフォルトモードと効率モードのどちらでもデフォルトで有効になります。

どちらのStorage Efficiencyモード（デフォルトと効率化）も、FabricPool対応のアグリゲートでサポートされ、すべての階層化ポリシータイプでサポートされます。

.Cシリーズプラットフォームで温度に基づくStorage Efficiencyを有効化
温度に基づくStorage Efficiencyは、AFF Cシリーズプラットフォーム、および次のリリースがインストールされたデスティネーションでボリューム移動またはSnapMirrorを使用して、非TSSEプラットフォームからTSSE対応Cシリーズプラットフォームにボリュームを移行する場合、デフォルトで有効になります。

* ONTAP 9.12.1P4以降
* ONTAP 9.13.1以降


詳細については、を参照してください link:../volumes/storage-efficiency-behavior-snapmirror-reference.html["ボリューム移動処理とSnapMirror処理でのStorage Efficiencyの動作"]。

既存のボリュームでは、温度に基づくStorage Efficiencyは自動的には有効になりませんが、手動で効率化モードに変更できます。link:../volumes/change-efficiency-mode-task.html["Storage Efficiencyモードを変更します"]


NOTE: Storage Efficiencyモードを効率化モードに変更したあとに元に戻すことはできません。

.連続する物理ブロックをシーケンシャルにパッキングすることでストレージ効率が向上
ONTAP 9 .13.1以降では、温度に左右されるストレージ効率化機能によって、連続する物理ブロックのシーケンシャルパッキングが追加され、ストレージ効率がさらに向上します。システムをONTAP 9にアップグレードすると、温度の影響を受けやすいStorage Efficiencyが有効になっているボリュームでは、シーケンシャルパッキングが自動的に有効になります。13.1シーケンシャルパッキングを有効にした後は、を実行する必要がありますlink:../volumes/run-efficiency-operations-manual-task.html["既存のデータを手動で再パックします"]。
