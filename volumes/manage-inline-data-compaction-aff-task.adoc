---
permalink: volumes/manage-inline-data-compaction-aff-task.html 
sidebar: sidebar 
keywords: manage, inline, data, compaction, aff, systems 
summary: 「volume efficiency modify」コマンドを使用して、AFF システム上のインライン データ コンパクションをボリューム レベルで制御します。 
---
= AFFシステムのインライン データ コンパクションの管理
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
AFFシステムでは、 `volume efficiency modify`コマンドを使用してボリューム レベルでインライン データ コンパクションを制御できます。データ コンパクションは、AFFシステム上のすべてのボリュームでデフォルトで有効になっています。

.開始する前に
データ コンパクションを行うには、ボリュームのスペース ギャランティを `none`に設定する必要があります。これはAFFシステムのデフォルトです。

[NOTE]
====
AFF以外のデータ保護ボリュームでは、スペース ギャランティがデフォルトでnoneに設定されます。

====
.手順
. ボリュームのスペース ギャランティ設定を確認するには、次のコマンドを実行します。
+
`volume show -vserver vserver_name -volume volume_name –fields space-guarantee`

. データ コンパクションを有効にするには、次のコマンドを実行します。
+
`volume efficiency modify -vserver vserver_name -volume volume_name -data-compaction true`

. データ コンパクションを無効にするには、次のコマンドを実行します。
+
`volume efficiency modify -vserver vserver_name -volume volume_name -data-compaction false`

. データ コンパクションのステータスを表示するには、次のコマンドを実行します。
+
`volume efficiency show -instance`



.例
`cluster1::> volume efficiency modify -vserver vs1 -volume vol1 -data-compaction true` `cluster1::> volume efficiency modify -vserver vs1 -volume vol1 -data-compaction false`
