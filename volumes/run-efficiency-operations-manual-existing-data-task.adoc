---
permalink: volumes/run-efficiency-operations-manual-existing-data-task.html 
sidebar: sidebar 
keywords: run, efficiency, operations, manually, existing, data 
summary: 重複排除、データ圧縮、またはデータコンパクションを有効にする前に、温度に影響を受けないストレージ効率ボリュームに存在するデータに対して効率化操作を手動で実行します。 
---
= 既存データに対する効率化処理の手動実行
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
重複排除、データ圧縮、データ コンパクションを有効にする前に、温度に基づくストレージ効率化が無効なボリューム上のデータに対して効率化処理を手動で実行できます。これらの処理は、ONTAP 9.8より前のバージョンのONTAPで実行できます。

.タスク概要
この処理は、 `-scan-old-data`パラメータを指定した `volume efficiency start`コマンドを使用して実行されます。 `-compression`オプションは、Temperature-Sensitive Storage Efficiencyボリュームの `-scan-old-data`では機能しません。ONTAP 9.8以降では、Temperature-Sensitive Storage Efficiencyボリュームの既存データに対して、非アクティブデータ圧縮が自動的に実行されます。

ボリュームで重複排除のみを有効にすると、データに対して重複排除が実行されます。ボリュームで重複排除、データ圧縮、データ コンパクションを有効にすると、データ圧縮が先に実行され、そのあとに重複排除とデータ コンパクションが実行されます。

既存データに対してデータ圧縮を実行する場合、デフォルトでは、重複排除によって共有されているデータブロックとSnapshotによってロックされているデータブロックはデータ圧縮処理の対象になりません。共有ブロックに対してデータ圧縮を実行することを選択した場合、最適化は無効になり、フィンガープリント情報が取得されて再度共有に使用されます。既存データの圧縮時のデータ圧縮のデフォルトの動作は変更できます。

ノードあたり最大8つの重複排除、データ圧縮、またはデータ コンパクション処理を同時に実行できます。それ以上の処理はキューに登録されます。

[NOTE]
====
AFFプラットフォームではポストプロセス圧縮が実行されません。この処理がスキップされたことを通知するEMSメッセージが生成されます。

====
 `volume efficiency start`の詳細については、link:https://docs.netapp.com/us-en/ontap-cli/volume-efficiency-start.html["ONTAPコマンド リファレンス"^]をご覧ください。

.手順
.  `volume efficiency start -scan-old-data`コマンドを使用して、既存のデータに対して重複排除、データ圧縮、またはデータコンパクションを手動で実行します。
+
次のコマンドは、これらの処理をボリュームVolAの既存データに対して手動で実行します。

+
`volume efficiency start -vserver vs1 -volume VolA -scan-old-data true [-compression | -dedupe | -compaction ] true`



.関連情報
* link:run-efficiency-operations-manual-task.html["効率化処理の手動実行"]

