---
permalink: volumes/space-display-quota-report-unix-client-concept.html 
sidebar: sidebar 
keywords: difference, space usage, displayed, quota report, unix client 
summary: クォータ レポートに示されるFlexVolまたはqtreeの使用済みディスク スペースの値が、UNIXクライアントに表示される同じFlexVolまたはqtreeの使用済みスペースの値と異なる場合があります。 
---
= クォータ レポートとUNIXクライアントで表示されるスペース使用量の相違の概要
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
クォータ レポートに示されるFlexVolまたはqtreeの使用済みディスク スペースの値が、UNIXクライアントに表示される同じFlexVolまたはqtreeの使用済みスペースの値と異なる場合があります。これらの値が異なる理由は、クォータ レポートとUNIXコマンドがそれぞれ異なる方法でボリュームまたはqtree内のデータ ブロックを計算するためです。

例えば、ボリュームに空のデータ ブロック（データが書き込まれていない）を持つファイルが含まれている場合、そのボリュームのクォータ レポートでは、スペース使用量を報告する際に空のデータ ブロックはカウントされません。しかし、ボリュームが UNIX クライアントにマウントされ、 `ls` コマンドの出力としてファイルが表示される場合、空のデータ ブロックもスペース使用量に含まれます。そのため、 `ls` コマンドでは、クォータ レポートに表示されるスペース使用量よりも大きなファイル サイズが表示されます。

同様に、クォータ レポートに表示されるスペース使用量の値は、 `df`や `du`などの UNIX コマンドの結果として表示される値と異なる場合があります。



== クォータ レポートのディスク スペースとファイル使用量の表示

FlexVolまたはqtreeのクォータ レポートに記録される使用済みファイル数とディスク スペース容量は、ボリュームまたはqtree内のすべてのinodeに対応する使用済みデータ ブロックの個数によって決まります。

ブロック数には、標準ファイルとストリーム ファイルによって使用される直接ブロックと間接ブロックの両方が含まれます。ディレクトリ、アクセス制御リスト（ACL）、ストリーム ディレクトリ、およびメタファイルによって使用されるブロックは、クォータ レポートの使用済みブロック数にはカウントされません。UNIXのスパース ファイルの場合、空のデータ ブロックはクォータ レポートに含まれません。

クォータ サブシステムは、ユーザが制御できるファイルシステムの要素だけを考慮し、対象とするように設計されています。ディレクトリ、ACL、Snapshotスペースは、いずれもクォータの計算から除外されます。クォータは、容量を保証するものではなく、制限を適用することが目的で、アクティブなファイルシステム上でのみ動作します。クォータの計算では、特定のファイルシステム要素は対象外で、ストレージ効率化（圧縮や重複排除など）も考慮されません。

この手順で説明されているコマンドの詳細については、link:https://docs.netapp.com/us-en/ontap-cli/["ONTAPコマンド リファレンス"^]を参照してください。
