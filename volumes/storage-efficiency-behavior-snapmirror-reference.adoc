---
permalink: volumes/storage-efficiency-behavior-snapmirror-reference.html 
sidebar: sidebar 
keywords: storage, fabricpool, efficiency, temperature, change, efficient, snapmirror, volume, move 
summary: ストレージ効率の動作は、アクティブになっているか同時に開始されている他のストレージ操作の影響を受ける可能性があります。 
---
= ボリューム移動処理とSnapMirror処理でのStorage Efficiencyの動作
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
Storage Efficiencyの動作は、アクティブな他のストレージ処理または同時に開始された他のストレージ処理の影響を受ける可能性があります。これらの処理がStorage Efficiencyに与える影響を理解しておく必要があります。

ボリュームの移動、SnapMirror 関係、FabricPool ボリューム、link:enable-temperature-sensitive-efficiency-concept.html["温度感受性ストレージ効率（TSSE）"]など、他の操作によってボリューム上のストレージ効率が影響を受ける状況がいくつかあります。



== FabricPool

 `all`階層化ポリシーは、データ保護ボリュームで一般的に使用され、データを即座にコールドとしてマークし、できるだけ早く階層化します。データがコールド状態になり階層化されるまでに、最低限の日数が経過するのを待つ必要はありません。

 `all`階層化ポリシーはデータを可能な限り早く階層化するため、32K 効率アダプティブ圧縮（TSSE）などのバックグラウンドプロセスに依存するストレージ効率化を適用する時間が十分にありません。8K圧縮などのインラインストレージ効率化は通常通り適用されます。

次の表に、これらの処理のいずれかを実行した場合のソース ボリュームとデスティネーション ボリュームの動作を示します。

[cols="1,1,1,2,1,1,2"]
|===


| ソース ボリューム効率 3+| デスティネーション ボリュームのデフォルトの動作 3+| TSSEを手動で有効にした後のデフォルトの動作（SnapMirror break後） 


|  | *Storage効率タイプ* | *新しい書き込み* | *コールド データ圧縮* | *Storage効率タイプ* | *新しい書き込み* | *コールド データ圧縮* 


| Storage Efficiencyなし（FASの可能性大） | ファイル圧縮 | 新しく書き込まれたデータについてはインラインでのファイル圧縮を試行 | コールド データ圧縮なし、データの状態を維持 | コールド データ スキャン アルゴリズムによるTSSE（ZSTD圧縮） | 8Kインライン圧縮をTSSE形式で試行 | *ファイル圧縮データ*：N/A + *非圧縮データ*：しきい値日数に達した後に 32K の圧縮を試行 + *新しく書き込まれたデータ*：しきい値日数に達した後に 32K の圧縮を試行 


| Storage Efficiencyなし（FASの可能性大） | ONTAP 9.11.1P10またはONTAP 9.12.1P3を使用しているCシリーズ プラットフォームでのファイル圧縮 | TSSE対応のコールド データ圧縮なし | *ファイル圧縮データ*：N/A | コールド データ スキャン アルゴリズムによるTSSE（ZSTD圧縮） | 8Kインライン圧縮 | *ファイル圧縮データ*：N/A + *非圧縮データ*：しきい値日数に達した後に 32K の圧縮を試行 + *新しく書き込まれたデータ*：しきい値日数に達した後に 32K の圧縮を試行 


| Storage Efficiencyなし（FASの可能性大） | ONTAP 9.12.1P4以降またはONTAP 9.13.1以降を使用しているCシリーズ プラットフォームでのTSSE | 8Kインライン圧縮をTSSE形式で試行 | *ファイル圧縮データ*：N/A + *非圧縮データ*：しきい値日数に達した後に 32K の圧縮を試行 + *新しく書き込まれたデータ*：しきい値日数に達した後に 32K の圧縮を試行 | コールド データ スキャン アルゴリズムによるTSSE（ZSTD圧縮） | 8Kインライン圧縮をTSSE形式で試行 | *ファイル圧縮データ*：N/A + *非圧縮データ*：しきい値日数に達した後に 32K の圧縮を試行 + *新しく書き込まれたデータ*：しきい値日数に達した後に 32K の圧縮を試行 


| ファイル圧縮グループ | ソースと同じ | 新しく書き込まれたデータについてはインラインでのファイル圧縮を試行 | コールド データ圧縮なし、データの状態を維持 | コールド データ スキャン アルゴリズムによるTSSE（ZSTD圧縮） | 8Kインライン圧縮をTSSE形式で試行 | *ファイル圧縮データ*：圧縮されていません + *非圧縮データ*：しきい値日数に達した後に 32K の圧縮が試行されます + *新しく書き込まれたデータ*：しきい値日数に達した後に 32K の圧縮が試行されます 


| TSSEコールド データ スキャン | ソース ボリュームと同じ圧縮アルゴリズムを使用するTSSE（LZOPro -> LZOProとZSTD -> ZSTD） | 8Kインライン圧縮をTSSE形式で試行 | 既存のデータと新しく書き込まれたデータの両方が、しきい値の日数に基づいて「コールド」とみなされたらLZOProで32K圧縮を試行 | TSSEが有効になっています。注：LZOProコールドデータスキャンアルゴリズムはZSTDに変更できます。 | 8Kインライン圧縮をTSSE形式で試行 | 既存のデータと新しく書き込まれたデータの両方が、しきい値の日数に基づいて「コールド」とみなされたら32K圧縮を試行 
|===