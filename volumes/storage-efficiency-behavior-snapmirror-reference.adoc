---
permalink: volumes/storage-efficiency-behavior-snapmirror-reference.html 
sidebar: sidebar 
keywords: storage, fabricpool, efficiency, temperature, change, efficient, snapmirror, volume, move 
summary: ストレージ効率化の動作は、アクティブまたは同時に開始された他のストレージ処理の影響を受けることがあります。 
---
= ボリューム移動処理とSnapMirror処理でのStorage Efficiencyの動作
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
Storage Efficiencyの動作は、アクティブな他のストレージ処理または同時に開始された他のストレージ処理の影響を受ける可能性があります。これらの処理がStorage Efficiencyに与える影響を理解しておく必要があります。

ボリュームのストレージ効率化は、ボリュームの移動、SnapMirror関係、FabricPoolボリューム、などの他の処理の影響を受けることがありますlink:enable-temperature-sensitive-efficiency-concept.html["温度に基づくStorage Efficiency（TSSE）"]。



== FabricPool

 `all`データ保護ボリュームでは、データをすぐにコールドとしてマークしてできるだけ早く階層化するために、一般に階層化ポリシーが使用されます。データがコールドになり、階層化されるまでの最短日数を待つ必要はありません。

階層化ポリシーではできるだけ早くデータが階層化されるため、 `all`32Kの効率的なアダプティブ圧縮（TSSE）などのバックグラウンドプロセスに依存するストレージ効率化を適用する時間が不足します。8K圧縮などのインラインStorage Efficiency機能が通常どおり適用されます。

次の表に、いずれかの処理を実行した場合のソースボリュームとデスティネーションボリュームの動作を示します。

[cols="1,1,1,2,1,1,2"]
|===


| ソースボリュームの効率化 3+| デスティネーションボリュームのデフォルトの動作 3+| 手動でTSSEを有効にしたあとのデフォルトの動作（SnapMirrorの解除後） 


|  | * Storage Efficiencyタイプ* | *新規書き込み* | *コールドデータ圧縮* | * Storage Efficiencyタイプ* | *新規書き込み* | *コールドデータ圧縮* 


| Storage Efficiency機能なし（FASと思われる） | ファイル圧縮 | 新しく書き込まれたデータに対してインラインでファイル圧縮が試行される | コールドデータ圧縮なし、データはそのまま保持 | コールドデータスキャンアルゴリズムをZSTDとして使用するTSSE | 8Kのインライン圧縮がTSSE形式で試行される | *ファイル圧縮データ*：N/A +*非圧縮データ*：しきい値の日数を経過したあとに32Kの圧縮が試行された+*新たに書き込まれたデータ*：しきい値の日数を経過したあとに32Kの圧縮が試行された 


| Storage Efficiency機能なし（FASと思われる） | ONTAP 9 .11.1P10またはONTAP 9 .12.1P3を使用したCシリーズプラットフォームでのファイル圧縮 | TSSE対応のコールドデータ圧縮機能なし | *ファイル圧縮データ*：N/A | コールドデータスキャンアルゴリズムをZSTDとして使用するTSSE | 8Kのインライン圧縮 | *ファイル圧縮データ*：N/A +*非圧縮データ*：しきい値の日数を経過したあとに32Kの圧縮が試行された+*新たに書き込まれたデータ*：しきい値の日数を経過したあとに32Kの圧縮が試行された 


| Storage Efficiency機能なし（FASと思われる） | ONTAP 9 .12.1P4以降またはONTAP 9 .13.1以降を使用するCシリーズプラットフォーム上のTSSE | 8Kのインライン圧縮がTSSE形式で試行される | *ファイル圧縮データ*：N/A +*非圧縮データ*：しきい値の日数を経過したあとに32Kの圧縮が試行された+*新たに書き込まれたデータ*：しきい値の日数を経過したあとに32Kの圧縮が試行された | コールドデータスキャンアルゴリズムをZSTDとして使用するTSSE | 8Kのインライン圧縮がTSSE形式で試行される | *ファイル圧縮データ*：N/A +*非圧縮データ*：しきい値の日数を経過したあとに32Kの圧縮が試行された+*新たに書き込まれたデータ*：しきい値の日数を経過したあとに32Kの圧縮が試行された 


| ファイル圧縮グループ | ソースと同じ | 新しく書き込まれたデータに対してインラインでファイル圧縮が試行される | コールドデータ圧縮なし、データはそのまま保持 | コールドデータスキャンアルゴリズムをZSTDとして使用するTSSE | 8Kのインライン圧縮がTSSE形式で試行される | *ファイル圧縮データ*：圧縮されていない+*非圧縮データ*：しきい値の日数に達したあとに32Kの圧縮が試行される+*新規に書き込まれたデータ*：しきい値の日数に達したあとに32Kの圧縮が試行される 


| TSSEコールドデータスキャン | ソースボリュームと同じ圧縮アルゴリズムを使用するTSSE（LZOPro -> LZOProおよびZSTD -> ZSTD） | TSSE形式で8Kのインライン圧縮が試行されました | 既存データと新しく書き込まれたデータの両方で、しきい値日数ベースの寒さが満たされた後、LzoProで32Kの圧縮が試行されます。 | TSSEが有効。注：LZOProコールドデータスキャンアルゴリズムはZSTDに変更できます。 | 8Kのインライン圧縮がTSSE形式で試行される | 既存データと新規書き込まれたデータの両方が寒さをしきい値日数に達したあとに、32Kの圧縮が試行されます。 
|===